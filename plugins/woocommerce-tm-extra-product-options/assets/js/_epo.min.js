!function(t){function e(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var n=t.originalEvent.changedTouches[0],a=document.createEvent("MouseEvents");a.initMouseEvent(e,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(a)}}if(t.support.touch="ontouchend"in document,t.support.touch){var n,a=t.ui.mouse.prototype,i=a._mouseInit,r=a._mouseDestroy;a._touchStart=function(t){var a=this;!n&&a._mouseCapture(t.originalEvent.changedTouches[0])&&(n=!0,a._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},a._touchMove=function(t){n&&(this._touchMoved=!0,e(t,"mousemove"))},a._touchEnd=function(t){n&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),n=!1)},a._mouseInit=function(){var e=this;e.element.bind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),i.call(e)},a._mouseDestroy=function(){var e=this;e.element.unbind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),r.call(e)}}}(jQuery),function(t,e){function n(t){return!!(""===t||t&&t.charCodeAt&&t.substr)}function a(t){return u?u(t):"[object Array]"===h.call(t)}function i(t){return"[object Object]"===h.call(t)}function r(t,e){var n,t=t||{},e=e||{};for(n in e)e.hasOwnProperty(n)&&null==t[n]&&(t[n]=e[n]);return t}function s(t,e,n){var a,i,r=[];if(!t)return r;if(d&&t.map===d)return t.map(e,n);for(a=0,i=t.length;a<i;a++)r[a]=e.call(n,t[a],a,t);return r}function o(t,e){return t=Math.round(Math.abs(t)),isNaN(t)?e:t}function l(t){var e=c.settings.currency.format;return"function"==typeof t&&(t=t()),n(t)&&t.match("%v")?{pos:t,neg:t.replace("-","").replace("%v","-%v"),zero:t}:t&&t.pos&&t.pos.match("%v")?t:n(e)?c.settings.currency.format={pos:e,neg:e.replace("%v","-%v"),zero:e}:e}var c={version:"0.4.1",settings:{currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}}},d=Array.prototype.map,u=Array.isArray,h=Object.prototype.toString,f=c.unformat=c.parse=function(t,e){if(a(t))return s(t,function(t){return f(t,e)});if(t=t||0,"number"==typeof t)return t;var e=e||".",n=RegExp("[^0-9-"+e+"]",["g"]),n=parseFloat((""+t).replace(/\((.*)\)/,"-$1").replace(n,"").replace(e,"."));return isNaN(n)?0:n},p=c.toFixed=function(t,e){var e=o(e,c.settings.number.precision),n=Math.pow(10,e);return(Math.round(c.unformat(t)*n)/n).toFixed(e)},m=c.formatNumber=c.format=function(t,e,n,l){if(a(t))return s(t,function(t){return m(t,e,n,l)});var t=f(t),d=r(i(e)?e:{precision:e,thousand:n,decimal:l},c.settings.number),u=o(d.precision),h=0>t?"-":"",g=parseInt(p(Math.abs(t||0),u),10)+"",v=3<g.length?g.length%3:0;return h+(v?g.substr(0,v)+d.thousand:"")+g.substr(v).replace(/(\d{3})(?=\d)/g,"$1"+d.thousand)+(u?d.decimal+p(Math.abs(t),u).split(".")[1]:"")},g=c.formatMoney=function(t,e,n,d,u,h){if(a(t))return s(t,function(t){return g(t,e,n,d,u,h)});var t=f(t),p=r(i(e)?e:{symbol:e,precision:n,thousand:d,decimal:u,format:h},c.settings.currency),v=l(p.format);return(0<t?v.pos:0>t?v.neg:v.zero).replace("%s",p.symbol).replace("%v",m(Math.abs(t),o(p.precision),p.thousand,p.decimal))};c.formatColumn=function(t,e,d,u,h,p){if(!t)return[];var g=r(i(e)?e:{symbol:e,precision:d,thousand:u,decimal:h,format:p},c.settings.currency),v=l(g.format),b=v.pos.indexOf("%s")<v.pos.indexOf("%v"),y=0,t=s(t,function(t){return a(t)?c.formatColumn(t,g):(t=f(t),t=(0<t?v.pos:0>t?v.neg:v.zero).replace("%s",g.symbol).replace("%v",m(Math.abs(t),o(g.precision),g.thousand,g.decimal)),t.length>y&&(y=t.length),t)});return s(t,function(t){return n(t)&&t.length<y?b?t.replace(g.symbol,g.symbol+Array(y-t.length+1).join(" ")):Array(y-t.length+1).join(" ")+t:t})},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=c),exports.accounting=c):"function"==typeof define&&define.amd?define([],function(){return c}):(c.noConflict=function(n){return function(){return t.accounting=n,c.noConflict=e,c}}(t.accounting),t.accounting=c)}(this),function(t){"use strict";function e(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",n),window.removeEventListener("load",n)):(document.detachEvent("onreadystatechange",n),window.detachEvent("onload",n))}function n(){(document.addEventListener||"load"===window.event.type||"complete"===document.readyState)&&(e(),jQuery.tcready())}var a;jQuery.fn.tcready=function(t){return jQuery.tcready.promise().done(t),this},jQuery.extend({tcisReady:!1,tcreadyWait:1,tcholdReady:function(t){t?jQuery.tcreadyWait++:jQuery.tcready(!0)},tcready:function(t){(t===!0?--jQuery.tcreadyWait:jQuery.tcisReady)||(jQuery.tcisReady=!0,t!==!0&&--jQuery.tcreadyWait>0||(a.resolveWith(document,[jQuery]),jQuery.fn.triggerHandler&&(jQuery(document).triggerHandler("tcready"),jQuery(document).off("tcready"))))}}),jQuery.tcready.promise=function(t){if(!a)if(a=jQuery.Deferred(),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll)window.setTimeout(jQuery.tcready);else if(document.addEventListener)document.addEventListener("DOMContentLoaded",n),window.addEventListener("load",n);else{document.attachEvent("onreadystatechange",n),window.attachEvent("onload",n);var i=!1;try{i=null==window.frameElement&&document.documentElement}catch(t){}i&&i.doScroll&&!function t(){if(!jQuery.tcisReady){try{i.doScroll("left")}catch(e){return window.setTimeout(t,50)}e(),jQuery.tcready()}}()}return a.promise(t)},jQuery.tcready.promise()}(jQuery),String.prototype.startsWith||!function(){"use strict";var t=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(t){}return n}(),e={}.toString,n=function(t){if(null==this)throw TypeError();var n=String(this);if(t&&"[object RegExp]"==e.call(t))throw TypeError();var a=n.length,i=String(t),r=i.length,s=arguments.length>1?arguments[1]:void 0,o=s?Number(s):0;o!=o&&(o=0);var l=Math.min(Math.max(o,0),a);if(r+l>a)return!1;for(var c=-1;++c<r;)if(n.charCodeAt(l+c)!=i.charCodeAt(c))return!1;return!0};t?t(String.prototype,"startsWith",{value:n,configurable:!0,writable:!0}):String.prototype.startsWith=n}(),String.prototype.endsWith||!function(){"use strict";var t=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(t){}return n}(),e={}.toString,n=function(t){if(null==this)throw TypeError();var n=String(this);if(t&&"[object RegExp]"==e.call(t))throw TypeError();var a=n.length,i=String(t),r=i.length,s=a;if(arguments.length>1){var o=arguments[1];void 0!==o&&(s=o?Number(o):0,s!=s&&(s=0))}var l=Math.min(Math.max(s,0),a),c=l-r;if(c<0)return!1;for(var d=-1;++d<r;)if(n.charCodeAt(c+d)!=i.charCodeAt(d))return!1;return!0};t?t(String.prototype,"endsWith",{value:n,configurable:!0,writable:!0}):String.prototype.endsWith=n}(),function(){"use strict";for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var a=(new Date).getTime(),i=Math.max(0,16-(a-t)),r=window.setTimeout(function(){e(a+i)},i);return t=a+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),function(t){var e=Array.prototype.slice;t.extend(t.event.special,{resizestop:{add:function(e){var n=e.handler;t(this).resize(function(a){clearTimeout(n._timer),a.type="resizestop";var i=t.proxy(n,this,a);n._timer=setTimeout(i,e.data||200)})}},resizestart:{add:function(e){var n=e.handler;t(this).on("resize",function(a){clearTimeout(n._timer),n._started||(a.type="resizestart",n.apply(this,arguments),n._started=!0),n._timer=setTimeout(t.proxy(function(){n._started=!1},this),e.data||300)})}}}),t.extend(t.fn,{resizestop:function(){t(this).on.apply(this,["resizestop"].concat(e.call(arguments)))},resizestart:function(){t(this).on.apply(this,["resizestart"].concat(e.call(arguments)))}})}(jQuery),!function(t){if("function"==typeof define&&define.amd)define(t);else if("object"==typeof exports)module.exports=t();else{var e=window.Cookies,n=window.Cookies=t();n.noConflict=function(){return window.Cookies=e,n}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var a in n)e[a]=n[a]}return e}function e(n){function a(e,i,r){var s;if(arguments.length>1){if(r=t({path:"/"},a.defaults,r),"number"==typeof r.expires){var o=new Date;o.setMilliseconds(o.getMilliseconds()+864e5*r.expires),r.expires=o}try{s=JSON.stringify(i),/^[\{\[]/.test(s)&&(i=s)}catch(t){}return i=n.write?n.write(i,e):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape),document.cookie=[e,"=",i,r.expires&&"; expires="+r.expires.toUTCString(),r.path&&"; path="+r.path,r.domain&&"; domain="+r.domain,r.secure?"; secure":""].join("")}e||(s={});for(var l=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,d=0;d<l.length;d++){var u=l[d].split("="),h=u[0].replace(c,decodeURIComponent),f=u.slice(1).join("=");'"'===f.charAt(0)&&(f=f.slice(1,-1));try{if(f=n.read?n.read(f,h):n(f,h)||f.replace(c,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(t){}if(e===h){s=f;break}e||(s[h]=f)}catch(t){}}return s}return a.get=a.set=a,a.getJSON=function(){return a.apply({json:!0},[].slice.call(arguments))},a.defaults={},a.remove=function(e,n){a(e,"",t(n,{expires:-1}))},a.withConverter=e,a}return e(function(){})}),jQuery.jMaskGlobals={maskElements:".tc-extra-product-options input"},function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery||Zepto)}(function(t){var e=function(e,n,a){var i={invalid:[],getCaret:function(){try{var t,n=0,a=e.get(0),r=document.selection,s=a.selectionStart;return r&&-1===navigator.appVersion.indexOf("MSIE 10")?(t=r.createRange(),t.moveStart("character",-i.val().length),n=t.text.length):(s||"0"===s)&&(n=s),n}catch(t){}},setCaret:function(t){try{if(e.is(":focus")){var n,a=e.get(0);a.setSelectionRange?(a.focus(),a.setSelectionRange(t,t)):(n=a.createTextRange(),n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select())}}catch(t){}},events:function(){e.on("keydown.mask",function(t){e.data("mask-keycode",t.keyCode||t.which)}).on(t.jMaskGlobals.useInput?"input.mask":"keyup.mask",i.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){e.keydown().keyup()},100)}).on("change.mask",function(){e.data("changed",!0)}).on("blur.mask",function(){o===i.val()||e.data("changed")||e.trigger("change"),e.data("changed",!1)}).on("blur.mask",function(){o=i.val()}).on("focus.mask",function(e){!0===a.selectOnFocus&&t(e.target).select()}).on("focusout.mask",function(){a.clearIfNotMatch&&!r.test(i.val())&&i.val("")})},getRegexMask:function(){for(var t,e,a,i,r=[],o=0;o<n.length;o++)(t=s.translation[n.charAt(o)])?(e=t.pattern.toString().replace(/.{1}$|^.{1}/g,""),a=t.optional,(t=t.recursive)?(r.push(n.charAt(o)),i={digit:n.charAt(o),pattern:e}):r.push(a||t?e+"?":e)):r.push(n.charAt(o).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return r=r.join(""),i&&(r=r.replace(new RegExp("("+i.digit+"(.*"+i.digit+")?)"),"($1)?").replace(new RegExp(i.digit,"g"),i.pattern)),new RegExp(r)},destroyEvents:function(){e.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(t){var n=e.is("input")?"val":"text";return 0<arguments.length?(e[n]()!==t&&e[n](t),n=e):n=e[n](),n},getMCharsBeforeCount:function(t,e){for(var a=0,i=0,r=n.length;i<r&&i<t;i++)s.translation[n.charAt(i)]||(t=e?t+1:t,a++);return a},caretPos:function(t,e,a,r){return s.translation[n.charAt(Math.min(t-1,n.length-1))]?Math.min(t+a-e-r,a):i.caretPos(t+1,e,a,r)},behaviour:function(n){n=n||window.event,i.invalid=[];var a=e.data("mask-keycode");if(-1===t.inArray(a,s.byPassKeys)){var r=i.getCaret(),o=i.val().length,l=i.getMasked(),c=l.length,d=i.getMCharsBeforeCount(c-1)-i.getMCharsBeforeCount(o-1),u=r<o;return i.val(l),u&&(8!==a&&46!==a&&(r=i.caretPos(r,o,c,d)),i.setCaret(r)),i.callbacks(n)}},getMasked:function(t,e){var r,o,l=[],c=void 0===e?i.val():e+"",d=0,u=n.length,h=0,f=c.length,p=1,m="push",g=-1;for(a.reverse?(m="unshift",p=-1,r=0,d=u-1,h=f-1,o=function(){return-1<d&&-1<h}):(r=u-1,o=function(){return d<u&&h<f});o();){var v=n.charAt(d),b=c.charAt(h),y=s.translation[v];y?(b.match(y.pattern)?(l[m](b),y.recursive&&(-1===g?g=d:d===r&&(d=g-p),r===g&&(d-=p)),d+=p):y.optional?(d+=p,h-=p):y.fallback?(l[m](y.fallback),d+=p,h-=p):i.invalid.push({p:h,v:b,e:y.pattern}),h+=p):(t||l[m](v),b===v&&(h+=p),d+=p)}return c=n.charAt(r),u!==f+1||s.translation[c]||l.push(c),l.join("")},callbacks:function(t){var r=i.val(),s=r!==o,l=[r,t,e,a],c=function(t,e,n){"function"==typeof a[t]&&e&&a[t].apply(this,n)};c("onChange",!0===s,l),c("onKeyPress",!0===s,l),c("onComplete",r.length===n.length,l),c("onInvalid",0<i.invalid.length,[r,t,e,i.invalid,a])}};e=t(e);var r,s=this,o=i.val();n="function"==typeof n?n(i.val(),void 0,e,a):n,s.mask=n,s.options=a,s.remove=function(){var t=i.getCaret();return i.destroyEvents(),i.val(s.getCleanVal()),i.setCaret(t-i.getMCharsBeforeCount(t)),e},s.getCleanVal=function(){return i.getMasked(!0)},s.getMaskedVal=function(t){return i.getMasked(!1,t)},s.init=function(n){n=n||!1,a=a||{},s.clearIfNotMatch=t.jMaskGlobals.clearIfNotMatch,s.byPassKeys=t.jMaskGlobals.byPassKeys,s.translation=t.extend({},t.jMaskGlobals.translation,a.translation),s=t.extend(!0,{},s,a),r=i.getRegexMask(),!1===n?(a.placeholder&&e.attr("placeholder",a.placeholder),e.data("mask")&&e.attr("autocomplete","off"),i.destroyEvents(),i.events(),n=i.getCaret(),i.val(i.getMasked()),i.setCaret(n+i.getMCharsBeforeCount(n,!0))):(i.events(),i.val(i.getMasked()))},s.init(!e.is("input"))};t.maskWatchers={};var n=function(){var n=t(this),i={},r=n.attr("data-mask");if(n.attr("data-mask-reverse")&&(i.reverse=!0),n.attr("data-mask-clearifnotmatch")&&(i.clearIfNotMatch=!0),"true"===n.attr("data-mask-selectonfocus")&&(i.selectOnFocus=!0),a(n,r,i))return n.data("mask",new e(this,r,i))},a=function(e,n,a){a=a||{};var i=t(e).data("mask"),r=JSON.stringify;e=t(e).val()||t(e).text();try{return"function"==typeof n&&(n=n(e)),"object"!=typeof i||r(i.options)!==r(a)||i.mask!==n}catch(t){}};t.fn.mask=function(n,i){i=i||{};var r=this.selector,s=t.jMaskGlobals,o=s.watchInterval,s=i.watchInputs||s.watchInputs,l=function(){if(a(this,n,i))return t(this).data("mask",new e(this,n,i))};return t(this).each(l),r&&""!==r&&s&&(clearInterval(t.maskWatchers[r]),t.maskWatchers[r]=setInterval(function(){t(document).find(r).each(l)},o)),this},t.fn.masked=function(t){return this.data("mask").getMaskedVal(t)},t.fn.unmask=function(){return clearInterval(t.maskWatchers[this.selector]),delete t.maskWatchers[this.selector],this.each(function(){var e=t(this).data("mask");e&&e.remove().removeData("mask")})},t.fn.cleanVal=function(){return this.data("mask").getCleanVal()},t.applyDataMask=function(e){e=e||t.jMaskGlobals.maskElements,(e instanceof t?e:t(e)).filter(t.jMaskGlobals.dataMaskAttr).each(n)};var i={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,useInput:function(t){var e,n=document.createElement("div");return t="on"+t,e=t in n,e||(n.setAttribute(t,"return;"),e="function"==typeof n[t]),e}("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};t.jMaskGlobals=t.jMaskGlobals||{},i=t.jMaskGlobals=t.extend(!0,{},i,t.jMaskGlobals),i.dataMask&&t.applyDataMask(),setInterval(function(){t.jMaskGlobals.watchDataMask&&t.applyDataMask()},i.watchInterval)}),!function($){"use strict";var escape=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","  ":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},hasOwn=Object.prototype.hasOwnProperty;$.toJSON="object"==typeof JSON&&JSON.stringify?JSON.stringify:function(t){if(null===t)return"null";var e,n,a,i,r=$.type(t);if("undefined"!==r){if("number"===r||"boolean"===r)return String(t);if("string"===r)return $.quoteString(t);if("function"==typeof t.toJSON)return $.toJSON(t.toJSON());if("date"===r){var s=t.getUTCMonth()+1,o=t.getUTCDate(),l=t.getUTCFullYear(),c=t.getUTCHours(),d=t.getUTCMinutes(),u=t.getUTCSeconds(),h=t.getUTCMilliseconds();return 10>s&&(s="0"+s),10>o&&(o="0"+o),10>c&&(c="0"+c),10>d&&(d="0"+d),10>u&&(u="0"+u),100>h&&(h="0"+h),10>h&&(h="0"+h),'"'+l+"-"+s+"-"+o+"T"+c+":"+d+":"+u+"."+h+'Z"'}if(e=[],$.isArray(t)){for(n=0;n<t.length;n++)e.push($.toJSON(t[n])||"null");return"["+e.join(",")+"]"}if("object"==typeof t){for(n in t)if(hasOwn.call(t,n)){if(r=typeof n,"number"===r)a='"'+n+'"';else{if("string"!==r)continue;a=$.quoteString(n)}r=typeof t[n],"function"!==r&&"undefined"!==r&&(i=$.toJSON(t[n]),e.push(a+":"+i))}return"{"+e.join(",")+"}"}}},$.evalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(str){return eval("("+str+")")},$.secureEvalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(str){var filtered=str.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered))return eval("("+str+")");throw new SyntaxError("Error parsing JSON, source is not valid.")},$.quoteString=function(t){return t.match(escape)?'"'+t.replace(escape,function(t){var e=meta[t];return"string"==typeof e?e:(e=t.charCodeAt(),"\\u00"+Math.floor(e/16).toString(16)+(e%16).toString(16))})+'"':'"'+t+'"'}}(jQuery),!function(t,e,n,a){function i(t,e){return t[e]===a?y[e]:t[e]}function r(){var t=e.pageYOffset;return t===a?v.scrollTop:t}function s(t,e){var n=y["on"+t];n&&(x(n)?n.call(e[0]):(n.addClass&&e.addClass(n.addClass),n.removeClass&&e.removeClass(n.removeClass))),e.trigger("lazy"+t,[e]),d()}function o(e){s(e.type,t(this).off(m,o))}function l(n){if(S.length){n=n||y.forceLoad,A=1/0;var a,i,l=r(),c=e.innerHeight||v.clientHeight,d=e.innerWidth||v.clientWidth;for(a=0,i=S.length;i>a;a++){var u,h=S[a],g=h[0],b=h[f],w=!1,_=n||k(g,p)<0;if(t.contains(v,g)){if(n||!b.visibleOnly||g.offsetWidth||g.offsetHeight){if(!_){var C=g.getBoundingClientRect(),E=b.edgeX,P=b.edgeY;u=C.top+l-P-c,_=l>=u&&C.bottom>-P&&C.left<=d+E&&C.right>-E}if(_){h.on(m,o),s("show",h);var M=b.srcAttr,j=x(M)?M(h):g.getAttribute(M);j&&(g.src=j),w=!0}else A>u&&(A=u)}}else w=!0;w&&(k(g,p,0),S.splice(a--,1),i--)}i||s("complete",t(v))}}function c(){E>1?(E=1,l(),setTimeout(c,y.throttle)):E=0}function d(t){S.length&&(t&&"scroll"===t.type&&t.currentTarget===e&&A>=r()||(E||setTimeout(c,0),E=2))}function u(){_.lazyLoadXT()}function h(){l(!0)}var f="lazyLoadXT",p="lazied",m="load error",g="lazy-hidden",v=n.documentElement||n.body,b=e.onscroll===a||!!e.operamini||!v.getBoundingClientRect,y={autoInit:!0,selector:"img[data-src]",blankImage:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",throttle:99,forceLoad:b,loadEvent:"pageshow",updateEvent:"load orientationchange resize scroll touchmove focus",forceEvent:"lazyloadall",oninit:{removeClass:"lazy"},onshow:{addClass:g},onload:{removeClass:g,addClass:"lazy-loaded"},onerror:{removeClass:g},checkDuplicates:!0},w={srcAttr:"data-src",edgeX:0,edgeY:0,visibleOnly:!0},_=t(e),x=t.isFunction,C=t.extend,k=t.data||function(e,n){return t(e).data(n)},S=[],A=0,E=0;t[f]=C(y,w,t[f]),t.fn[f]=function(n){n=n||{};var a,r=i(n,"blankImage"),o=i(n,"checkDuplicates"),l=i(n,"scrollContainer"),c=i(n,"show"),u={};t(l).on("scroll",d);for(a in w)u[a]=i(n,a);return this.each(function(a,i){if(i===e)t(y.selector).lazyLoadXT(n);else{var l=o&&k(i,p),h=t(i).data(p,c?-1:1);if(l)return void d();r&&"IMG"===i.tagName&&!i.src&&(i.src=r),h[f]=C({},u),s("init",h),S.push(h),d()}})},t(n).ready(function(){s("start",_),_.on(y.updateEvent,d).on(y.forceEvent,h),t(n).on(y.updateEvent,d),y.autoInit&&(_.on(y.loadEvent,u),u())})}(window.jQuery||window.Zepto||window.$,window,document),function(t){var e=t.lazyLoadXT;e.selector+=",video,iframe[data-src]",e.videoPoster="data-poster",t(document).on("lazyshow","video",function(n,a){var i=a.lazyLoadXT.srcAttr,r=t.isFunction(i),s=!1;a.attr("poster",a.attr(e.videoPoster)),a.children("source,track").each(function(e,n){var a=t(n),o=r?i(a):a.attr(i);o&&(a.attr("src",o),s=!0)}),s&&this.load()})}(window.jQuery||window.Zepto||window.$),function(t){t.extend(t.lazyLoadXT,{autoInit:!1,updateEvent:t.lazyLoadXT.updateEvent+" tmlazy"})}(jQuery),function(){"use strict";function t(t){return t.split("").reverse().join("")}function e(t,e){return t.substring(0,e.length)===e}function n(t,e){return t.slice(-1*e.length)===e}function a(t,e,n){if((t[e]||t[n])&&t[e]===t[n])throw new Error(e)}function i(t){return"number"==typeof t&&isFinite(t)}function r(t,e){var n=Math.pow(10,e);return(Math.round(t*n)/n).toFixed(e)}function s(e,n,a,s,o,l,c,d,u,h,f,p){var m,g,v,b=p,y="",w="";return l&&(p=l(p)),!!i(p)&&(e!==!1&&0===parseFloat(p.toFixed(e))&&(p=0),p<0&&(m=!0,p=Math.abs(p)),e!==!1&&(p=r(p,e)),p=p.toString(),p.indexOf(".")!==-1?(g=p.split("."),v=g[0],a&&(y=a+g[1])):v=p,n&&(v=t(v).match(/.{1,3}/g),v=t(v.join(t(n)))),m&&d&&(w+=d),s&&(w+=s),m&&u&&(w+=u),w+=v,w+=y,o&&(w+=o),h&&(w=h(w,b)),w)}function o(t,a,r,s,o,l,c,d,u,h,f,p){var m,g="";return f&&(p=f(p)),!(!p||"string"!=typeof p)&&(d&&e(p,d)&&(p=p.replace(d,""),m=!0),s&&e(p,s)&&(p=p.replace(s,"")),u&&e(p,u)&&(p=p.replace(u,""),m=!0),o&&n(p,o)&&(p=p.slice(0,-1*o.length)),a&&(p=p.split(a).join("")),r&&(p=p.replace(r,".")),m&&(g+="-"),g+=p,g=g.replace(/[^0-9\.\-.]/g,""),""!==g&&(g=Number(g),c&&(g=c(g)),!!i(g)&&g))}function l(t){var e,n,i,r={};for(e=0;e<u.length;e+=1)if(n=u[e],i=t[n],void 0===i)"negative"!==n||r.negativeBefore?"mark"===n&&"."!==r.thousand?r[n]=".":r[n]=!1:r[n]="-";else if("decimals"===n){if(!(i>=0&&i<8))throw new Error(n);r[n]=i}else if("encoder"===n||"decoder"===n||"edit"===n||"undo"===n){if("function"!=typeof i)throw new Error(n);r[n]=i}else{if("string"!=typeof i)throw new Error(n);r[n]=i}return a(r,"mark","thousand"),a(r,"prefix","negative"),a(r,"prefix","negativeBefore"),r}function c(t,e,n){var a,i=[];for(a=0;a<u.length;a+=1)i.push(t[u[a]]);return i.push(n),e.apply("",i)}function d(t){return this instanceof d?void("object"==typeof t&&(t=l(t),this.to=function(e){return c(t,s,e)},this.from=function(e){return c(t,o,e)})):new d(t)}var u=["decimals","thousand","mark","prefix","postfix","encoder","decoder","negativeBefore","negative","edit","undo"];window.wNumb=d}(),!function(t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():window.noUiSlider=t()}(function(){"use strict";function t(t){return t.filter(function(t){return!this[t]&&(this[t]=!0)},{})}function e(t,e){return Math.round(t/e)*e}function n(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,a=n.documentElement,i=u();return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(i.x=0),{top:e.top+i.y-a.clientTop,left:e.left+i.x-a.clientLeft}}function a(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function i(t,e,n){l(t,e),setTimeout(function(){c(t,e)},n)}function r(t){return Math.max(Math.min(t,100),0)}function s(t){return Array.isArray(t)?t:[t]}function o(t){var e=t.split(".");return e.length>1?e[1].length:0}function l(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function c(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function d(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}function u(){var t=void 0!==window.pageXOffset,e="CSS1Compat"===(document.compatMode||""),n=t?window.pageXOffset:e?document.documentElement.scrollLeft:document.body.scrollLeft,a=t?window.pageYOffset:e?document.documentElement.scrollTop:document.body.scrollTop;return{x:n,y:a}}function h(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function f(t,e){return 100/(e-t)}function p(t,e){return 100*e/(t[1]-t[0])}function m(t,e){return p(t,t[0]<0?e+Math.abs(t[0]):e-t[0])}function g(t,e){return e*(t[1]-t[0])/100+t[0]}function v(t,e){for(var n=1;t>=e[n];)n+=1;return n}function b(t,e,n){if(n>=t.slice(-1)[0])return 100;var a,i,r,s,o=v(n,t);return a=t[o-1],i=t[o],r=e[o-1],s=e[o],r+m([a,i],n)/f(r,s)}function y(t,e,n){if(n>=100)return t.slice(-1)[0];var a,i,r,s,o=v(n,e);return a=t[o-1],i=t[o],r=e[o-1],s=e[o],g([a,i],(n-r)*f(r,s))}function w(t,n,a,i){if(100===i)return i;var r,s,o=v(i,t);return a?(r=t[o-1],s=t[o],i-r>(s-r)/2?s:r):n[o-1]?t[o-1]+e(i-t[o-1],n[o-1]):i}function _(t,e,n){var i;if("number"==typeof e&&(e=[e]),"[object Array]"!==Object.prototype.toString.call(e))throw new Error("noUiSlider: 'range' contains invalid value.");if(i="min"===t?0:"max"===t?100:parseFloat(t),!a(i)||!a(e[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");n.xPct.push(i),n.xVal.push(e[0]),i?n.xSteps.push(!isNaN(e[1])&&e[1]):isNaN(e[1])||(n.xSteps[0]=e[1])}function x(t,e,n){return!e||void(n.xSteps[t]=p([n.xVal[t],n.xVal[t+1]],e)/f(n.xPct[t],n.xPct[t+1]))}function C(t,e,n,a){this.xPct=[],this.xVal=[],this.xSteps=[a||!1],this.xNumSteps=[!1],this.snap=e,this.direction=n;var i,r=[];for(i in t)t.hasOwnProperty(i)&&r.push([t[i],i]);for(r.length&&"object"==typeof r[0][0]?r.sort(function(t,e){return t[0][0]-e[0][0]}):r.sort(function(t,e){return t[0]-e[0]}),i=0;i<r.length;i++)_(r[i][1],r[i][0],this);for(this.xNumSteps=this.xSteps.slice(0),i=0;i<this.xNumSteps.length;i++)x(i,this.xNumSteps[i],this)}function k(t,e){if(!a(e))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=e}function S(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");if(e.min===e.max)throw new Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.");t.spectrum=new C(e,t.snap,t.dir,t.singleStep)}function A(t,e){if(e=s(e),!Array.isArray(e)||!e.length||e.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");t.handles=e.length,t.start=e}function E(t,e){if(t.snap=e,"boolean"!=typeof e)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function P(t,e){if(t.animate=e,"boolean"!=typeof e)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function M(t,e){if(t.animationDuration=e,"number"!=typeof e)throw new Error("noUiSlider: 'animationDuration' option must be a number.")}function j(t,e){if("lower"===e&&1===t.handles)t.connect=1;else if("upper"===e&&1===t.handles)t.connect=2;else if(e===!0&&2===t.handles)t.connect=3;else{if(e!==!1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");t.connect=0}}function N(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function I(t,e){if(!a(e))throw new Error("noUiSlider: 'margin' option must be numeric.");if(0!==e&&(t.margin=t.spectrum.getMargin(e),!t.margin))throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function O(t,e){if(!a(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(e),!t.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function T(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1,t.connect=[0,2,1,3][t.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function z(t,e){if("string"!=typeof e)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=e.indexOf("tap")>=0,a=e.indexOf("drag")>=0,i=e.indexOf("fixed")>=0,r=e.indexOf("snap")>=0,s=e.indexOf("hover")>=0;if(a&&!t.connect)throw new Error("noUiSlider: 'drag' behaviour must be used with 'connect': true.");t.events={tap:n||r,drag:a,fixed:i,snap:r,hover:s}}function R(t,e){var n;if(e!==!1)if(e===!0)for(t.tooltips=[],n=0;n<t.handles;n++)t.tooltips.push(!0);else{if(t.tooltips=s(e),t.tooltips.length!==t.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");t.tooltips.forEach(function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})}}function F(t,e){if(t.format=e,"function"==typeof e.to&&"function"==typeof e.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function L(t,e){if(void 0!==e&&"string"!=typeof e&&e!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function q(t,e){if(void 0!==e&&"object"!=typeof e)throw new Error("noUiSlider: 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix){t.cssClasses={};for(var n in e)e.hasOwnProperty(n)&&(t.cssClasses[n]=t.cssPrefix+e[n])}else t.cssClasses=e}function H(t){var e,n={margin:0,limit:0,animate:!0,animationDuration:300,format:$};e={step:{r:!1,t:k},start:{r:!0,t:A},connect:{r:!0,t:j},direction:{r:!0,t:T},snap:{r:!1,t:E},animate:{r:!1,t:P},animationDuration:{r:!1,t:M},range:{r:!0,t:S},orientation:{r:!1,t:N},margin:{r:!1,t:I},limit:{r:!1,t:O},behaviour:{r:!0,t:z},format:{r:!1,t:F},tooltips:{r:!1,t:R},cssPrefix:{r:!1,t:L},cssClasses:{r:!1,t:q}};var a={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",stacking:"stacking",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};return Object.keys(e).forEach(function(i){if(void 0===t[i]&&void 0===a[i]){if(e[i].r)throw new Error("noUiSlider: '"+i+"' is required.");return!0}e[i].t(n,void 0===t[i]?a[i]:t[i])}),n.pips=t.pips,n.style=n.ort?"top":"left",n}function D(e,a,f){function p(t,e,n){var a=t+e[0],i=t+e[1];return n?(0>a&&(i+=Math.abs(a)),i>100&&(a-=i-100),[r(a),r(i)]):[a,i]}function m(t,e){t.preventDefault();var n,a,i=0===t.type.indexOf("touch"),r=0===t.type.indexOf("mouse"),s=0===t.type.indexOf("pointer"),o=t;return 0===t.type.indexOf("MSPointer")&&(s=!0),i&&(n=t.changedTouches[0].pageX,a=t.changedTouches[0].pageY),e=e||u(),(r||s)&&(n=t.clientX+e.x,a=t.clientY+e.y),o.pageOffset=e,o.points=[n,a],o.cursor=r||s,o}function g(t,e){var n=document.createElement("div"),i=document.createElement("div"),r=[a.cssClasses.handleLower,a.cssClasses.handleUpper];return t&&r.reverse(),l(i,a.cssClasses.handle),l(i,r[e]),l(n,a.cssClasses.origin),n.appendChild(i),n}function v(t,e,n){switch(t){case 1:l(e,a.cssClasses.connect),l(n[0],a.cssClasses.background);break;case 3:l(n[1],a.cssClasses.background);case 2:l(n[0],a.cssClasses.connect);case 0:l(e,a.cssClasses.background)}}function b(t,e,n){var a,i=[];for(a=0;t>a;a+=1)i.push(n.appendChild(g(e,a)));return i}function y(t,e,n){l(n,a.cssClasses.target),0===t?l(n,a.cssClasses.ltr):l(n,a.cssClasses.rtl),0===e?l(n,a.cssClasses.horizontal):l(n,a.cssClasses.vertical);var i=document.createElement("div");return l(i,a.cssClasses.base),n.appendChild(i),i}function w(t,e){if(!a.tooltips[e])return!1;
var n=document.createElement("div");return n.className=a.cssClasses.tooltip,t.firstChild.appendChild(n)}function _(){a.dir&&a.tooltips.reverse();var t=J.map(w);a.dir&&(t.reverse(),a.tooltips.reverse()),W("update",function(e,n,i){t[n]&&(t[n].innerHTML=a.tooltips[n]===!0?e[n]:a.tooltips[n].to(i[n]))})}function x(t,e,n){if("range"===t||"steps"===t)return K.xVal;if("count"===t){var a,i=100/(e-1),r=0;for(e=[];(a=r++*i)<=100;)e.push(a);t="positions"}return"positions"===t?e.map(function(t){return K.fromStepping(n?K.getStep(t):t)}):"values"===t?n?e.map(function(t){return K.fromStepping(K.getStep(K.toStepping(t)))}):e:void 0}function C(e,n,a){function i(t,e){return(t+e).toFixed(7)/1}var r=K.direction,s={},o=K.xVal[0],l=K.xVal[K.xVal.length-1],c=!1,d=!1,u=0;return K.direction=0,a=t(a.slice().sort(function(t,e){return t-e})),a[0]!==o&&(a.unshift(o),c=!0),a[a.length-1]!==l&&(a.push(l),d=!0),a.forEach(function(t,r){var o,l,h,f,p,m,g,v,b,y,w=t,_=a[r+1];if("steps"===n&&(o=K.xNumSteps[r]),o||(o=_-w),w!==!1&&void 0!==_)for(l=w;_>=l;l=i(l,o)){for(f=K.toStepping(l),p=f-u,v=p/e,b=Math.round(v),y=p/b,h=1;b>=h;h+=1)m=u+h*y,s[m.toFixed(5)]=["x",0];g=a.indexOf(l)>-1?1:"steps"===n?2:0,!r&&c&&(g=0),l===_&&d||(s[f.toFixed(5)]=[l,g]),u=f}}),K.direction=r,s}function k(t,e,n){function i(t,e){var n=e===a.cssClasses.value,i=n?h:f,r=n?d:u;return e+" "+i[a.ort]+" "+r[t]}function r(t,e,n){return'class="'+i(n[1],e)+'" style="'+a.style+": "+t+'%"'}function s(t,i){K.direction&&(t=100-t),i[1]=i[1]&&e?e(i[0],i[1]):i[1],c+="<div "+r(t,a.cssClasses.marker,i)+"></div>",i[1]&&(c+="<div "+r(t,a.cssClasses.value,i)+">"+n.to(i[0])+"</div>")}var o=document.createElement("div"),c="",d=[a.cssClasses.valueNormal,a.cssClasses.valueLarge,a.cssClasses.valueSub],u=[a.cssClasses.markerNormal,a.cssClasses.markerLarge,a.cssClasses.markerSub],h=[a.cssClasses.valueHorizontal,a.cssClasses.valueVertical],f=[a.cssClasses.markerHorizontal,a.cssClasses.markerVertical];return l(o,a.cssClasses.pips),l(o,0===a.ort?a.cssClasses.pipsHorizontal:a.cssClasses.pipsVertical),Object.keys(t).forEach(function(e){s(e,t[e])}),o.innerHTML=c,o}function S(t){var e=t.mode,n=t.density||1,a=t.filter||!1,i=t.values||!1,r=t.stepped||!1,s=x(e,i,r),o=C(n,e,s),l=t.format||{to:Math.round};return Y.appendChild(k(o,a,l))}function A(){var t=V.getBoundingClientRect(),e="offset"+["Width","Height"][a.ort];return 0===a.ort?t.width||V[e]:t.height||V[e]}function E(t,e,n){var i;for(i=0;i<a.handles;i++)if(-1===Z[i])return;void 0!==e&&1!==a.handles&&(e=Math.abs(e-a.dir)),Object.keys(et).forEach(function(a){var i=a.split(".")[0];t===i&&et[a].forEach(function(t){t.call(X,s(D()),e,s(P(Array.prototype.slice.call(tt))),n||!1,Z)})})}function P(t){return 1===t.length?t[0]:a.dir?t.reverse():t}function M(t,e,n,i){var r=function(e){return!Y.hasAttribute("disabled")&&(!d(Y,a.cssClasses.tap)&&(e=m(e,i.pageOffset),!(t===G.start&&void 0!==e.buttons&&e.buttons>1)&&((!i.hover||!e.buttons)&&(e.calcPoint=e.points[a.ort],void n(e,i)))))},s=[];return t.split(" ").forEach(function(t){e.addEventListener(t,r,!1),s.push([t,r])}),s}function j(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return N(t,e);var n,a,i=e.handles||J,r=!1,s=100*(t.calcPoint-e.start)/e.baseSize,o=i[0]===J[0]?0:1;if(n=p(s,e.positions,i.length>1),r=F(i[0],n[o],1===i.length),i.length>1){if(r=F(i[1],n[o?0:1],!1)||r)for(a=0;a<e.handles.length;a++)E("slide",a)}else r&&E("slide",o)}function N(t,e){var n=V.querySelector("."+a.cssClasses.active),i=e.handles[0]===J[0]?0:1;null!==n&&c(n,a.cssClasses.active),t.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener));var r=document.documentElement;r.noUiListeners.forEach(function(t){r.removeEventListener(t[0],t[1])}),c(Y,a.cssClasses.drag),E("set",i),E("change",i),void 0!==e.handleNumber&&E("end",e.handleNumber)}function I(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&N(t,e)}function O(t,e){var n=document.documentElement;if(1===e.handles.length){if(e.handles[0].hasAttribute("disabled"))return!1;l(e.handles[0].children[0],a.cssClasses.active)}t.preventDefault(),t.stopPropagation();var i=M(G.move,n,j,{start:t.calcPoint,baseSize:A(),pageOffset:t.pageOffset,handles:e.handles,handleNumber:e.handleNumber,buttonsProperty:t.buttons,positions:[Z[0],Z[J.length-1]]}),r=M(G.end,n,N,{handles:e.handles,handleNumber:e.handleNumber}),s=M("mouseout",n,I,{handles:e.handles,handleNumber:e.handleNumber});if(n.noUiListeners=i.concat(r,s),t.cursor){document.body.style.cursor=getComputedStyle(t.target).cursor,J.length>1&&l(Y,a.cssClasses.drag);var o=function(){return!1};document.body.noUiListener=o,document.body.addEventListener("selectstart",o,!1)}void 0!==e.handleNumber&&E("start",e.handleNumber)}function T(t){var e,r,s=t.calcPoint,o=0;return t.stopPropagation(),J.forEach(function(t){o+=n(t)[a.style]}),e=o/2>s||1===J.length?0:1,J[e].hasAttribute("disabled")&&(e=e?0:1),s-=n(V)[a.style],r=100*s/A(),a.events.snap||i(Y,a.cssClasses.tap,a.animationDuration),!J[e].hasAttribute("disabled")&&(F(J[e],r),E("slide",e,!0),E("set",e,!0),E("change",e,!0),void(a.events.snap&&O(t,{handles:[J[e]]})))}function z(t){var e=t.calcPoint-n(V)[a.style],i=K.getStep(100*e/A()),r=K.fromStepping(i);Object.keys(et).forEach(function(t){"hover"===t.split(".")[0]&&et[t].forEach(function(t){t.call(X,r)})})}function R(t){if(t.fixed||J.forEach(function(t,e){M(G.start,t.children[0],O,{handles:[t],handleNumber:e})}),t.tap&&M(G.start,V,T,{handles:J}),t.hover&&M(G.move,V,z,{hover:!0}),t.drag){var e=[V.querySelector("."+a.cssClasses.connect)];l(e[0],a.cssClasses.draggable),t.fixed&&e.push(J[e[0]===J[0]?1:0].children[0]),e.forEach(function(t){M(G.start,t,O,{handles:J})})}}function F(t,e,n){var i=t!==J[0]?1:0,s=Z[0]+a.margin,o=Z[1]-a.margin,d=Z[0]+a.limit,u=Z[1]-a.limit;return J.length>1&&(e=i?Math.max(e,s):Math.min(e,o)),n!==!1&&a.limit&&J.length>1&&(e=i?Math.min(e,d):Math.max(e,u)),e=K.getStep(e),e=r(e),e!==Z[i]&&(window.requestAnimationFrame?window.requestAnimationFrame(function(){t.style[a.style]=e+"%"}):t.style[a.style]=e+"%",t.previousSibling||(c(t,a.cssClasses.stacking),e>50&&l(t,a.cssClasses.stacking)),Z[i]=e,tt[i]=K.fromStepping(e),E("update",i),!0)}function L(t,e){var n,i,r;for(a.limit&&(t+=1),n=0;t>n;n+=1)i=n%2,r=e[i],null!==r&&r!==!1&&("number"==typeof r&&(r=String(r)),r=a.format.from(r),(r===!1||isNaN(r)||F(J[i],K.toStepping(r),n===3-a.dir)===!1)&&E("update",i))}function q(t,e){var n,r,o=s(t);for(e=void 0===e||!!e,a.dir&&a.handles>1&&o.reverse(),a.animate&&-1!==Z[0]&&i(Y,a.cssClasses.tap,a.animationDuration),n=J.length>1?3:1,1===o.length&&(n=1),L(n,o),r=0;r<J.length;r++)null!==o[r]&&e&&E("set",r)}function D(){var t,e=[];for(t=0;t<a.handles;t+=1)e[t]=a.format.to(tt[t]);return P(e)}function U(){for(var t in a.cssClasses)a.cssClasses.hasOwnProperty(t)&&c(Y,a.cssClasses[t]);for(;Y.firstChild;)Y.removeChild(Y.firstChild);delete Y.noUiSlider}function $(){var t=Z.map(function(t,e){var n=K.getApplicableStep(t),a=o(String(n[2])),i=tt[e],r=100===t?null:n[2],s=Number((i-n[2]).toFixed(a)),l=0===t?null:s>=n[1]?n[2]:n[0]||!1;return[l,r]});return P(t)}function W(t,e){et[t]=et[t]||[],et[t].push(e),"update"===t.split(".")[0]&&J.forEach(function(t,e){E("update",e)})}function B(t){var e=t&&t.split(".")[0],n=e&&t.substring(e.length);Object.keys(et).forEach(function(t){var a=t.split(".")[0],i=t.substring(a.length);e&&e!==a||n&&n!==i||delete et[t]})}function Q(t,e){var n=D(),i=H({start:[0,0],margin:t.margin,limit:t.limit,step:void 0===t.step?a.singleStep:t.step,range:t.range,animate:t.animate,snap:void 0===t.snap?a.snap:t.snap});["margin","limit","range","animate"].forEach(function(e){void 0!==t[e]&&(a[e]=t[e])}),i.spectrum.direction=K.direction,K=i.spectrum,Z=[-1,-1],q(t.start||n,e)}var V,J,X,G=h(),Y=e,Z=[-1,-1],K=a.spectrum,tt=[],et={};if(Y.noUiSlider)throw new Error("Slider was already initialized.");return V=y(a.dir,a.ort,Y),J=b(a.handles,a.dir,V),v(a.connect,Y,J),a.pips&&S(a.pips),a.tooltips&&_(),X={destroy:U,steps:$,on:W,off:B,get:D,set:q,updateOptions:Q,options:f,target:Y,pips:S},R(a.events),X}function U(t,e){if(!t.nodeName)throw new Error("noUiSlider.create requires a single element.");var n=H(e,t),a=D(t,n,e);return a.set(n.start),t.noUiSlider=a,a}C.prototype.getMargin=function(t){return 2===this.xPct.length&&p(this.xVal,t)},C.prototype.toStepping=function(t){return t=b(this.xVal,this.xPct,t),this.direction&&(t=100-t),t},C.prototype.fromStepping=function(t){return this.direction&&(t=100-t),y(this.xVal,this.xPct,t)},C.prototype.getStep=function(t){return this.direction&&(t=100-t),t=w(this.xPct,this.xSteps,this.snap,t),this.direction&&(t=100-t),t},C.prototype.getApplicableStep=function(t){var e=v(t,this.xPct),n=100===t?2:1;return[this.xNumSteps[e-2],this.xVal[e-n],this.xNumSteps[e-n]]},C.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var $={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number};return{create:U}}),!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jquery")):t(jQuery)}(function(t,e){"use strict";function n(e,n,a,i){for(var r=[],s=0;s<e.length;s++){var o=e[s];if(o){var l=tinycolor(o),c=l.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";c+=tinycolor.equals(n,o)?" sp-thumb-active":"";var d=l.toString(i.preferredFormat||"rgb"),u=g?"background-color:"+l.toRgbString():"filter:"+l.toFilter();r.push('<span title="'+d+'" data-color="'+l.toRgbString()+'" class="'+c+'"><span class="sp-thumb-inner" style="'+u+';" /></span>')}else{var h="sp-clear-display";r.push(t("<div />").append(t('<span data-color="" style="background-color:transparent;" class="'+h+'"></span>').attr("title",i.noColorSelectedText)).html())}}return"<div class='sp-cf "+a+"'>"+r.join("")+"</div>"}function a(){for(var t=0;t<p.length;t++)p[t]&&p[t].hide()}function i(e,n){var a=t.extend({},f,e);return a.callbacks={move:c(a.move,n),change:c(a.change,n),show:c(a.show,n),hide:c(a.hide,n),beforeShow:c(a.beforeShow,n)},a}function r(r,o){function c(){if(Q.showPaletteOnly&&(Q.showPalette=!0),Lt.text(Q.showPaletteOnly?Q.togglePaletteMoreText:Q.togglePaletteLessText),Q.palette){ft=Q.palette.slice(0),pt=t.isArray(ft[0])?ft:[ft],mt={};for(var e=0;e<pt.length;e++)for(var n=0;n<pt[e].length;n++){var a=tinycolor(pt[e][n]).toRgbString();mt[a]=!0}}Ct.toggleClass("sp-flat",V),Ct.toggleClass("sp-input-disabled",!Q.showInput),Ct.toggleClass("sp-alpha-enabled",Q.showAlpha),Ct.toggleClass("sp-clear-enabled",Gt),Ct.toggleClass("sp-buttons-disabled",!Q.showButtons),Ct.toggleClass("sp-palette-buttons-disabled",!Q.togglePaletteOnly),Ct.toggleClass("sp-palette-disabled",!Q.showPalette),Ct.toggleClass("sp-palette-only",Q.showPaletteOnly),Ct.toggleClass("sp-initial-disabled",!Q.showInitial),Ct.addClass(Q.className).addClass(Q.containerClassName),H()}function f(){function e(e){return e.data&&e.data.ignore?(O(t(e.target).closest(".sp-thumb-el").data("color")),R()):(O(t(e.target).closest(".sp-thumb-el").data("color")),R(),Q.hideAfterPaletteSelect?(q(!0),N()):q()),!1}if(m&&Ct.find("*:not(input)").attr("unselectable","on"),c(),Dt&&_t.after(Ut).hide(),Gt||Rt.hide(),V)_t.after(Ct).hide();else{var n="parent"===Q.appendTo?_t.parent():t(Q.appendTo);1!==n.length&&(n=t("body")),n.append(Ct)}y(),$t.on("click.spectrum touchstart.spectrum",function(e){xt||E(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()}),(_t.is(":disabled")||Q.disabled===!0)&&W(),Ct.click(l),It.change(A),It.on("paste",function(){setTimeout(A,1)}),It.keydown(function(t){13==t.keyCode&&A()}),zt.text(Q.cancelText),zt.on("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),I(),N()}),Rt.attr("title",Q.clearText),Rt.on("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Xt=!0,R(),V&&q(!0)}),Ft.text(Q.chooseText),Ft.on("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),m&&It.is(":focus")&&It.trigger("change"),z()&&(q(!0),N())}),Lt.text(Q.showPaletteOnly?Q.togglePaletteMoreText:Q.togglePaletteLessText),Lt.on("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Q.showPaletteOnly=!Q.showPaletteOnly,Q.showPaletteOnly||V||Ct.css("left","-="+(kt.outerWidth(!0)+5)),c()}),d(jt,function(t,e,n){ht=t/st,Xt=!1,n.shiftKey&&(ht=Math.round(10*ht)/10),R()},k,S),d(Et,function(t,e){ct=parseFloat(e/it),Xt=!1,Q.showAlpha||(ht=1),R()},k,S),d(St,function(t,e,n){if(n.shiftKey){if(!yt){var a=dt*et,i=nt-ut*nt,r=Math.abs(t-a)>Math.abs(e-i);yt=r?"x":"y"}}else yt=null;var s=!yt||"x"===yt,o=!yt||"y"===yt;s&&(dt=parseFloat(t/et)),o&&(ut=parseFloat((nt-e)/nt)),Xt=!1,Q.showAlpha||(ht=1),R()},k,S),Bt?(O(Bt),F(),Vt=Q.preferredFormat||tinycolor(Bt).format,w(Bt)):F(),V&&P();var a=m?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Ot.on(a,".sp-thumb-el",e),Tt.on(a,".sp-thumb-el:nth-child(1)",{ignore:!0},e)}function y(){if(X&&window.localStorage){try{var e=window.localStorage[X].split(",#");e.length>1&&(delete window.localStorage[X],t.each(e,function(t,e){w(e)}))}catch(t){}try{gt=window.localStorage[X].split(";")}catch(t){}}}function w(e){if(J){var n=tinycolor(e).toRgbString();if(!mt[n]&&-1===t.inArray(n,gt))for(gt.push(n);gt.length>vt;)gt.shift();if(X&&window.localStorage)try{window.localStorage[X]=gt.join(";")}catch(t){}}}function _(){var t=[];if(Q.showPalette)for(var e=0;e<gt.length;e++){var n=tinycolor(gt[e]).toRgbString();mt[n]||t.push(gt[e])}return t.reverse().slice(0,Q.maxSelectionSize)}function x(){var e=T(),a=t.map(pt,function(t,a){return n(t,e,"sp-palette-row sp-palette-row-"+a,Q)});y(),gt&&a.push(n(_(),e,"sp-palette-row sp-palette-row-selection",Q)),Ot.html(a.join(""))}function C(){if(Q.showInitial){var t=Qt,e=T();Tt.html(n([t,e],e,"sp-palette-row-initial",Q))}}function k(){(0>=nt||0>=et||0>=it)&&H(),tt=!0,Ct.addClass(bt),yt=null,_t.trigger("dragstart.spectrum",[T()])}function S(){tt=!1,Ct.removeClass(bt),_t.trigger("dragstop.spectrum",[T()])}function A(){var t=It.val();if(null!==t&&""!==t||!Gt){var e=tinycolor(t);e.isValid()?(O(e),R(),q()):It.addClass("sp-validation-error")}else O(null),R(),q()}function E(){K?N():P()}function P(){var e=t.Event("beforeShow.spectrum");return K?void H():(_t.trigger(e,[T()]),void(Y.beforeShow(T())===!1||e.isDefaultPrevented()||(a(),K=!0,t(wt).on("keydown.spectrum",M),t(wt).on("click.spectrum",j),t(window).on("resize.spectrum",Z),Ut.addClass("sp-active"),Ct.removeClass("sp-hidden"),H(),F(),Qt=T(),C(),Y.show(Qt),_t.trigger("show.spectrum",[Qt]))))}function M(t){27===t.keyCode&&N()}function j(t){2!=t.button&&(tt||(Jt?q(!0):I(),N()))}function N(){K&&!V&&(K=!1,t(wt).off("keydown.spectrum",M),t(wt).off("click.spectrum",j),t(window).off("resize.spectrum",Z),Ut.removeClass("sp-active"),Ct.addClass("sp-hidden"),Y.hide(T()),_t.trigger("hide.spectrum",[T()]))}function I(){O(Qt,!0),q(!0)}function O(t,e){if(tinycolor.equals(t,T()))return void F();var n,a;!t&&Gt?Xt=!0:(Xt=!1,n=tinycolor(t),a=n.toHsv(),ct=a.h%360/360,dt=a.s,ut=a.v,ht=a.a),F(),n&&n.isValid()&&!e&&(Vt=Q.preferredFormat||n.getFormat())}function T(t){return t=t||{},Gt&&Xt?null:tinycolor.fromRatio({h:ct,s:dt,v:ut,a:Math.round(1e3*ht)/1e3},{format:t.format||Vt})}function z(){return!It.hasClass("sp-validation-error")}function R(){F(),Y.move(T()),_t.trigger("move.spectrum",[T()])}function F(){It.removeClass("sp-validation-error"),L();var t=tinycolor.fromRatio({h:ct,s:1,v:1});St.css("background-color",t.toHexString());var e=Vt;1>ht&&(0!==ht||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb"));var n=T({format:e}),a="";if(Wt.removeClass("sp-clear-display"),Wt.css("background-color","transparent"),!n&&Gt)Wt.addClass("sp-clear-display");else{var i=n.toHexString(),r=n.toRgbString();if(g||1===n.alpha?Wt.css("background-color",r):(Wt.css("background-color","transparent"),Wt.css("filter",n.toFilter())),Q.showAlpha){var s=n.toRgb();s.a=0;var o=tinycolor(s).toRgbString(),l="linear-gradient(left, "+o+", "+i+")";m?Mt.css("filter",tinycolor(o).toFilter({gradientType:1},i)):(Mt.css("background","-webkit-"+l),Mt.css("background","-moz-"+l),Mt.css("background","-ms-"+l),Mt.css("background","linear-gradient(to right, "+o+", "+i+")"))}a=n.toString(e)}Q.showInput&&It.val(a),Q.showPalette&&x(),C()}function L(){var t=dt,e=ut;if(Gt&&Xt)Nt.hide(),Pt.hide(),At.hide();else{Nt.show(),Pt.show(),At.show();var n=t*et,a=nt-e*nt;n=Math.max(-at,Math.min(et-at,n-at)),a=Math.max(-at,Math.min(nt-at,a-at)),At.css({top:a+"px",left:n+"px"});var i=ht*st;Nt.css({left:i-ot/2+"px"});var r=ct*it;Pt.css({top:r-lt+"px"})}}function q(t){var e=T(),n="",a=!tinycolor.equals(e,Qt);e&&(n=e.toString(Vt),w(e)),qt&&_t.val(n),t&&a&&(Y.change(e),_t.trigger("change",[e]))}function H(){K&&(et=St.width(),nt=St.height(),at=At.height(),rt=Et.width(),it=Et.height(),lt=Pt.height(),st=jt.width(),ot=Nt.width(),V||(Ct.css("position","absolute"),Q.offset?Ct.offset(Q.offset):Ct.offset(s(Ct,$t))),L(),Q.showPalette&&x(),_t.trigger("reflow.spectrum"))}function D(){_t.show(),$t.off("click.spectrum touchstart.spectrum"),Ct.remove(),Ut.remove(),p[Yt.id]=null}function U(n,a){return n===e?t.extend({},Q):a===e?Q[n]:(Q[n]=a,"preferredFormat"===n&&(Vt=Q.preferredFormat),void c())}function $(){xt=!1,_t.attr("disabled",!1),$t.removeClass("sp-disabled")}function W(){N(),xt=!0,_t.attr("disabled",!0),$t.addClass("sp-disabled")}function B(t){Q.offset=t,H()}var Q=i(o,r),V=Q.flat,J=Q.showSelectionPalette,X=Q.localStorageKey,G=Q.theme,Y=Q.callbacks,Z=u(H,10),K=!1,tt=!1,et=0,nt=0,at=0,it=0,rt=0,st=0,ot=0,lt=0,ct=0,dt=0,ut=0,ht=1,ft=[],pt=[],mt={},gt=Q.selectionPalette.slice(0),vt=Q.maxSelectionSize,bt="sp-dragging",yt=null,wt=r.ownerDocument,_t=(wt.body,t(r)),xt=!1,Ct=t(b,wt).addClass(G),kt=Ct.find(".sp-picker-container"),St=Ct.find(".sp-color"),At=Ct.find(".sp-dragger"),Et=Ct.find(".sp-hue"),Pt=Ct.find(".sp-slider"),Mt=Ct.find(".sp-alpha-inner"),jt=Ct.find(".sp-alpha"),Nt=Ct.find(".sp-alpha-handle"),It=Ct.find(".sp-input"),Ot=Ct.find(".sp-palette"),Tt=Ct.find(".sp-initial"),zt=Ct.find(".sp-cancel"),Rt=Ct.find(".sp-clear"),Ft=Ct.find(".sp-choose"),Lt=Ct.find(".sp-palette-toggle"),qt=_t.is("input"),Ht=qt&&"color"===_t.attr("type")&&h(),Dt=qt&&!V,Ut=Dt?t(v).addClass(G).addClass(Q.className).addClass(Q.replacerClassName):t([]),$t=Dt?Ut:_t,Wt=Ut.find(".sp-preview-inner"),Bt=Q.color||qt&&_t.val(),Qt=!1,Vt=Q.preferredFormat,Jt=!Q.showButtons||Q.clickoutFiresChange,Xt=!Bt,Gt=Q.allowEmpty&&!Ht;f();var Yt={show:P,hide:N,toggle:E,reflow:H,option:U,enable:$,disable:W,offset:B,set:function(t){O(t),q()},get:T,destroy:D,container:Ct};return Yt.id=p.push(Yt)-1,Yt}function s(e,n){var a=0,i=e.outerWidth(),r=e.outerHeight(),s=n.outerHeight(),o=e[0].ownerDocument,l=o.documentElement,c=l.clientWidth+t(o).scrollLeft(),d=l.clientHeight+t(o).scrollTop(),u=n.offset(),h=u.left,f=u.top;return f+=s,h-=Math.min(h,h+i>c&&c>i?Math.abs(h+i-c):0),f-=Math.min(f,f+r>d&&d>r?Math.abs(r+s-a):a),{top:f,bottom:u.bottom,left:h,right:u.right,width:u.width,height:u.height}}function o(){}function l(t){t.stopPropagation()}function c(t,e){var n=Array.prototype.slice,a=n.call(arguments,2);return function(){return t.apply(e,a.concat(n.call(arguments)))}}function d(e,n,a,i){function r(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function s(t){if(d){if(m&&c.documentMode<9&&!t.button)return l();var a=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0],i=a&&a.pageX||t.pageX,s=a&&a.pageY||t.pageY,o=Math.max(0,Math.min(i-u.left,f)),g=Math.max(0,Math.min(s-u.top,h));p&&r(t),n.apply(e,[o,g,t])}}function o(n){var i=n.which?3==n.which:2==n.button;i||d||a.apply(e,arguments)!==!1&&(d=!0,h=t(e).height(),f=t(e).width(),u=t(e).offset(),t(c).on(g),t(c.body).addClass("sp-dragging"),s(n),r(n))}function l(){d&&(t(c).off(g),t(c.body).removeClass("sp-dragging"),setTimeout(function(){i.apply(e,arguments)},0)),d=!1}n=n||function(){},a=a||function(){},i=i||function(){};var c=document,d=!1,u={},h=0,f=0,p="ontouchstart"in window,g={};g.selectstart=r,g.dragstart=r,g["touchmove mousemove"]=s,g["touchend mouseup"]=l,t(e).on("touchstart mousedown",o)}function u(t,e,n){var a;return function(){var i=this,r=arguments,s=function(){a=null,t.apply(i,r)};n&&clearTimeout(a),!n&&a||(a=setTimeout(s,e))}}function h(){return t.fn.spectrum.inputTypeColorSupport()}var f={beforeShow:o,move:o,change:o,show:o,hide:o,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},p=[],m=!!/msie/i.exec(window.navigator.userAgent),g=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div"),n=e.style;return n.cssText="background-color:rgba(0,0,0,.5)",t(n.backgroundColor,"rgba")||t(n.backgroundColor,"hsla")}(),v=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),b=function(){var t="";if(m)for(var e=1;6>=e;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),y="spectrum.id";t.fn.spectrum=function(e){if("string"==typeof e){var n=this,a=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=p[t(this).data(y)];if(i){var r=i[e];if(!r)throw new Error("Spectrum: no such method: '"+e+"'");"get"==e?n=i.get():"container"==e?n=i.container:"option"==e?n=i.option.apply(i,a):"destroy"==e?(i.destroy(),t(this).removeData(y)):r.apply(i,a)}}),n}return this.spectrum("destroy").each(function(){var n=t.extend({},t(this).data(),e),a=r(this,n);t(this).data(y,a.id)})},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=d,t.fn.spectrum.defaults=f,t.fn.spectrum.inputTypeColorSupport=function e(){if("undefined"==typeof e._cachedResult){var n=t("<input type='color'/>")[0];e._cachedResult="color"===n.type&&""!==n.value}return e._cachedResult},t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){var e=t("input[type=color]");e.length&&!h()&&e.spectrum({preferredFormat:"hex6"})},function(){function t(t){var n={r:0,g:0,b:0},i=1,s=!1,o=!1;return"string"==typeof t&&(t=I(t)),"object"==typeof t&&(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")?(n=e(t.r,t.g,t.b),s=!0,o="%"===String(t.r).substr(-1)?"prgb":"rgb"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")?(t.s=M(t.s),t.v=M(t.v),n=r(t.h,t.s,t.v),s=!0,o="hsv"):t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")&&(t.s=M(t.s),t.l=M(t.l),n=a(t.h,t.s,t.l),s=!0,o="hsl"),t.hasOwnProperty("a")&&(i=t.a)),i=x(i),{ok:s,format:t.format||o,r:L(255,q(n.r,0)),g:L(255,q(n.g,0)),b:L(255,q(n.b,0)),a:i}}function e(t,e,n){return{r:255*C(t,255),g:255*C(e,255),b:255*C(n,255)}}function n(t,e,n){t=C(t,255),e=C(e,255),n=C(n,255);var a,i,r=q(t,e,n),s=L(t,e,n),o=(r+s)/2;if(r==s)a=i=0;else{var l=r-s;switch(i=o>.5?l/(2-r-s):l/(r+s),r){case t:a=(e-n)/l+(n>e?6:0);break;case e:a=(n-t)/l+2;break;case n:a=(t-e)/l+4}a/=6}return{h:a,s:i,l:o}}function a(t,e,n){function a(t,e,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?t+6*(e-t)*n:.5>n?e:2/3>n?t+(e-t)*(2/3-n)*6:t}var i,r,s;if(t=C(t,360),e=C(e,100),n=C(n,100),0===e)i=r=s=n;else{var o=.5>n?n*(1+e):n+e-n*e,l=2*n-o;i=a(l,o,t+1/3),r=a(l,o,t),s=a(l,o,t-1/3)}return{r:255*i,g:255*r,b:255*s}}function i(t,e,n){t=C(t,255),e=C(e,255),n=C(n,255);var a,i,r=q(t,e,n),s=L(t,e,n),o=r,l=r-s;if(i=0===r?0:l/r,r==s)a=0;else{switch(r){case t:a=(e-n)/l+(n>e?6:0);break;case e:a=(n-t)/l+2;break;case n:a=(t-e)/l+4}a/=6}return{h:a,s:i,v:o}}function r(t,e,n){t=6*C(t,360),e=C(e,100),n=C(n,100);var a=R.floor(t),i=t-a,r=n*(1-e),s=n*(1-i*e),o=n*(1-(1-i)*e),l=a%6,c=[n,s,r,r,o,n][l],d=[o,n,n,s,r,r][l],u=[r,r,o,n,n,s][l];return{r:255*c,g:255*d,b:255*u}}function s(t,e,n,a){var i=[P(F(t).toString(16)),P(F(e).toString(16)),P(F(n).toString(16))];return a&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function o(t,e,n,a){var i=[P(j(a)),P(F(t).toString(16)),P(F(e).toString(16)),P(F(n).toString(16))];return i.join("")}function l(t,e){e=0===e?0:e||10;var n=D(t).toHsl();return n.s-=e/100,n.s=k(n.s),D(n)}function c(t,e){e=0===e?0:e||10;var n=D(t).toHsl();return n.s+=e/100,n.s=k(n.s),D(n)}function d(t){return D(t).desaturate(100)}function u(t,e){e=0===e?0:e||10;var n=D(t).toHsl();return n.l+=e/100,n.l=k(n.l),D(n)}function h(t,e){e=0===e?0:e||10;var n=D(t).toRgb();return n.r=q(0,L(255,n.r-F(255*-(e/100)))),n.g=q(0,L(255,n.g-F(255*-(e/100)))),n.b=q(0,L(255,n.b-F(255*-(e/100)))),D(n)}function f(t,e){e=0===e?0:e||10;var n=D(t).toHsl();return n.l-=e/100,n.l=k(n.l),D(n)}function p(t,e){var n=D(t).toHsl(),a=(F(n.h)+e)%360;return n.h=0>a?360+a:a,D(n)}function m(t){var e=D(t).toHsl();return e.h=(e.h+180)%360,D(e)}function g(t){var e=D(t).toHsl(),n=e.h;return[D(t),D({h:(n+120)%360,s:e.s,l:e.l}),D({h:(n+240)%360,s:e.s,l:e.l})]}function v(t){var e=D(t).toHsl(),n=e.h;return[D(t),D({h:(n+90)%360,s:e.s,l:e.l}),D({h:(n+180)%360,s:e.s,l:e.l}),D({h:(n+270)%360,s:e.s,l:e.l})]}function b(t){var e=D(t).toHsl(),n=e.h;return[D(t),D({h:(n+72)%360,s:e.s,l:e.l}),D({h:(n+216)%360,s:e.s,l:e.l})]}function y(t,e,n){e=e||6,n=n||30;var a=D(t).toHsl(),i=360/n,r=[D(t)];for(a.h=(a.h-(i*e>>1)+720)%360;--e;)a.h=(a.h+i)%360,r.push(D(a));return r}function w(t,e){e=e||6;for(var n=D(t).toHsv(),a=n.h,i=n.s,r=n.v,s=[],o=1/e;e--;)s.push(D({h:a,s:i,v:r})),r=(r+o)%1;return s}function _(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function x(t){return t=parseFloat(t),(isNaN(t)||0>t||t>1)&&(t=1),t}function C(t,e){A(t)&&(t="100%");var n=E(t);return t=L(e,q(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),R.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function k(t){return L(1,q(0,t))}function S(t){return parseInt(t,16)}function A(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function E(t){return"string"==typeof t&&-1!=t.indexOf("%")}function P(t){return 1==t.length?"0"+t:""+t}function M(t){return 1>=t&&(t=100*t+"%"),t}function j(t){return Math.round(255*parseFloat(t)).toString(16)}function N(t){return S(t)/255}function I(t){t=t.replace(O,"").replace(T,"").toLowerCase();var e=!1;if(U[t])t=U[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=W.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=W.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=W.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=W.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=W.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=W.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=W.hex8.exec(t))?{a:N(n[1]),r:S(n[2]),g:S(n[3]),b:S(n[4]),format:e?"name":"hex8"}:(n=W.hex6.exec(t))?{r:S(n[1]),g:S(n[2]),b:S(n[3]),format:e?"name":"hex"}:!!(n=W.hex3.exec(t))&&{r:S(n[1]+""+n[1]),g:S(n[2]+""+n[2]),b:S(n[3]+""+n[3]),format:e?"name":"hex"}}var O=/^[\s,#]+/,T=/\s+$/,z=0,R=Math,F=R.round,L=R.min,q=R.max,H=R.random,D=function(e,n){if(e=e?e:"",n=n||{},e instanceof D)return e;if(!(this instanceof D))return new D(e,n);var a=t(e);this._originalInput=e,this._r=a.r,this._g=a.g,this._b=a.b,this._a=a.a,this._roundA=F(1e3*this._a)/1e3,this._format=n.format||a.format,this._gradientType=n.gradientType,this._r<1&&(this._r=F(this._r)),this._g<1&&(this._g=F(this._g)),this._b<1&&(this._b=F(this._b)),this._ok=a.ok,this._tc_id=z++};D.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=x(t),this._roundA=F(1e3*this._a)/1e3,this},toHsv:function(){var t=i(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=i(this._r,this._g,this._b),e=F(360*t.h),n=F(100*t.s),a=F(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+a+"%)":"hsva("+e+", "+n+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var t=n(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=n(this._r,this._g,this._b),e=F(360*t.h),a=F(100*t.s),i=F(100*t.l);return 1==this._a?"hsl("+e+", "+a+"%, "+i+"%)":"hsla("+e+", "+a+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return s(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return o(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:F(this._r),g:F(this._g),b:F(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+F(this._r)+", "+F(this._g)+", "+F(this._b)+")":"rgba("+F(this._r)+", "+F(this._g)+", "+F(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:F(100*C(this._r,255))+"%",g:F(100*C(this._g,255))+"%",b:F(100*C(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+F(100*C(this._r,255))+"%, "+F(100*C(this._g,255))+"%, "+F(100*C(this._b,255))+"%)":"rgba("+F(100*C(this._r,255))+"%, "+F(100*C(this._g,255))+"%, "+F(100*C(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&($[s(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+o(this._r,this._g,this._b,this._a),n=e,a=this._gradientType?"GradientType = 1, ":"";if(t){var i=D(t);n=i.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,a=this._a<1&&this._a>=0,i=!e&&a&&("hex"===t||"hex6"===t||"hex3"===t||"name"===t);return i?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(u,arguments)},brighten:function(){return this._applyModification(h,arguments)},darken:function(){return this._applyModification(f,arguments)},desaturate:function(){return this._applyModification(l,arguments)},saturate:function(){return this._applyModification(c,arguments);
},greyscale:function(){return this._applyModification(d,arguments)},spin:function(){return this._applyModification(p,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(y,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(w,arguments)},splitcomplement:function(){return this._applyCombination(b,arguments)},triad:function(){return this._applyCombination(g,arguments)},tetrad:function(){return this._applyCombination(v,arguments)}},D.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var a in t)t.hasOwnProperty(a)&&("a"===a?n[a]=t[a]:n[a]=M(t[a]));t=n}return D(t,e)},D.equals=function(t,e){return!(!t||!e)&&D(t).toRgbString()==D(e).toRgbString()},D.random=function(){return D.fromRatio({r:H(),g:H(),b:H()})},D.mix=function(t,e,n){n=0===n?0:n||50;var a,i=D(t).toRgb(),r=D(e).toRgb(),s=n/100,o=2*s-1,l=r.a-i.a;a=o*l==-1?o:(o+l)/(1+o*l),a=(a+1)/2;var c=1-a,d={r:r.r*a+i.r*c,g:r.g*a+i.g*c,b:r.b*a+i.b*c,a:r.a*s+i.a*(1-s)};return D(d)},D.readability=function(t,e){var n=D(t),a=D(e),i=n.toRgb(),r=a.toRgb(),s=n.getBrightness(),o=a.getBrightness(),l=Math.max(i.r,r.r)-Math.min(i.r,r.r)+Math.max(i.g,r.g)-Math.min(i.g,r.g)+Math.max(i.b,r.b)-Math.min(i.b,r.b);return{brightness:Math.abs(s-o),color:l}},D.isReadable=function(t,e){var n=D.readability(t,e);return n.brightness>125&&n.color>500},D.mostReadable=function(t,e){for(var n=null,a=0,i=!1,r=0;r<e.length;r++){var s=D.readability(t,e[r]),o=s.brightness>125&&s.color>500,l=3*(s.brightness/125)+s.color/500;(o&&!i||o&&i&&l>a||!o&&!i&&l>a)&&(i=o,a=l,n=D(e[r]))}return n};var U=D.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},$=D.hexNames=_(U),W=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",a="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+a),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+a),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+a),hsva:new RegExp("hsva"+i),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();window.tinycolor=D}(),t(function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()})}),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){t.extend(t.fn,{tc_validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't tc_validate, returning nothing."));var n=t.data(this[0],"tc_validator");return n?n:(this.attr("novalidate","novalidate"),n=new t.tc_validator(e,this[0]),t.data(this[0],"tc_validator",n),n.settings.onsubmit&&(this.on("click.tc_validate",":submit",function(e){n.settings.submitHandler&&(n.submitButton=e.target),t(this).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==t(this).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.on("submit.tc_validate",function(e){function a(){var a,i;return!n.settings.submitHandler||(n.submitButton&&(a=t("<input type='hidden'/>").attr("name",n.submitButton.name).val(t(n.submitButton).val()).appendTo(n.currentForm)),i=n.settings.submitHandler.call(n,n.currentForm,e),n.submitButton&&a.remove(),void 0!==i&&i)}return n.settings.debug&&e.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,a()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):a():(n.focusInvalid(),!1)})),n)},tc_valid:function(){var e,n,a;return t(this[0]).is("form")?e=this.tc_validate().form():(a=[],e=!0,n=t(this[0].form).tc_validate(),this.each(function(){e=n.element(this)&&e,e||(a=a.concat(n.errorList))}),n.errorList=a),e},tc_rules:function(e,n){if(this.length){var a,i,r,s,o,l,c=this[0];if(e)switch(a=t.data(c.form,"tc_validator").settings,i=a.rules,r=t.tc_validator.staticRules(c),e){case"add":t.extend(r,t.tc_validator.normalizeRule(n)),delete r.messages,i[c.name]=r,n.messages&&(a.messages[c.name]=t.extend(a.messages[c.name],n.messages));break;case"remove":return n?(l={},t.each(n.split(/\s/),function(e,n){l[n]=r[n],delete r[n],"required"===n&&t(c).removeAttr("aria-required")}),l):(delete i[c.name],r)}return s=t.tc_validator.normalizeRules(t.extend({},t.tc_validator.classRules(c),t.tc_validator.attributeRules(c),t.tc_validator.dataRules(c),t.tc_validator.staticRules(c)),c),s.required&&(o=s.required,delete s.required,s=t.extend({required:o},s),t(c).attr("aria-required","true")),s.remote&&(o=s.remote,delete s.remote,s=t.extend(s,{remote:o})),s}}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){var n=t(e).val();return null!==n&&!!t.trim(""+n)},unchecked:function(e){return!t(e).prop("checked")}}),t.tc_validator=function(e,n){this.settings=t.extend(!0,{},t.tc_validator.defaults,e),this.currentForm=n,this.init()},t.tc_validator.format=function(e,n){return 1===arguments.length?function(){var n=t.makeArray(arguments);return n.unshift(e),t.tc_validator.format.apply(this,n)}:void 0===n?e:(arguments.length>2&&n.constructor!==Array&&(n=t.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),t.each(n,function(t,n){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return n})}),e)},t.extend(t.tc_validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(e,n){var a=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===n.which&&""===this.elementValue(e)||-1!==t.inArray(n.keyCode,a)||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,n,a){"radio"===e.type?this.findByName(e.name).addClass(n).removeClass(a):t(e).addClass(n).removeClass(a)},unhighlight:function(e,n,a){"radio"===e.type?this.findByName(e.name).removeClass(n).addClass(a):t(e).removeClass(n).addClass(a)}},setDefaults:function(e){t.extend(t.tc_validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:t.tc_validator.format("Please enter no more than {0} characters."),minlength:t.tc_validator.format("Please enter at least {0} characters."),rangelength:t.tc_validator.format("Please enter a value between {0} and {1} characters long."),range:t.tc_validator.format("Please enter a value between {0} and {1}."),max:t.tc_validator.format("Please enter a value less than or equal to {0}."),min:t.tc_validator.format("Please enter a value greater than or equal to {0}."),step:t.tc_validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var n=t.data(this.form,"tc_validator"),a="on"+e.type.replace(/^tc_validate/,""),i=n.settings;i[a]&&!t(this).is(i.ignore)&&i[a].call(n,this,e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,a=this.groups={};t.each(this.settings.groups,function(e,n){"string"==typeof n&&(n=n.split(/\s/)),t.each(n,function(t,n){a[n]=e})}),n=this.settings.rules,t.each(n,function(e,a){n[e]=t.tc_validator.normalizeRule(a)}),t(this.currentForm).on("focusin.tc_validate focusout.tc_validate keyup.tc_validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable]",e).on("click.tc_validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&t(this.currentForm).on("invalid-form.tc_validate",this.settings.invalidHandler),t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.tc_valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.tc_valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.tc_valid()},element:function(e){var n,a,i=this.clean(e),r=this.validationTargetFor(i),s=this,o=!0;return void 0===r?delete this.invalid[i.name]:(this.prepareElement(r),this.currentElements=t(r),a=this.groups[r.name],a&&t.each(this.groups,function(t,e){e===a&&t!==r.name&&(i=s.validationTargetFor(s.clean(s.findByName(t))),i&&i.name in s.invalid&&(s.currentElements.push(i),o=o&&s.check(i)))}),n=this.check(r)!==!1,o=o&&n,n?this.invalid[r.name]=!1:this.invalid[r.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),t(e).attr("aria-invalid",!n)),o},showErrors:function(e){if(e){var n=this;t.extend(this.errorMap,e),this.errorList=t.map(this.errorMap,function(t,e){return{message:t,element:n.findByName(e)[0]}}),this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,n=0;for(e in t)t[e]&&n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},tc_valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,n={};return t(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var a=this.name||t(this).attr("name");return!a&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=t(this).closest("form")[0]),!(a in n||!e.objectLength(t(this).tc_rules()))&&(n[a]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([])},reset:function(){this.resetInternals(),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var n,a,i=t(e),r=e.type;return"radio"===r||"checkbox"===r?this.findByName(e.name).filter(":checked").val():"number"===r&&"undefined"!=typeof e.validity?e.validity.badInput?"NaN":i.val():(n=e.hasAttribute("contenteditable")?i.text():i.val(),"file"===r?"C:\\fakepath\\"===n.substr(0,12)?n.substr(12):(a=n.lastIndexOf("/"),a>=0?n.substr(a+1):(a=n.lastIndexOf("\\"),a>=0?n.substr(a+1):n)):"string"==typeof n?n.replace(/\r/g,""):n)},check:function(e){e=this.validationTargetFor(this.clean(e));var n,a,i,r=t(e).tc_rules(),s=t.map(r,function(t,e){return e}).length,o=!1,l=this.elementValue(e);if("function"==typeof r.normalizer){if(l=r.normalizer.call(e,l),"string"!=typeof l)throw new TypeError("The normalizer should return a string value.");delete r.normalizer}for(a in r){i={method:a,parameters:r[a]};try{if(n=t.tc_validator.methods[a].call(this,l,e,i.parameters),"dependency-mismatch"===n&&1===s){o=!0;continue}if(o=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!n)return this.formatAndAdd(e,i),!1}catch(t){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+i.method+"' method.",t),t instanceof TypeError&&(t.message+=".  Exception occurred when checking element "+e.id+", check the '"+i.method+"' method."),t}}return o?void 0:(this.objectLength(r)&&this.successList.push(e),!0)},customDataMessage:function(e,n){return t(e).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var n=this.settings.messages[t];return n&&(n.constructor===String?n:n[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,n){var a=this.findDefined(this.customMessage(e.name,n.method),this.customDataMessage(e,n.method),!this.settings.ignoreTitle&&e.title||void 0,t.tc_validator.messages[n.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),i=/\$?\{(\d+)\}/g;return"function"==typeof a?a=a.call(this,n.parameters,e):i.test(a)&&(a=t.tc_validator.format(a.replace(i,"{$1}"),n.parameters)),a},formatAndAdd:function(t,e){var n=this.defaultMessage(t,e);this.errorList.push({message:n,element:t,method:e.method}),this.errorMap[t.name]=n,this.submitted[t.name]=n},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,n;for(t=0;this.errorList[t];t++)n=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,n){var a,i,r,s,o=this.errorsFor(e),l=this.idOrName(e),c=t(e).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(n)):(o=t("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(n||""),a=o,this.settings.wrapper&&(a=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(a):this.settings.errorPlacement?this.settings.errorPlacement(a,t(e)):a.insertAfter(e),o.is("label")?o.attr("for",l):0===o.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(r=o.attr("id"),c?c.match(new RegExp("\\b"+this.escapeCssMeta(r)+"\\b"))||(c+=" "+r):c=r,t(e).attr("aria-describedby",c),i=this.groups[e.name],i&&(s=this,t.each(s.groups,function(e,n){n===i&&t("[name='"+s.escapeCssMeta(e)+"']",s.currentForm).attr("aria-describedby",o.attr("id"))})))),!n&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,e)),this.toShow=this.toShow.add(o)},errorsFor:function(e){var n=this.escapeCssMeta(this.idOrName(e)),a=t(e).attr("aria-describedby"),i="label[for='"+n+"'], label[for='"+n+"'] *";return a&&(i=i+", #"+this.escapeCssMeta(a).replace(/\s+/g,", #")),this.errors().filter(i)},escapeCssMeta:function(t){return t.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,n){switch(n.nodeName.toLowerCase()){case"select":return t("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{boolean:function(t){return t},string:function(e,n){return!!t(e,n.form).length},function:function(t,e){return t(e)}},optional:function(e){var n=this.elementValue(e);return!t.tc_validator.methods.required.call(this,n,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,t(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t(e).removeClass(this.settings.pendingClass),n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,n){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:n})})},destroy:function(){this.resetForm(),t(this.currentForm).off(".tc_validate").removeData("tc_validator").find(".tc_validate-equalTo-blur").off(".tc_validate-equalTo").removeClass("tc_validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,n){e.constructor===String?this.classRuleSettings[e]=n:t.extend(this.classRuleSettings,e)},classRules:function(e){var n={},a=t(e).attr("class");return a&&t.each(a.split(" "),function(){this in t.tc_validator.classRuleSettings&&t.extend(n,t.tc_validator.classRuleSettings[this])}),n},normalizeAttributeRule:function(t,e,n,a){/min|max|step/.test(n)&&(null===e||/number|range|text/.test(e))&&(a=Number(a),isNaN(a)&&(a=void 0)),a||0===a?t[n]=a:e===n&&"range"!==e&&(t[n]=!0)},attributeRules:function(e){var n,a,i={},r=t(e),s=e.getAttribute("type");for(n in t.tc_validator.methods)"required"===n?(a=e.getAttribute(n),""===a&&(a=!0),a=!!a):a=r.attr(n),this.normalizeAttributeRule(i,s,n,a);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(e){var n,a,i={},r=t(e),s=e.getAttribute("type");for(n in t.tc_validator.methods)a=r.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()),this.normalizeAttributeRule(i,s,n,a);return i},staticRules:function(e){var n={},a=t.data(e.form,"tc_validator");return a.settings.rules&&(n=t.tc_validator.normalizeRule(a.settings.rules[e.name])||{}),n},normalizeRules:function(e,n){return t.each(e,function(a,i){if(i===!1)return void delete e[a];if(i.param||i.depends){var r=!0;switch(typeof i.depends){case"string":r=!!t(i.depends,n.form).length;break;case"function":r=i.depends.call(n,n)}r?e[a]=void 0===i.param||i.param:(t.data(n.form,"tc_validator").resetElements(t(n)),delete e[a])}}),t.each(e,function(a,i){e[a]=t.isFunction(i)&&"normalizer"!==a?i(n):i}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var n;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(n=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(n[0]),Number(n[1])]))}),t.tc_validator.autoCreateRanges&&(null!=e.min&&null!=e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!=e.minlength&&null!=e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var n={};t.each(e.split(/\s/),function(){n[this]=!0}),e=n}return e},addMethod:function(e,n,a){t.tc_validator.methods[e]=n,t.tc_validator.messages[e]=void 0!==a?a:t.tc_validator.messages[e],n.length<3&&t.tc_validator.addClassRules(e,t.tc_validator.normalizeRule(e))},methods:{required:function(e,n,a){if(!this.depend(a,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var i=t(n).val();return i&&i.length>0}return this.checkable(n)?this.getLength(e,n)>0:e.length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(e,n,a){var i=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||i>=a},maxlength:function(e,n,a){var i=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||a>=i},rangelength:function(e,n,a){var i=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||i>=a[0]&&i<=a[1]},min:function(t,e,n){return this.optional(e)||t>=n},max:function(t,e,n){return this.optional(e)||n>=t},range:function(t,e,n){return this.optional(e)||t>=n[0]&&t<=n[1]},step:function(e,n,a){var i=t(n).attr("type"),r="Step attribute on input type "+i+" is not supported.",s=["text","number","range"],o=new RegExp("\\b"+i+"\\b"),l=i&&!o.test(s.join());if(l)throw new Error(r);return this.optional(n)||e%a===0},equalTo:function(e,n,a){var i=t(a);return this.settings.onfocusout&&i.not(".tc_validate-equalTo-blur").length&&i.addClass("tc_validate-equalTo-blur").on("blur.tc_validate-equalTo",function(){t(n).tc_valid()}),e===i.val()},remote:function(e,n,a,i){if(this.optional(n))return"dependency-mismatch";i="string"==typeof i&&i||"remote";var r,s,o,l=this.previousValue(n,i);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[n.name][i],this.settings.messages[n.name][i]=l.message,a="string"==typeof a&&{url:a}||a,o=t.param(t.extend({data:e},a.data)),l.old===o?l.valid:(l.old=o,r=this,this.startRequest(n),s={},s[n.name]=e,t.ajax(t.extend(!0,{mode:"abort",port:"tc_validate"+n.name,dataType:"json",data:s,context:r.currentForm,success:function(t){var a,s,o,c=t===!0||"true"===t;r.settings.messages[n.name][i]=l.originalMessage,c?(o=r.formSubmitted,r.resetInternals(),r.toHide=r.errorsFor(n),r.formSubmitted=o,r.successList.push(n),r.invalid[n.name]=!1,r.showErrors()):(a={},s=t||r.defaultMessage(n,{method:i,parameters:e}),a[n.name]=l.message=s,r.invalid[n.name]=!0,r.showErrors(a)),l.valid=c,r.stopRequest(n,c)}},a)),"pending")}}});var e,n={};t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,a){var i=t.port;"abort"===t.mode&&(n[i]&&n[i].abort(),n[i]=a)}):(e=t.ajax,t.ajax=function(a){var i=("mode"in a?a:t.ajaxSettings).mode,r=("port"in a?a:t.ajaxSettings).port;return"abort"===i?(n[r]&&n[r].abort(),n[r]=e.apply(this,arguments),n[r]):e.apply(this,arguments)})}),!function(t){"use strict";var e=function(e,n){if(this.$element=t(e),this.options=t.extend({},t.fn.tcPagination.defaults,n),this.options.startPage<1||this.options.startPage>this.options.totalPages)return void console.log("Wrong startPage");if(this.options.totalPages=parseInt(this.options.totalPages),isNaN(this.options.totalPages))return void console.log("Wrong totalPages");if(this.options.visiblePages=parseInt(this.options.visiblePages),isNaN(this.options.visiblePages))return void console.log("Wrong visiblePages");this.options.totalPages<this.options.visiblePages&&(this.options.visiblePages=this.options.totalPages),this.options.onPageClick instanceof Function&&this.$element.first().on("page",this.options.onPageClick);var a="function"==typeof this.$element.prop?this.$element.prop("tagName"):this.$element.attr("tagName");return"UL"===a?this.$listContainer=this.$element:this.$listContainer=t("<ul></ul>"),"UL"!==a&&this.$element.append(this.$listContainer),this.render(this.getPages(this.options.startPage)),this.setupEvents(),this.options.initiateStartPageClick&&this.$element.trigger("page",this.options.startPage),this};e.prototype={constructor:e,destroy:function(){return this.$element.empty(),this.$element.removeData("tc-pagination"),this.$element.off("page"),this},show:function(t){return 1>t||t>this.options.totalPages?void console.log("Wrong page"):(this.render(this.getPages(t)),this.setupEvents(),this.$element.trigger("page",t),this)},buildListItems:function(e){var n=t();if(this.options.first&&(n=n.add(this.buildItem("first",1))),this.options.prev){var a=e.currentPage>1?e.currentPage-1:this.options.loop?this.options.totalPages:1;n=n.add(this.buildItem("prev",a))}for(var i=0;i<e.numeric.length;i++)n=n.add(this.buildItem("page",e.numeric[i]));if(this.options.next){var r=e.currentPage<this.options.totalPages?e.currentPage+1:this.options.loop?1:this.options.totalPages;n=n.add(this.buildItem("next",r))}return this.options.last&&(n=n.add(this.buildItem("last",this.options.totalPages))),n},buildItem:function(e,n){var a=t("<li></li>"),i=t("<a></a>"),r=null;switch(e){case"page":r=n,a.addClass(this.options.pageClass);break;case"first":r=this.options.first,a.addClass(this.options.firstClass);break;case"prev":r=this.options.prev,a.addClass(this.options.prevClass);break;case"next":r=this.options.next,a.addClass(this.options.nextClass);break;case"last":r=this.options.last,a.addClass(this.options.lastClass)}return a.data("page",n),a.data("page-type",e),a.append(i.attr("href","#").html(r)),a},getPages:function(t){var e=[],n=Math.floor(this.options.visiblePages/2),a=t-n+1-this.options.visiblePages%2,i=t+n;0>=a&&(a=1,i=this.options.visiblePages),i>this.options.totalPages&&(a=this.options.totalPages-this.options.visiblePages+1,i=this.options.totalPages);for(var r=a;i>=r;)e.push(r),r++;return{currentPage:t,numeric:e}},render:function(e){var n=this;this.$listContainer.children().remove(),this.$listContainer.append(this.buildListItems(e)),this.$listContainer.children().each(function(){var a=t(this),i=a.data("page-type");switch(i){case"page":a.data("page")===e.currentPage&&a.addClass(n.options.activeClass);break;case"first":a.toggleClass(n.options.disabledClass,1===e.currentPage);break;case"last":a.toggleClass(n.options.disabledClass,e.currentPage===n.options.totalPages);break;case"prev":a.toggleClass(n.options.disabledClass,!n.options.loop&&1===e.currentPage);break;case"next":a.toggleClass(n.options.disabledClass,!n.options.loop&&e.currentPage===n.options.totalPages)}})},setupEvents:function(){var e=this;this.$listContainer.find("li").each(function(){var n=t(this);return n.off(),n.hasClass(e.options.disabledClass)||n.hasClass(e.options.activeClass)?void n.click(function(t){t.preventDefault()}):void n.click(function(t){t.preventDefault(),e.show(parseInt(n.data("page"),10))})})}},t.fn.tcPagination=function(n){var a,i=Array.prototype.slice.call(arguments,1),r=t(this),s=r.data("tc-pagination"),o="object"==typeof n&&n;return s||r.data("tc-pagination",s=new e(this,o)),"string"==typeof n&&(a=s[n].apply(s,i)),
void 0===a?r:a},t.fn.tcPagination.defaults={totalPages:0,startPage:1,visiblePages:5,initiateStartPageClick:!0,loop:!1,onPageClick:null,first:'<i class="tcfa tcfa-angle-double-left"></i>',prev:'<i class="tcfa tcfa-angle-left"></i>',next:'<i class="tcfa tcfa-angle-right"></i>',last:'<i class="tcfa tcfa-angle-double-right"></i>',nextClass:"next",prevClass:"prev",lastClass:"last",firstClass:"first",pageClass:"page",activeClass:"active",disabledClass:"disabled"},t.fn.tcPagination.Constructor=e}(jQuery);var findEventHandlers=function(t,e){var n=[],a=jQuery,i=function(t,e){return a(t).filter(function(t,n){return a.inArray(n,a(e))!==-1})},r=function(t,e){return 0!==i(t,e).length},s=function(t,e,i){var r=e;void 0!==i&&null!==i&&a.extend(r,{targets:i.toArray()});var s,o=a.grep(n,function(e,n){return t===e.element});0===o.length?(s={element:t,events:[r]},n.push(s)):(s=o[0],s.events.push(r))},o=a(e);"*"===e&&(o=o.add(document));var l=a("*").add(document);return a.each(l,function(e,n){var i=a._data(n,"events");if(void 0!==i&&void 0!==i[t]){var l=i[t];a.each(l,function(t,e){var i,l=void 0!==e.selector&&null!==e.selector;i=l?a(e.selector,n):a(n),r(i,o)&&s(n,e,i)})}}),n};!function(t){"use strict";String.prototype.tmparseParams=function(t){return this.split("&").map(function(e){return t===!0&&(e=decodeURIComponent(e)),e=e.split("="),this[e[0]]=e[1],this}.bind({}))[0]},String.prototype.tmparseJSON=function(){try{var e=t.parseJSON(this);if(e&&"object"==typeof e&&null!==e)return e}catch(t){}return!1},String.prototype.tmjid=function(){return this.replace(/(%|:|\.|\[|\]|,|=)/g,"\\$1")},t.fn.tm_template=function(t,e){var n=t(e);return n=n.replace("/*<![CDATA[*/",""),n=n.replace("/*]]>*/","")},t.fn.tc_wp_filter={},t.tc_add_filter||(t.tc_add_filter=function(e,n,a,i){a=parseInt(a),isNaN(a)&&(a=10),i=parseInt(i),isNaN(i)&&(i=1);var r=n+"_"+a;return t.fn.tc_wp_filter[e]||(t.fn.tc_wp_filter[e]={}),t.fn.tc_wp_filter[e][a]||(t.fn.tc_wp_filter[e][a]={}),t.fn.tc_wp_filter[e][a][r]={function:n,accepted_args:i},!0}),t.tc_remove_filter||(t.tc_remove_filter=function(e,n,a){a=parseInt(a),isNaN(a)&&(a=10);var i=n+"_"+a;return!!(t.fn.tc_wp_filter[e]&&t.fn.tc_wp_filter[e][a]&&t.fn.tc_wp_filter[e][a][i])&&(delete t.fn.tc_wp_filter[e][a][i],!0)}),t.tc_apply_filters||(t.tc_apply_filters=function(e,n){var a=jQuery.makeArray(arguments);if(a.splice(0,1),!t.fn.tc_wp_filter[e])return n;var i=t.fn.tc_wp_filter[e];return t.each(i,function(e,i){t.each(i,function(t,e){var i=e.function;i instanceof Function?n=i.apply(null,a):window[i]&&window[i]instanceof Function&&(n=window[i].apply(null,a))})}),n})}(jQuery),function(t){"use strict";t(window).on("load",function(){t(document).on("click",".tc-extra-product-options .tmcp-field-wrap label",function(){if(t(this).is(".tm-epo-style"))return!0;var e=t(this).closest("li.tmcp-field-wrap"),n=e.find(".checkbox_image,.radio_image,.tc-checkbox-image,.tc-radio-image");return!n.length}),t(document).on("click",".tm-epo-variation-section label img, .tc-extra-product-options label img, .tc-extra-product-options label .tmhexcolorimage, .tc-extra-product-options label img + span.tc-label:not(.use_images_containter img + span.tc-label)",function(e){var n=t(this),a=n.closest("label"),i=n.closest(".tc-extra-product-options"),r=i.find("#"+a.attr("for").tmjid());if(r.length&&!r.attr("data-tm-disabled")||(i=n.closest(".tm-epo-variation-section"),r=i.find("#"+a.attr("for").tmjid()),r.length&&!r.attr("data-tm-disabled"))){var s=!1;if(r.is(":checked")&&(s=!0),!r.is(".tmcp-field.tmcp-radio")||!s){if(s)r.prop("checked",!1);else{var o=i.find('[name="'+r.attr("name")+'"]');o.prop("checked",!1),r.prop("checked",!0)}r.trigger("change").trigger("tmredirect")}}}),t(document).on("click",".tc-extra-product-options .radio_image_label,.tc-extra-product-options .checkbox_image_label",function(){t(this).closest("label").find("img").trigger("click")})})}(jQuery),function(t){"use strict";t.tm_reverse||(t.fn.tm_reverse=[].reverse),t.is_on_screen||(t.fn.is_on_screen=function(){var e=t(window),n=t.tm_getPageScroll(),a=this.offset(),i={top:n[1],left:n[0]};return i.right=i.left+e.width(),i.bottom=i.top+e.height(),a.right=a.left+this.outerWidth(),a.bottom=a.top+this.outerHeight(),!(i.right<a.left||i.left>a.right||i.bottom<a.top||i.top>a.bottom)}),t.tm_tooltip||(t.tm_tooltip=function(e){"undefined"==typeof e&&(e=t(".tm-tooltip"));var n=e,a=!1,i=!1;if(!(!n.length>0||n.data("tm-has-tm-tip")))return n.data("tm-has-tm-tip",1),n.each(function(e,n){var a=t(n),i=a.attr("data-tm-tooltip-swatch"),r=a.attr("data-tm-tooltip-swatch-desc"),s=a.attr("data-tm-tooltip-swatch-lbl-desc"),o=a.attr("data-tm-tooltip-swatch-img"),l=a.attr("data-tm-tooltip-swatch-img-lbl"),c=a.attr("data-tm-tooltip-swatch-img-desc"),d=a.attr("data-tm-tooltip-swatch-img-lbl-desc"),u=void 0!=a.attr("data-original")?a.attr("data-original"):a.attr("src");if(i){var h=a.closest(".tmcp-field-wrap");0==h.length&&(h=a.closest(".cpf_hide_element")),0==h.length&&(h=a.closest(".cpf-section")),h=h.find(".checkbox_image_label,.radio_image_label,.tm-tip-html");var f=t(h).html();a.data("tm-tip-html",f),t(h).hide()}if(r){var p=a.closest(".tmcp-field-wrap");p=p.find("[data-tm-tooltip-html]");var f="<aside>"+p.attr("data-tm-tooltip-html")+"</aside>";a.data("tm-tip-html",f),t(h).hide()}if(s){var h=a.closest(".tmcp-field-wrap"),p=a.closest(".tmcp-field-wrap");0==h.length&&(h=a.closest(".cpf_hide_element")),0==h.length&&(h=a.closest(".cpf-section")),h=h.find(".checkbox_image_label,.radio_image_label,.tm-tip-html"),p=p.find("[data-tm-tooltip-html]");var f="<aside>"+t(h).html()+"</aside><aside>"+p.attr("data-tm-tooltip-html")+"</aside>";a.data("tm-tip-html",f),t(h).hide()}if(o){var f='<img src="'+u+'">';a.data("tm-tip-html",f),t(h).hide()}if(l){var h=a.closest(".tmcp-field-wrap");0==h.length&&(h=a.closest(".cpf_hide_element")),0==h.length&&(h=a.closest(".cpf-section")),h=h.find(".checkbox_image_label,.radio_image_label,.tm-tip-html");var f='<img src="'+u+'"><aside>'+t(h).html()+"</aside>";a.data("tm-tip-html",f),t(h).hide()}if(c){var p=a.closest(".tmcp-field-wrap");p=p.find("[data-tm-tooltip-html]");var f='<img src="'+u+'"><aside>'+p.attr("data-tm-tooltip-html")+"</aside>";a.data("tm-tip-html",f)}if(d){var h=a.closest(".tmcp-field-wrap"),p=a.closest(".tmcp-field-wrap");0==h.length&&(h=a.closest(".cpf_hide_element")),0==h.length&&(h=a.closest(".cpf-section")),h=h.find(".checkbox_image_label,.radio_image_label,.tm-tip-html"),p=p.find("[data-tm-tooltip-html]");var f='<img src="'+u+'"><aside>'+t(h).html()+"</aside><aside>"+p.attr("data-tm-tooltip-html")+"</aside>";a.data("tm-tip-html",f),t(h).hide()}}),n.on("tc-tooltip-html-changed",function(){var e=t(this);e.attr("data-tm-tooltip-html")?e.show():e.hide()}),n.on("mouseenter tmshowtooltip",function(){if(a=t(this),!a.data("is_moving")){var n=a.attr("title"),r=a.attr("data-tm-tooltip-html"),s=a.attr("data-tm-tooltip-swatch"),o=a.attr("data-tm-tooltip-swatch-desc"),l=a.attr("data-tm-tooltip-swatch-lbl-desc"),c=a.attr("data-tm-tooltip-swatch-img"),d=a.attr("data-tm-tooltip-swatch-img-lbl"),u=a.attr("data-tm-tooltip-swatch-img-desc"),h=a.attr("data-tm-tooltip-swatch-img-lbl-desc");if(t("#tm-tooltip").remove(),i=t('<div id="tm-tooltip" class="tm-tip tm-animated"></div>'),!(n&&""!=n||s||o||l||c||d||u||h||r))return!1;n=a.attr("data-tm-tooltip-html")?a.attr("data-tm-tooltip-html"):a.attr("title"),(s||o||l||c||d||u||h)&&(n=a.data("tm-tip-html")),"undefined"==typeof e&&a.removeAttr("title"),i.css("opacity",0).html(n).appendTo("body");var f=function(e){1==e&&(n=s?a.data("tm-tip-html"):a.attr("data-tm-tooltip-html")?a.attr("data-tm-tooltip-html"):a.attr("title"),i.html(n)),t(window).width()<1.5*i.outerWidth()?i.css("max-width",t(window).width()/2):i.css("max-width",340);var r=t.tm_getPageScroll(),o=a.offset().left+a.outerWidth()/2-i.outerWidth()/2,l=a.offset().top-i.outerHeight()-10,c=a.offset().top-r[1]-i.outerHeight()-10;o<0?(o=a.offset().left+a.outerWidth()/2-20,i.addClass("left")):i.removeClass("left"),o+i.outerWidth()>t(window).width()?(o=a.offset().left-i.outerWidth()+a.outerWidth()/2+20,i.addClass("right")):i.removeClass("right"),l<0||c<0?(l=a.offset().top+a.outerHeight(),i.addClass("top")):i.removeClass("top"),t(window).trigger("tm_tooltip_show"),e?(i.css({left:o,top:l}),a.data("is_moving",!1)):i.css({left:o,top:l}).removeClass("fadeOutDown").addClass("fadeInUp")};f(),t(window).resize(f),a.data("is_moving",!1);var p=function(){if(!a.data("is_moving")){i.removeClass("fadeInUp").addClass("fadeOutDown");var e=15e3;i.animate({opacity:0},e,function(){t(this).remove()}),r||s||o||l||c||d||u||h||a.attr("title",n)}};a.on("tmmovetooltip",function(){a.data("is_moving",!0),f(1)}).on("mouseleave tmhidetooltip",p),i.on("click",p)}}),n}),t.fn.aserializeArray=function(){var e=/^(?:select|textarea)/i,n=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i;if(this.get(0).elements)return this.map(function(){return this.elements?t.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||e.test(this.nodeName)||n.test(this.type))}).map(function(e,n){var a=t(this).val();return null==a?null:t.isArray(a)?t.map(a,function(t,e){return{name:n.name,value:t}}):{name:n.name,value:a}}).get();t(this).wrap("<form></form>");var a=this.parent().map(function(){return this.elements?t.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||e.test(this.nodeName)||n.test(this.type))}).map(function(e,n){var a=t(this).val();return null==a?null:t.isArray(a)?t.map(a,function(t,e){return{name:n.name,value:t}}):{name:n.name,value:a}}).get();return t(this).unwrap(),a},t.fn.tm_serializeObject=function(){var e={},n=this.serializeArray();return t.each(n,function(){void 0!==e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},t.fn.tm_aserializeObject=function(){var e={},n=this.aserializeArray();return t.each(n,function(){void 0!==e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},t().on||(t.fn.on=function(t,e,n,a){return this.delegate(e,t,n,a)}),t.tmType||(t.tmType=function(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}),t.tm_array_values||(t.tm_array_values=function(t){var e=[],n="";for(n in t)e[e.length]=t[n];return e}),t.tm_uniqid||(t.tm_uniqid=function(t,e){"undefined"==typeof t&&(t="");var n,a=function(t,e){return t=parseInt(t,10).toString(16),e<t.length?t.slice(t.length-e):e>t.length?Array(1+(e-t.length)).join("0")+t:t};return this.php_js||(this.php_js={}),this.php_js.uniqidSeed||(this.php_js.uniqidSeed=Math.floor(123456789*Math.random())),this.php_js.uniqidSeed++,n=t,n+=a(parseInt((new Date).getTime()/1e3,10),8),n+=a(this.php_js.uniqidSeed,5),e&&(n+=(10*Math.random()).toFixed(8).toString()),n}),t().tm_clone||(t.fn.tm_clone=function(){for(var e=t.fn.clone.apply(this,arguments),n=this.find("textarea").add(this.filter("textarea")),a=e.find("textarea").add(e.filter("textarea")),i=this.find("select").add(this.filter("select")),r=e.find("select").add(e.filter("select")),s=0,o=n.length;s<o;++s)t(a[s]).val(t(n[s]).val());for(var s=0,o=i.length;s<o;++s)for(var l=0,c=i[s].options.length;l<c;++l)i[s].options[l].selected===!0&&(r[s].options[l].selected=!0);return e}),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,n){e[n]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?n(2*t)/2:1-n(t*-2+2)/2}})}(),t().tm_getPageSize||(t.tm_getPageSize=function(){var t,e,n,a;window.innerHeight&&window.scrollMaxY?(t=window.innerWidth+window.scrollMaxX,e=window.innerHeight+window.scrollMaxY):document.body.scrollHeight>document.body.offsetHeight?(t=document.body.scrollWidth,e=document.body.scrollHeight):(t=document.body.offsetWidth,e=document.body.offsetHeight);var i,r;return self.innerHeight?(i=document.documentElement.clientWidth?document.documentElement.clientWidth:self.innerWidth,r=self.innerHeight):document.documentElement&&document.documentElement.clientHeight?(i=document.documentElement.clientWidth,r=document.documentElement.clientHeight):document.body&&(i=document.body.clientWidth,r=document.body.clientHeight),n=e<r?r:e,a=t<i?i:t,new Array(a,n,i,r,t,e)}),t().tm_getPageScroll||(t.tm_getPageScroll=function(){var t,e;return self.pageYOffset?(e=self.pageYOffset,t=self.pageXOffset):document.documentElement&&document.documentElement.scrollTop?(e=document.documentElement.scrollTop,t=document.documentElement.scrollLeft):document.body&&(e=document.body.scrollTop,t=document.body.scrollLeft),new Array(t,e)}),t().tm_floatbox||(t.fn.tm_floatbox=function(e){function n(t){return!!i(t,d)&&d}function a(){e.hideelements&&t("embed, object, select").css({visibility:"visible"}),e.showoverlay===!0&&e._ovl&&(e._ovl.unbind(),e._ovl.remove()),t(e.floatboxID).addClass("tc-closing").removeClass(e.animateIn).addClass(e.animateOut),t(e.floatboxID).animate({opacity:0},1e3,function(){t(e.floatboxID).remove()});var n=t.fn.tm_floatbox.instances.length;if(n>0){var a=t.fn.tm_floatbox.instances[n-1];e.id==a.id&&t.fn.tm_floatbox.instances.pop()}t(window).off("scroll.tmfloatbox")}function i(n,i){if(1==i.length){a(),e.hideelements&&t("embed, object, select").css({visibility:"hidden"}),t(e.type).attr("id",e.id).addClass(e.classname).html(e.data).appendTo(n);var r=t.fn.tm_floatbox.instances.length;if(r>0){var s=t.fn.tm_floatbox.instances[r-1];e.zIndex=s.zIndex+100}t.fn.tm_floatbox.instances.push(e),t(e.floatboxID).css({width:e.width,height:e.height});var l=t.tm_getPageSize(),d=t.tm_getPageScroll(),f=0,p=parseInt(d[0]+(l[2]-t(e.floatboxID).width())/2);if(t(e.floatboxID).css({top:f+"px",left:p+"px","z-index":e.zIndex}),u=f,h=p,n.cancelfunc=e.cancelfunc,e.showoverlay===!0&&(e._ovl=t('<div class="fl-overlay"></div>').css({zIndex:e.zIndex-1,opacity:.8}),e._ovl.appendTo("body"),e.ismodal||e._ovl.click(e.cancelfunc)),e.showfunc&&e.showfunc.call(),t(e.floatboxID).addClass(e.animationBaseClass+" "+e.animateIn),"fixed"==e.refresh){var m=parseInt((l[3]-t(e.floatboxID).height())/2);e.top!==!1?m=e.top:m+="px",t(e.floatboxID).css({position:"fixed",top:m}),e.left!==!1&&t(e.floatboxID).css({left:e.left})}else c(),t(window).on("scroll.tmfloatbox",o);return t(window).on("resize.tmfloatbox",function(){o()}),!0}return!1}function r(){f||(e.refresh?setTimeout(function(){requestAnimationFrame(s)},e.refresh):requestAnimationFrame(s),f=!0)}function s(){c(),f=!1}function o(){r()}function l(n,a){t(e.floatboxID).css({top:n+"px",left:a+"px",opacity:1})}function c(){var n=t.tm_getPageSize(),a=t.tm_getPageScroll();"fixed"==e.refresh&&(a[0]=0,a[1]=0);var i=parseInt(a[1]+(n[3]-t(e.floatboxID).height())/2),r=parseInt(a[0]+(n[2]-t(e.floatboxID).width())/2);i=parseInt((i-u)/e.fps),r=parseInt((r-h)/e.fps),u+=i,h+=r,l(u,h)}e=jQuery.extend({id:"flasho",classname:"flasho",type:"div",data:"",width:"500px",height:"auto",animationBaseClass:"tm-animated",animateIn:"fadeInDown",animateOut:"fadeOutDown",top:!1,left:!1,refresh:!1,fps:4,hideelements:!1,showoverlay:!0,zIndex:100100,ismodal:!1,cancelfunc:a,showfunc:null},e),e.floatboxID="#"+e.id.tmjid(),e.type="<"+e.type+">";var d=this,u=0,h=0,f=!1;return n(this)},t.fn.tm_floatbox.instances=[]),t().tmtabs||(t.fn.tmtabs=function(e){var n=this;if(0!=n.length)return e=t.extend({headers:".tm-tab-headers",header:".tab-header",addheader:".tm-add-tab",classdown:"tcfa-angle-down",classup:"tcfa-angle-up",animationclass:"fadeInDown",dataattribute:"data-id",selectedtab:"auto",showonhover:!1,useclasstohide:!1,afteraddtab:function(){a,b},deletebutton:!1,deletebuttonhtml:'<h4 class="tm-del-tab"><span class="tcfa tcfa-times"></span></h4>',deleteheader:".tm-del-tab",deleteconfirm:!1,beforedeletetab:function(t,e){},afterdeletetab:function(){}},e),n.each(function(){function n(n){n.on("closetab.tmtabs",function(n){var i=a.find(t(this).data("tab"));t(this).removeClass("closed open").addClass("closed"),t(this).find(".tm-arrow").removeClass(e.classdown+" "+e.classup).addClass(e.classdown),e.useclasstohide?i.addClass("tm-hide"):i.hide(),i.removeClass("tm-animated "+e.animationclass)}),n.on("opentab.tmtabs",function(n){t(this).removeClass("closed open").addClass("open"),t(this).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-up");var i=a.find(t(this).data("tab"));e.useclasstohide?i.removeClass("tm-hide"):i.show(),i.removeClass("tm-animated "+e.animationclass).addClass("tm-animated "+e.animationclass),d=t(this).data("tab")});var i="";e.showonhover!==!0&&"function"!=typeof e.showonhover||(i=" mouseover"),n.on("click.tmtabs"+i,function(n){n.preventDefault(),("mouseover"!=n.type||"function"!=typeof e.showonhover||e.showonhover.call())&&d!=t(this).data("tab")&&(c&&t(c).trigger("closetab.tmtabs"),t(this).trigger("opentab.tmtabs"),c=t(this),Cookies.set("tmadmintab",t(this).attr(e.dataattribute),{expires:7,path:""}))}),e.deletebutton&&(n.after(e.deletebuttonhtml),n.closest(".tm-box").find(e.deleteheader).on("click.tmtabs",function(n){if(!(a.find(e.headers+" "+e.header).length<2)&&(!e.deleteconfirm||confirm(tm_epo_admin.builder_delete))){var i=t(this),r=i.closest(".tm-box").find(e.header).attr(e.dataattribute),s=a.find("."+i.closest(".tm-box").find(e.header).attr(e.dataattribute));e.beforedeletetab.call(a,r,s),s.remove(),i.closest(".tm-box").remove(),e.afterdeletetab.call(a)}}))}var a=t(this),i=a.find(e.headers+" "+e.header),r=0,s="";if(0!=i.length){a.data("tm-has-tmtabs",1);var o=0,l=0,c=!1,d="";if(i.each(function(i,r){var r=t(r),s="."+r.attr(e.dataattribute);r.data("tab",s),e.useclasstohide?a.find(s).addClass("tm-hide"):a.find(s).hide(),a.find(s).data("state","closed"),!o&&r.is(".open")?(r.removeClass("closed open").addClass("open").data("state","open"),r.find(".tm-arrow").removeClass(e.classdown+" "+e.classup).addClass(e.classup),e.useclasstohide?a.find(s).removeClass("tm-hide"):a.find(s).show(),a.find(s).data("state","open"),o=1,d=s,c=r):r.removeClass("closed open").addClass("closed").data("state","closed"),n(r)}),a.find(e.headers+":not(.section_elements "+e.headers+",.tm-settings-wrap "+e.headers+",.builder_element_wrap "+e.headers+")").sortable({containment:"parent",cursor:"move",items:".tm-box:not(.tm-add-box)",start:function(t,n){r=n.item.index(),s=n.item.find(e.header).attr("data-id")},stop:function(n,i){var o=a.find(e.headers+" "+e.header);o.each(function(e,n){var a=t(this);a.html(e+1)});var l=a.find(".tm-slider-wizard-tab."+s),c=a.find(e.headers+" "+e.header+"[data-id='"+s+"']").parent().index(),d=a.find(".tm-slider-wizard-tab").eq(c);c>r?d.after(l):c<r&&d.before(l),t.tmEPOAdmin.builder_reorder_multiple()},cancel:".tm-add-box",forcePlaceholderSize:!0,tolerance:"pointer"}),a.find(e.addheader).on("click.tmtabs",function(t){t.preventDefault();var i=a.find(e.headers+" "+e.header).last(),r=i.attr(e.dataattribute),s=a.find("."+r),o=i.tm_clone().off("closetab.tmtabs opentab.tmtabs click.tmtabs"),c=s.tm_clone().empty();l++;var d=r+"-"+l;o.html(a.find(e.headers+" "+e.header).length+1).removeClass("closed open").addClass("closed").data("tab","."+d).data("state","closed").attr(e.dataattribute,d),c.removeClass(r).addClass(d),e.useclasstohide?c.addClass("tm-hide"):c.hide(),c.removeClass("tm-animated "+e.animationclass),i.closest(".tm-box").after(o),o.wrap('<div class="tm-box"></div>'),n(o),s.after(c),e.afteraddtab.call(this,o,c)}),"auto"==e.selectedtab){var u=Cookies.get("tmadmintab");t(e.header+"["+e.dataattribute+'="'+u+'"]').is(":visible")||(u=0),t(e.header+"["+e.dataattribute+'="'+u+'"]').trigger("click.tmtabs")}else if(e.selectedtab!==!1){var u=parseInt(e.selectedtab);a.find(e.header+":eq("+u+")").trigger("click.tmtabs")}}})}),t().tmtoggle||(t.fn.tmtoggle=function(){var e=this;if(0!=e.length){var n=!1,a=0;return e.each(function(){var e=t(this);if(!e.data("tm-toggle-init")){e.data("tm-toggle-init",1);var i=e.find(".tm-toggle"),r=e.find(".tm-collapse-wrap"),s=t(".tm-collapse.tmaccordion").find(".tm-toggle");if(0==i.length||0==r.length)return;r.is(".closed")?(t(r).removeClass("closed open").addClass("closed").hide(),t(i).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-down")):(t(r).removeClass("closed open").addClass("open").show(),t(i).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-up"),n=!0),i.each(function(n,i){t(i).on("closewrap.tmtoggle",function(n){e.is(".tmaccordion")&&t(r).is(".closed")||(t(r).removeClass("closed open").addClass("closed"),t(this).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-down"),t(r).removeClass("tm-animated fadeInDown"),e.is(".tmaccordion")?t(r).animate({height:"toggle"},100,function(){t(r).hide()}):t(r).animate({height:"toggle"},100,function(){t(r).hide()}),t(window).trigger("tmlazy"))}),t(i).on("openwrap.tmtoggle",function(n){e.is(".tmaccordion")&&t(s).not(t(this)).trigger("closewrap.tmtoggle"),t(r).removeClass("closed open").addClass("open"),t(this).find(".tm-arrow").removeClass("tcfa-angle-down tcfa-angle-up").addClass("tcfa-angle-up"),t(r).show().removeClass("tm-animated fadeInDown").addClass("tm-animated fadeInDown"),setTimeout(function(){t(window).trigger("tmlazy")},200),a&&e.is(".tmaccordion")&&!e.is_on_screen()&&t(window).tc_scrollTo(t(i))}),t(i).on("click.tmtoggle",function(e){e.preventDefault(),t(r).is(".closed")?t(this).trigger("openwrap.tmtoggle"):t(this).trigger("closewrap.tmtoggle")}),t(i).find(".tm-qty").closest(".cpf_hide_element").find(".tm-epo-field").on("change.cpf",function(){t(i).trigger("openwrap.tmtoggle")})})}}),!n&&e.filter(".tmaccordion").length>0&&e.filter(".tmaccordion").first().find(".tm-toggle").trigger("openwrap.tmtoggle"),a=1,e}}),t().tc_scrollTo||(t.fn.tc_scrollTo=function(e,n,a){if(n||(n=0),!e)return this;var i=this;return this[0].self==window&&(i=t("html, body")),a||(a=0),i.animate({scrollTop:t(e).offset().top+a},n)}),t().tmpoplink||(t.fn.tmpoplink=function(){var e=this;if(0!=e.length){var n=function(e){var n=t.fn.tm_template(wp.template("tc-cart-options-popup"),{title:e.title,id:e.id,html:e.html,close:tm_epo_js.i18n_close});return n};return e.each(function(){var e=t(this);if(!e.is(".tc-poplink")){e.addClass("tc-poplink");var a=t(this).attr("href"),i=t(this).attr("data-title")?t(this).attr("data-title"):tm_epo_js.i18n_addition_options,r=t(a).html(),s=n({id:"temp_for_floatbox_insert",html:r,title:i}),o=!1;e.on("click.tmpoplink",function(e){e.preventDefault();var n=t("body").tm_floatbox({fps:1,ismodal:!1,refresh:100,width:"80%",height:"80%",classname:"flasho tm_wrapper",data:s});t(".details_cancel").click(function(){o||(o=!0,n&&(o=!1,n.cancelfunc()))})})}})}}),t.fn.tc_set_attr=function(t,e){void 0===this.attr("data-tco_"+t)&&this.attr("data-tco_"+t,this.attr(t)?this.attr(t):""),this.attr(t,e)},t.fn.tc_reset_attr=function(t){void 0!==this.attr("data-tco_"+t)&&this.attr(t,this.attr("data-tco_"+t))},t.fn.tc_image_update=function(e,n){e=t(e),e.is("select")&&(e=e.children("option:selected"));var a=this,i=t(n),r=a.data("epo_object"),s=e.data("image-variations"),o=r.main_product.closest("#product-"+r.product_id),l=o.length>0?o:r.main_product.closest(".post-"+r.product_id),c=l.find("a img:eq(0)").not(".thumbnails img"),d=c.closest("a");e&&s&&i.length>0?(i.removeAttr("data-o_src").removeAttr("data-o_title").removeAttr("data-o_alt").removeAttr("data-o_srcset").removeAttr("data-o_sizes").removeAttr("srcset").removeAttr("sizes"),i.attr("title",s.imagep.image_title),i.attr("alt",s.imagep.image_alt),s.imagep.image_srcset&&i.attr("srcset",s.imagep.image_srcset),s.imagep.image_sizes&&i.attr("sizes",s.imagep.image_sizes),c.tc_set_attr("title",s.imagep.image_title),c.tc_set_attr("alt",s.imagep.image_alt),d.tc_set_attr("href",s.imagep.image_link),d.tc_set_attr("title",s.imagep.image_caption)):(c.tc_reset_attr("title"),c.tc_reset_attr("alt"),d.tc_reset_attr("href"),d.tc_reset_attr("title"))}}(jQuery);!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(t){for(var e,a;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(a=parseInt(t.css("zIndex"),10),!isNaN(a)&&0!==a))return a;t=t.parent()}return 0}function a(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-tm-datepicker-div",this._inlineClass="ui-tm-datepicker-inline",this._appendClass="ui-tm-datepicker-append",this._triggerClass="ui-tm-datepicker-trigger",this._dialogClass="ui-tm-datepicker-dialog",this._disableClass="ui-tm-datepicker-disabled",this._unselectableClass="ui-tm-datepicker-unselectable",this._currentClass="ui-tm-datepicker-current-day",this._dayOverClass="ui-tm-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=i(t("<div id='"+this._mainDivId+"' class='ui-tm-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(e){var a="button, .ui-tm-datepicker-prev, .ui-tm-datepicker-next, .ui-tm-datepicker-calendar td a";return e.delegate(a,"mouseout",function(){t(this).removeClass("ui-state-hover"),this.className.indexOf("ui-tm-datepicker-prev")!==-1&&t(this).removeClass("ui-tm-datepicker-prev-hover"),this.className.indexOf("ui-tm-datepicker-next")!==-1&&t(this).removeClass("ui-tm-datepicker-next-hover")}).delegate(a,"mouseover",s)}function s(){t.tm_datepicker._isDisabledDatepicker(n.inline?n.dpDiv.parent()[0]:n.input[0])||(t(this).parents(".ui-tm-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),this.className.indexOf("ui-tm-datepicker-prev")!==-1&&t(this).addClass("ui-tm-datepicker-prev-hover"),this.className.indexOf("ui-tm-datepicker-next")!==-1&&t(this).addClass("ui-tm-datepicker-next-hover"))}function r(e,a){t.extend(e,a);for(var i in a)null==a[i]&&(e[i]=a[i]);return e}if(t.ui.tm_datepicker=t.ui.tm_datepicker||{},!t.ui.tm_datepicker.version){t.extend(t.ui,{tm_datepicker:{version:"1.11.4"}});var n;t.extend(a.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return r(this._defaults,t||{}),this},_attachDatepicker:function(e,a){var i,s,r;i=e.nodeName.toLowerCase(),s="div"===i||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),r=this._newInst(t(e),s),r.settings=t.extend({},a||{}),"input"===i?this._connectDatepicker(e,r):s&&this._inlineDatepicker(e,r)},_newInst:function(e,a){var s=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:a,dpDiv:a?i(t("<div class='"+this._inlineClass+" ui-tm-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,a){var i=t(e);a.append=t([]),a.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,a),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(a),t.data(e,"datepicker",a),a.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,a){var i,s,r,n=this._get(a,"appendText"),c=this._get(a,"isRTL");a.append&&a.append.remove(),n&&(a.append=t("<span class='"+this._appendClass+"'>"+n+"</span>"),e[c?"before":"after"](a.append)),e.unbind("focus",this._showDatepicker),a.trigger&&a.trigger.remove(),i=this._get(a,"showOn"),"focus"!==i&&"both"!==i||e.focus(this._showDatepicker),"button"!==i&&"both"!==i||(s=this._get(a,"buttonText"),r=this._get(a,"buttonImage"),a.trigger=t(this._get(a,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:r,alt:s,title:s}):t("<button type='button'></button>").addClass(this._triggerClass).html(r?t("<img/>").attr({src:r,alt:s,title:s}):s)),e[c?"before":"after"](a.trigger),a.trigger.click(function(){return t.tm_datepicker._datepickerShowing&&t.tm_datepicker._lastInput===e[0]?t.tm_datepicker._hideDatepicker():t.tm_datepicker._datepickerShowing&&t.tm_datepicker._lastInput!==e[0]?(t.tm_datepicker._hideDatepicker(),t.tm_datepicker._showDatepicker(e[0])):t.tm_datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,a,i,s,r=new Date(2009,11,20),n=this._get(t,"dateFormat");n.match(/[DM]/)&&(e=function(t){for(a=0,i=0,s=0;s<t.length;s++)t[s].length>a&&(a=t[s].length,i=s);return i},r.setMonth(e(this._get(t,n.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(e(this._get(t,n.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),t.input.attr("size",this._formatDate(t,r).length)}},_inlineDatepicker:function(e,a){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(a.dpDiv),t.data(e,"datepicker",a),this._setDate(a,this._getDefaultDate(a),!0),this._updateDatepicker(a),this._updateAlternate(a),a.settings.disabled&&this._disableDatepicker(e),a.dpDiv.css("display","block"))},_dialogDatepicker:function(e,a,i,s,n){var c,d,l,o,u,h=this._dialogInst;return h||(this.uuid+=1,c="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+c+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},t.data(this._dialogInput[0],"datepicker",h)),r(h.settings,s||{}),a=a&&a.constructor===Date?this._formatDate(h,a):a,this._dialogInput.val(a),this._pos=n?n.length?n:[n.pageX,n.pageY]:null,this._pos||(d=document.documentElement.clientWidth,l=document.documentElement.clientHeight,o=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[d/2-100+o,l/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(e){var a,i=t(e),s=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(a=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===a?(s.append.remove(),s.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==a&&"span"!==a||i.removeClass(this.markerClassName).empty(),n===s&&(n=null))},_enableDatepicker:function(e){var a,i,s=t(e),r=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(a=e.nodeName.toLowerCase(),"input"===a?(e.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==a&&"span"!==a||(i=s.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-tm-datepicker-month, select.ui-tm-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var a,i,s=t(e),r=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&(a=e.nodeName.toLowerCase(),"input"===a?(e.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==a&&"span"!==a||(i=s.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-tm-datepicker-month, select.ui-tm-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,a,i){var s,n,c,d,l=this._getInst(e);return 2===arguments.length&&"string"==typeof a?"defaults"===a?t.extend({},t.tm_datepicker._defaults):l?"all"===a?t.extend({},l.settings):this._get(l,a):null:(s=a||{},"string"==typeof a&&(s={},s[a]=i),void(l&&(this._curInst===l&&this._hideDatepicker(),n=this._getDateDatepicker(e,!0),c=this._getMinMaxDate(l,"min"),d=this._getMinMaxDate(l,"max"),r(l.settings,s),null!==c&&void 0!==s.dateFormat&&void 0===s.minDate&&(l.settings.minDate=this._formatDate(l,c)),null!==d&&void 0!==s.dateFormat&&void 0===s.maxDate&&(l.settings.maxDate=this._formatDate(l,d)),"disabled"in s&&(s.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,n),this._updateAlternate(l),this._updateDatepicker(l))))},_changeDatepicker:function(t,e,a){this._optionDatepicker(t,e,a)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var a=this._getInst(t);a&&(this._setDate(a,e),this._updateDatepicker(a),this._updateAlternate(a))},_getDateDatepicker:function(t,e){var a=this._getInst(t);return a&&!a.inline&&this._setDateFromField(a,e),a?this._getDate(a):null},_doKeyDown:function(e){var a,i,s,r=t.tm_datepicker._getInst(e.target),n=!0,c=r.dpDiv.is(".ui-tm-datepicker-rtl");if(r._keyEvent=!0,t.tm_datepicker._datepickerShowing)switch(e.keyCode){case 9:t.tm_datepicker._hideDatepicker(),n=!1;break;case 13:return s=t("td."+t.tm_datepicker._dayOverClass+":not(."+t.tm_datepicker._currentClass+")",r.dpDiv),s[0]&&t.tm_datepicker._selectDay(e.target,r.selectedMonth,r.selectedYear,s[0]),a=t.tm_datepicker._get(r,"onSelect"),a?(i=t.tm_datepicker._formatDate(r),a.apply(r.input?r.input[0]:null,[i,r])):t.tm_datepicker._hideDatepicker(),!1;case 27:t.tm_datepicker._hideDatepicker();break;case 33:t.tm_datepicker._adjustDate(e.target,e.ctrlKey?-t.tm_datepicker._get(r,"stepBigMonths"):-t.tm_datepicker._get(r,"stepMonths"),"M");break;case 34:t.tm_datepicker._adjustDate(e.target,e.ctrlKey?+t.tm_datepicker._get(r,"stepBigMonths"):+t.tm_datepicker._get(r,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.tm_datepicker._clearDate(e.target),n=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.tm_datepicker._gotoToday(e.target),n=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.tm_datepicker._adjustDate(e.target,c?1:-1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.tm_datepicker._adjustDate(e.target,e.ctrlKey?-t.tm_datepicker._get(r,"stepBigMonths"):-t.tm_datepicker._get(r,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.tm_datepicker._adjustDate(e.target,-7,"D"),n=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.tm_datepicker._adjustDate(e.target,c?-1:1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.tm_datepicker._adjustDate(e.target,e.ctrlKey?+t.tm_datepicker._get(r,"stepBigMonths"):+t.tm_datepicker._get(r,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.tm_datepicker._adjustDate(e.target,7,"D"),n=e.ctrlKey||e.metaKey;break;default:n=!1}else 36===e.keyCode&&e.ctrlKey?t.tm_datepicker._showDatepicker(this):n=!1;n&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var a,i,s=t.tm_datepicker._getInst(e.target);if(t.tm_datepicker._get(s,"constrainInput"))return a=t.tm_datepicker._possibleChars(t.tm_datepicker._get(s,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||i<" "||!a||a.indexOf(i)>-1},_doKeyUp:function(e){var a,i=t.tm_datepicker._getInst(e.target);if(i.input.val()!==i.lastVal)try{a=t.tm_datepicker.parseDate(t.tm_datepicker._get(i,"dateFormat"),i.input?i.input.val():null,t.tm_datepicker._getFormatConfig(i)),a&&(t.tm_datepicker._setDateFromField(i),t.tm_datepicker._updateAlternate(i),t.tm_datepicker._updateDatepicker(i))}catch(t){}return!0},_showDatepicker:function(a){if(a=a.target||a,"input"!==a.nodeName.toLowerCase()&&(a=t("input",a.parentNode)[0]),!t.tm_datepicker._isDisabledDatepicker(a)&&t.tm_datepicker._lastInput!==a){var i,s,n,c,d,l,o;i=t.tm_datepicker._getInst(a),t.tm_datepicker._curInst&&t.tm_datepicker._curInst!==i&&(t.tm_datepicker._curInst.dpDiv.stop(!0,!0),i&&t.tm_datepicker._datepickerShowing&&t.tm_datepicker._hideDatepicker(t.tm_datepicker._curInst.input[0])),s=t.tm_datepicker._get(i,"beforeShow"),n=s?s.apply(a,[a,i]):{},n!==!1&&(r(i.settings,n),i.lastVal=null,t.tm_datepicker._lastInput=a,t.tm_datepicker._setDateFromField(i),t.tm_datepicker._inDialog&&(a.value=""),t.tm_datepicker._pos||(t.tm_datepicker._pos=t.tm_datepicker._findPos(a),t.tm_datepicker._pos[1]+=a.offsetHeight),c=!1,t(a).parents().each(function(){return c|="fixed"===t(this).css("position"),!c}),d={left:t.tm_datepicker._pos[0],top:t.tm_datepicker._pos[1]},t.tm_datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.tm_datepicker._updateDatepicker(i),d=t.tm_datepicker._checkOffset(i,d,c),i.dpDiv.css({position:t.tm_datepicker._inDialog&&t.blockUI?"static":c?"fixed":"absolute",display:"none",left:d.left+"px",top:d.top+"px"}),i.inline||(l=t.tm_datepicker._get(i,"showAnim"),o=t.tm_datepicker._get(i,"duration"),i.dpDiv.css("z-index",e(t(a))+1),t.tm_datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?i.dpDiv.show(l,t.tm_datepicker._get(i,"showOptions"),o):i.dpDiv[l||"show"](l?o:null),t.tm_datepicker._shouldFocusInput(i)&&i.input.focus(),t.tm_datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,n=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var a,i=this._getNumberOfMonths(e),r=i[1],c=17,d=e.dpDiv.find("."+this._dayOverClass+" a");d.length>0&&s.apply(d.get(0)),e.dpDiv.removeClass("ui-tm-datepicker-multi-2 ui-tm-datepicker-multi-3 ui-tm-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-tm-datepicker-multi-"+r).css("width",c*r+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-tm-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-tm-datepicker-rtl"),e===t.tm_datepicker._curInst&&t.tm_datepicker._datepickerShowing&&t.tm_datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(a=e.yearshtml,setTimeout(function(){a===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-tm-datepicker-year:first").replaceWith(e.yearshtml),a=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,a,i){var s=e.dpDiv.outerWidth(),r=e.dpDiv.outerHeight(),n=e.input?e.input.outerWidth():0,c=e.input?e.input.outerHeight():0,d=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return a.left-=this._get(e,"isRTL")?s-n:0,a.left-=i&&a.left===e.input.offset().left?t(document).scrollLeft():0,a.top-=i&&a.top===e.input.offset().top+c?t(document).scrollTop():0,a.left-=Math.min(a.left,a.left+s>d&&d>s?Math.abs(a.left+s-d):0),a.top-=Math.min(a.top,a.top+r>l&&l>r?Math.abs(r+c):0),a},_findPos:function(e){for(var a,i=this._getInst(e),s=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[s?"previousSibling":"nextSibling"];return a=t(e).offset(),[a.left,a.top]},_hideDatepicker:function(e){var a,i,s,r,n=this._curInst;!n||e&&n!==t.data(e,"datepicker")||this._datepickerShowing&&(a=this._get(n,"showAnim"),i=this._get(n,"duration"),s=function(){t.tm_datepicker._tidyDialog(n)},t.effects&&(t.effects.effect[a]||t.effects[a])?n.dpDiv.hide(a,t.tm_datepicker._get(n,"showOptions"),i,s):n.dpDiv["slideDown"===a?"slideUp":"fadeIn"===a?"fadeOut":"hide"](a?i:null,s),a||s(),this._datepickerShowing=!1,r=this._get(n,"onClose"),r&&r.apply(n.input?n.input[0]:null,[n.input?n.input.val():"",n]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-tm-datepicker-calendar")},_checkExternalClick:function(e){if(t.tm_datepicker._curInst){var a=t(e.target),i=t.tm_datepicker._getInst(a[0]);(a[0].id===t.tm_datepicker._mainDivId||0!==a.parents("#"+t.tm_datepicker._mainDivId).length||a.hasClass(t.tm_datepicker.markerClassName)||a.closest("."+t.tm_datepicker._triggerClass).length||!t.tm_datepicker._datepickerShowing||t.tm_datepicker._inDialog&&t.blockUI)&&(!a.hasClass(t.tm_datepicker.markerClassName)||t.tm_datepicker._curInst===i)||t.tm_datepicker._hideDatepicker()}},_adjustDate:function(e,a,i){var s=t(e),r=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(r,a+("M"===i?this._get(r,"showCurrentAtPos"):0),i),this._updateDatepicker(r))},_gotoToday:function(e){var a,i=t(e),s=this._getInst(i[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(a=new Date,s.selectedDay=a.getDate(),s.drawMonth=s.selectedMonth=a.getMonth(),s.drawYear=s.selectedYear=a.getFullYear()),this._notifyChange(s),this._adjustDate(i)},_selectMonthYear:function(e,a,i){var s=t(e),r=this._getInst(s[0]);r["selected"+("M"===i?"Month":"Year")]=r["draw"+("M"===i?"Month":"Year")]=parseInt(a.options[a.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(s)},_selectDay:function(e,a,i,s){var r,n=t(e);t(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(n[0])||(r=this._getInst(n[0]),r.selectedDay=r.currentDay=t("a",s).html(),r.selectedMonth=r.currentMonth=a,r.selectedYear=r.currentYear=i,this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(e){var a=t(e);this._selectDate(a,"")},_selectDate:function(e,a){var i,s=t(e),r=this._getInst(s[0]);a=null!=a?a:this._formatDate(r),r.input&&r.input.val(a),this._updateAlternate(r),i=this._get(r,"onSelect"),i?i.apply(r.input?r.input[0]:null,[a,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var a,i,s,r=this._get(e,"altField");r&&(a=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),s=this.formatDate(a,i,this._getFormatConfig(e)),t(r).each(function(){t(this).val(s)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,a=new Date(t.getTime());return a.setDate(a.getDate()+4-(a.getDay()||7)),e=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((e-a)/864e5)/7)+1},parseDate:function(e,a,i){if(null==e||null==a)throw"Invalid arguments";if(a="object"==typeof a?a.toString():a+"",""===a)return null;var s,r,n,c,d=0,l=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,o="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),u=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,h=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,m=(i?i.monthNames:null)||this._defaults.monthNames,_=-1,g=-1,k=-1,D=-1,f=!1,v=function(t){var a=s+1<e.length&&e.charAt(s+1)===t;return a&&s++,a},y=function(t){var e=v(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,s="y"===t?i:1,r=new RegExp("^\\d{"+s+","+i+"}"),n=a.substring(d).match(r);if(!n)throw"Missing number at position "+d;return d+=n[0].length,parseInt(n[0],10)},b=function(e,i,s){var r=-1,n=t.map(v(e)?s:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(n,function(t,e){var i=e[1];if(a.substr(d,i.length).toLowerCase()===i.toLowerCase())return r=e[0],d+=i.length,!1}),r!==-1)return r+1;throw"Unknown name at position "+d},w=function(){if(a.charAt(d)!==e.charAt(s))throw"Unexpected literal at position "+d;d++};for(s=0;s<e.length;s++)if(f)"'"!==e.charAt(s)||v("'")?w():f=!1;else switch(e.charAt(s)){case"d":k=y("d");break;case"D":b("D",u,h);break;case"o":D=y("o");break;case"m":g=y("m");break;case"M":g=b("M",p,m);break;case"y":_=y("y");break;case"@":c=new Date(y("@")),_=c.getFullYear(),g=c.getMonth()+1,k=c.getDate();break;case"!":c=new Date((y("!")-this._ticksTo1970)/1e4),_=c.getFullYear(),g=c.getMonth()+1,k=c.getDate();break;case"'":v("'")?w():f=!0;break;default:w()}if(d<a.length&&(n=a.substr(d),!/^\s+/.test(n)))throw"Extra/unparsed characters found in date: "+n;if(_===-1?_=(new Date).getFullYear():_<100&&(_+=(new Date).getFullYear()-(new Date).getFullYear()%100+(_<=o?0:-100)),D>-1)for(g=1,k=D;;){if(r=this._getDaysInMonth(_,g-1),k<=r)break;g++,k-=r}if(c=this._daylightSavingAdjust(new Date(_,g-1,k)),c.getFullYear()!==_||c.getMonth()+1!==g||c.getDate()!==k)throw"Invalid date";return c},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,a){if(!e)return"";var i,s=(a?a.dayNamesShort:null)||this._defaults.dayNamesShort,r=(a?a.dayNames:null)||this._defaults.dayNames,n=(a?a.monthNamesShort:null)||this._defaults.monthNamesShort,c=(a?a.monthNames:null)||this._defaults.monthNames,d=function(e){var a=i+1<t.length&&t.charAt(i+1)===e;return a&&i++,a},l=function(t,e,a){var i=""+e;if(d(t))for(;i.length<a;)i="0"+i;return i},o=function(t,e,a,i){return d(t)?i[e]:a[e]},u="",h=!1;if(e)for(i=0;i<t.length;i++)if(h)"'"!==t.charAt(i)||d("'")?u+=t.charAt(i):h=!1;else switch(t.charAt(i)){case"d":u+=l("d",e.getDate(),2);break;case"D":u+=o("D",e.getDay(),s,r);break;case"o":u+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",e.getMonth()+1,2);break;case"M":u+=o("M",e.getMonth(),n,c);break;case"y":u+=d("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":d("'")?u+="'":h=!0;break;default:u+=t.charAt(i)}return u},_possibleChars:function(t){var e,a="",i=!1,s=function(a){var i=e+1<t.length&&t.charAt(e+1)===a;return i&&e++,i};for(e=0;e<t.length;e++)if(i)"'"!==t.charAt(e)||s("'")?a+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":a+="0123456789";break;case"D":case"M":return null;case"'":s("'")?a+="'":i=!0;break;default:a+=t.charAt(e)}return a},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var a=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,s=this._getDefaultDate(t),r=s,n=this._getFormatConfig(t);try{r=this.parseDate(a,i,n)||s}catch(t){i=e?"":i}t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),t.currentDay=i?r.getDate():0,t.currentMonth=i?r.getMonth():0,t.currentYear=i?r.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,a,i){var s=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},r=function(a){try{return t.tm_datepicker.parseDate(t.tm_datepicker._get(e,"dateFormat"),a,t.tm_datepicker._getFormatConfig(e))}catch(t){}for(var i=(a.toLowerCase().match(/^c/)?t.tm_datepicker._getDate(e):null)||new Date,s=i.getFullYear(),r=i.getMonth(),n=i.getDate(),c=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,d=c.exec(a);d;){switch(d[2]||"d"){case"d":case"D":n+=parseInt(d[1],10);break;case"w":case"W":n+=7*parseInt(d[1],10);break;case"m":case"M":r+=parseInt(d[1],10),n=Math.min(n,t.tm_datepicker._getDaysInMonth(s,r));break;case"y":case"Y":s+=parseInt(d[1],10),n=Math.min(n,t.tm_datepicker._getDaysInMonth(s,r))}d=c.exec(a)}return new Date(s,r,n)},n=null==a||""===a?i:"string"==typeof a?r(a):"number"==typeof a?isNaN(a)?i:s(a):new Date(a.getTime());return n=n&&"Invalid Date"===n.toString()?i:n,n&&(n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)),this._daylightSavingAdjust(n)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,a){var i=!e,s=t.selectedMonth,r=t.selectedYear,n=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=n.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=n.getMonth(),t.drawYear=t.selectedYear=t.currentYear=n.getFullYear(),s===t.selectedMonth&&r===t.selectedYear||a||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var a=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prevM:function(){t.tm_datepicker._adjustDate(i,-1,"M")},nextM:function(){t.tm_datepicker._adjustDate(i,1,"M")},prevY:function(){t.tm_datepicker._adjustDate(i,-1,"Y")},nextY:function(){t.tm_datepicker._adjustDate(i,1,"Y")},prev:function(){t.tm_datepicker._adjustDate(i,-a,"M")},next:function(){t.tm_datepicker._adjustDate(i,+a,"M")},hide:function(){t.tm_datepicker._hideDatepicker()},today:function(){t.tm_datepicker._gotoToday(i)},selectDay:function(){return t.tm_datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.tm_datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.tm_datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_tm_canAdjustMonth:function(t,e,a,i){var s=this._daylightSavingAdjust(new Date(a,i+e,1));return e<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(t,s)},_generateHTML:function(t){var e,a,i,s,r,n,c,d,l,o,u,h,p,m,_,g,k,D,f,v,y,b,w,M,C,I,x,S,P,Y,F,T,j,N,A,K,R,O,L,E,W,H,z,B,U,Q,J,V=new Date,q=this._daylightSavingAdjust(new Date(V.getFullYear(),V.getMonth(),V.getDate())),X=this._get(t,"isRTL"),Z=this._get(t,"showButtonPanel"),$=this._get(t,"hideIfNoPrevNext"),G=this._get(t,"navigationAsDateFormat"),tt=this._getNumberOfMonths(t),et=this._get(t,"showCurrentAtPos"),at=this._get(t,"stepMonths"),it=1!==tt[0]||1!==tt[1],st=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),rt=this._getMinMaxDate(t,"min"),nt=this._getMinMaxDate(t,"max"),ct=t.drawMonth-et,dt=t.drawYear;if(ct<0&&(ct+=12,dt--),nt)for(e=this._daylightSavingAdjust(new Date(nt.getFullYear(),nt.getMonth()-tt[0]*tt[1]+1,nt.getDate())),e=rt&&e<rt?rt:e;this._daylightSavingAdjust(new Date(dt,ct,1))>e;)ct--,ct<0&&(ct=11,dt--);t.drawMonth=ct,t.drawYear=dt,a=this._get(t,"prevText"),a=G?this.formatDate(a,this._daylightSavingAdjust(new Date(dt,ct-at,1)),this._getFormatConfig(t)):a,i=this._canAdjustMonth(t,-1,dt,ct)?"<a class='ui-tm-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(X?"e":"w")+"'>"+a+"</span></a>":$?"":"<a class='ui-tm-datepicker-prev ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(X?"e":"w")+"'>"+a+"</span></a>",s=this._get(t,"nextText"),s=G?this.formatDate(s,this._daylightSavingAdjust(new Date(dt,ct+at,1)),this._getFormatConfig(t)):s,r=this._canAdjustMonth(t,1,dt,ct)?"<a class='ui-tm-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(X?"w":"e")+"'>"+s+"</span></a>":$?"":"<a class='ui-tm-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(X?"w":"e")+"'>"+s+"</span></a>",n=this._get(t,"currentText"),c=this._get(t,"gotoCurrent")&&t.currentDay?st:q,n=G?this.formatDate(n,c,this._getFormatConfig(t)):n,d=t.inline?"":"<button type='button' class='ui-tm-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=Z?"<div class='ui-tm-datepicker-buttonpane ui-widget-content'>"+(X?d:"")+(this._isInRange(t,c)?"<button type='button' class='ui-tm-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+n+"</button>":"")+(X?"":d)+"</div>":"",Q=t.inline?"":"<div class='tm-ui-dp-btn-wrap tm-ui-dp-close'><div role='button' class='tm-ui-dp-btn ui-tm-datepicker-close' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</div></div>",J=Z?"<div class='tm-ui-dp-buttonpane'>"+(X?Q:"")+(this._isInRange(t,c)?"<div class='tm-ui-dp-btn-wrap tm-ui-dp-current'><div role='button' class='tm-ui-dp-btn ui-tm-datepicker-current' data-handler='today' data-event='click'>"+n+"</div></div>":"")+(X?"":Q)+"</div>":"",o=parseInt(this._get(t,"firstDay"),10),o=isNaN(o)?0:o,u=this._get(t,"showWeek"),h=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),m=this._get(t,"monthNames"),_=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),k=this._get(t,"showOtherMonths"),D=this._get(t,"selectOtherMonths"),f=this._getDefaultDate(t),v="";var lt=this._tm_canAdjustMonth(t,-1,dt,ct),ot=this._tm_canAdjustMonth(t,1,dt,ct),ut=this._tm_canAdjustMonth(t,-12,dt,ct),ht=this._tm_canAdjustMonth(t,12,dt,ct);for(H='<div class="tm-ui-dp-button-prev tm-ui-dp-button"><div '+(lt?'data-handler="prevM" data-event="click" ':"")+'aria-label="'+a+'" class="'+(lt?"":"tm-ui-dp-button-disabled ")+'tm-ui-dp-button-arrow tcfa tcfa-angle-left" tabindex="0" role="button"></div></div>',z='<div class="tm-ui-dp-button-next tm-ui-dp-button"><div '+(ot?'data-handler="nextM" data-event="click" ':"")+'aria-label="'+s+'" class="'+(ot?"":"tm-ui-dp-button-disabled ")+'tm-ui-dp-button-arrow tcfa tcfa-angle-right" tabindex="0" role="button"></div></div>',B='<div class="tm-ui-dp-button-prev tm-ui-dp-button"><div '+(ut?'data-handler="prevY" data-event="click" ':"")+'aria-label="'+a+'" class="'+(ut?"":"tm-ui-dp-button-disabled ")+'tm-ui-dp-button-arrow tcfa tcfa-angle-left" tabindex="0" role="button"></div></div>',U='<div class="tm-ui-dp-button-next tm-ui-dp-button"><div '+(ht?'data-handler="nextY" data-event="click" ':"")+'aria-label="'+s+'" class="'+(ht?"":"tm-ui-dp-button-disabled ")+'tm-ui-dp-button-arrow tcfa tcfa-angle-right" tabindex="0" role="button"></div></div>',E=$?"":'<div class="tm-ui-dp-title-button">'+(X?z:H)+'<span aria-label="'+m[ct]+'" role="button" class="tm-ui-dp-month">'+m[ct]+"</span>"+(X?H:z)+"</div>",W=$?"":'<div class="tm-ui-dp-title-button">'+(X?U:B)+'<span class="tm-ui-dp-year" role="button" aria-label="'+dt+'">'+dt+"</span>"+(X?B:U)+"</div>",
v+="<div class='tm-ui-dp-wrap'><div class='tm-ui-dp-overlay'></div><div class='tm-ui-dp'><div class='tm-ui-dp-container'><div class='tm-ui-dp-inner-container'><div class='tm-ui-dp-ui'><div class='tm-ui-dp-ui-inner'><div class='tm-ui-dp-main-wrap'><div class='tm-ui-dp-main'>",b=0;b<tt[0];b++){for(w="",this.maxRows=4,M=0;M<tt[1];M++){if(C=this._daylightSavingAdjust(new Date(dt,ct,t.selectedDay)),I=" ui-corner-all",x="",it){if(x+="<div class='ui-tm-datepicker-group",tt[1]>1)switch(M){case 0:x+=" ui-tm-datepicker-group-first",I=" ui-corner-"+(X?"right":"left");break;case tt[1]-1:x+=" ui-tm-datepicker-group-last",I=" ui-corner-"+(X?"left":"right");break;default:x+=" ui-tm-datepicker-group-middle",I=""}x+="'>"}for(x+="<div class='tm-ui-dp-header ui-tm-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===b?X?r:i:"")+(/all|right/.test(I)&&0===b?X?i:r:"")+'<div class="ui-tm-datepicker-title tm-ui-dp-title">'+(/all|left/.test(I)&&0===b?X?W+E:E+W:"")+"</div></div>",x+="<div class='tm-ui-dp-main-content'>",x+="<div class='tm-ui-dp-main-header-wrap'><div class='tm-ui-dp-main-header'>",x+="<table class='ui-tm-datepicker-calendar'><tbody><tr>",S=u?"<th class='ui-tm-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",y=0;y<7;y++)P=(y+o)%7,S+="<th scope='col'"+((y+o+6)%7>=5?" class='ui-tm-datepicker-week-end'":"")+"><span title='"+h[P]+"'>"+p[P]+"</span></th>";for(x+=S+"</tr></tbody></table>",x+="</div></div>",x+="<div class='tm-ui-dp-main-table'>",Y=this._getDaysInMonth(dt,ct),dt===t.selectedYear&&ct===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,Y)),F=(this._getFirstDayOfMonth(dt,ct)-o+7)%7,T=6,j=it&&this.maxRows>T?this.maxRows:T,this.maxRows=j,N=this._daylightSavingAdjust(new Date(dt,ct,1-F)),A=0;A<j;A++){for(x+="<div class='tm-ui-dp-main-row'>",K=u?"<div class='ui-tm-datepicker-week-col'>"+this._get(t,"calculateWeek")(N)+"</div>":"",y=0;y<7;y++)R=g?g.apply(t.input?t.input[0]:null,[N]):[!0,""],O=N.getMonth()!==ct,L=O&&!D||!R[0]||rt&&N<rt||nt&&N>nt,K+="<div class='tm-ui-dp-main-cell "+((y+o+6)%7>=5?" ui-tm-datepicker-week-end":"")+(O?" ui-tm-datepicker-other-month":"")+(N.getTime()===C.getTime()&&ct===t.selectedMonth&&t._keyEvent||f.getTime()===N.getTime()&&f.getTime()===C.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(O&&!k?"":" "+R[1]+(N.getTime()===st.getTime()?" "+this._currentClass:"")+(N.getTime()===q.getTime()?" ui-tm-datepicker-today":""))+"'"+(O&&!k||!R[2]?"":" title='"+R[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+"><div class='tm-ui-dp-main-cell-inner'><div class='tm-ui-dp-main-cell-content'>"+(O&&!k?"&#xa0;":L?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===q.getTime()?" ui-state-highlight":"")+(N.getTime()===st.getTime()?" ui-state-active":"")+(O?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</div></div></div>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);x+=K+"</div>"}ct++,ct>11&&(ct=0,dt++),x+="</div>",x+="</div>"+(it?"</div>"+(tt[0]>0&&M===tt[1]-1?"<div class='ui-tm-datepicker-row-break'></div>":""):""),w+=x}v+=w}return v+="</div></div></div></div></div>",v+=J,v+="</div></div></div>",t._keyEvent=!1,v},_generateMonthYearHeader:function(t,e,a,i,s,r,n,c){var d,l,o,u,h,p,m,_,g=this._get(t,"changeMonth"),k=this._get(t,"changeYear"),D=this._get(t,"showMonthAfterYear"),f="<div class='ui-tm-datepicker-title'>",v="";if(r||!g)v+="<span class='ui-tm-datepicker-month'>"+n[e]+"</span>";else{for(d=i&&i.getFullYear()===a,l=s&&s.getFullYear()===a,v+="<select class='ui-tm-datepicker-month' data-handler='selectMonth' data-event='change'>",o=0;o<12;o++)(!d||o>=i.getMonth())&&(!l||o<=s.getMonth())&&(v+="<option value='"+o+"'"+(o===e?" selected='selected'":"")+">"+c[o]+"</option>");v+="</select>"}if(D||(f+=v+(!r&&g&&k?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",r||!k)f+="<span class='ui-tm-datepicker-year'>"+a+"</span>";else{for(u=this._get(t,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?a+parseInt(t.substring(1),10):t.match(/[+\-].*/)?h+parseInt(t,10):parseInt(t,10);return isNaN(e)?h:e},m=p(u[0]),_=Math.max(m,p(u[1]||"")),m=i?Math.max(m,i.getFullYear()):m,_=s?Math.min(_,s.getFullYear()):_,t.yearshtml+="<select class='ui-tm-datepicker-year' data-handler='selectYear' data-event='change'>";m<=_;m++)t.yearshtml+="<option value='"+m+"'"+(m===a?" selected='selected'":"")+">"+m+"</option>";t.yearshtml+="</select>",f+=t.yearshtml,t.yearshtml=null}return f+=this._get(t,"yearSuffix"),D&&(f+=(!r&&g&&k?"":"&#xa0;")+v),f+="</div>"},_adjustInstDate:function(t,e,a){var i=t.drawYear+("Y"===a?e:0),s=t.drawMonth+("M"===a?e:0),r=Math.min(t.selectedDay,this._getDaysInMonth(i,s))+("D"===a?e:0),n=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,s,r)));t.selectedDay=n.getDate(),t.drawMonth=t.selectedMonth=n.getMonth(),t.drawYear=t.selectedYear=n.getFullYear(),"M"!==a&&"Y"!==a||this._notifyChange(t)},_restrictMinMax:function(t,e){var a=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),s=a&&e<a?a:e;return i&&s>i?i:s},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,a,i){var s=this._getNumberOfMonths(t),r=this._daylightSavingAdjust(new Date(a,i+(e<0?e:s[0]*s[1]),1));return e<0&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(t,r)},_isInRange:function(t,e){var a,i,s=this._getMinMaxDate(t,"min"),r=this._getMinMaxDate(t,"max"),n=null,c=null,d=this._get(t,"yearRange");return d&&(a=d.split(":"),i=(new Date).getFullYear(),n=parseInt(a[0],10),c=parseInt(a[1],10),a[0].match(/[+\-].*/)&&(n+=i),a[1].match(/[+\-].*/)&&(c+=i)),(!s||e.getTime()>=s.getTime())&&(!r||e.getTime()<=r.getTime())&&(!n||e.getFullYear()>=n)&&(!c||e.getFullYear()<=c)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,a,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var s=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,a,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),s,this._getFormatConfig(t))}}),t.fn.tm_datepicker=function(e){if(!this.length)return this;t.tm_datepicker.initialized||(t(document).mousedown(t.tm_datepicker._checkExternalClick),t.tm_datepicker.initialized=!0),0===t("#"+t.tm_datepicker._mainDivId).length&&t("body").append(t.tm_datepicker.dpDiv);var a=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.tm_datepicker["_"+e+"Datepicker"].apply(t.tm_datepicker,[this[0]].concat(a)):this.each(function(){"string"==typeof e?t.tm_datepicker["_"+e+"Datepicker"].apply(t.tm_datepicker,[this].concat(a)):t.tm_datepicker._attachDatepicker(this,e)}):t.tm_datepicker["_"+e+"Datepicker"].apply(t.tm_datepicker,[this[0]].concat(a))},t.tm_datepicker=new a,t.tm_datepicker.initialized=!1,t.tm_datepicker.uuid=(new Date).getTime(),t.tm_datepicker.version="1.11.4";t.tm_datepicker}}),function(t){t.extend(t.ui,{multiDatesPicker:{version:"1.6.4"}}),t.fn.multiDatesPicker=function(e){function a(t,e){e||(e="picked"),t=n.call(this,t);for(var a=0;a<this.multiDatesPicker.dates[e].length;a++)if(!o.compareDates(this.multiDatesPicker.dates[e][a],t))return this.multiDatesPicker.dates[e].splice(a,1).pop()}function i(t,e){return e||(e="picked"),this.multiDatesPicker.dates[e].splice(t,1).pop()}function s(t,e,a){e||(e="picked"),t=n.call(this,t),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),o.gotDate.call(this,t,e)===!1&&(this.multiDatesPicker.dates[e].push(t),a||this.multiDatesPicker.dates[e].sort(o.compareDates))}function r(t){t||(t="picked"),this.multiDatesPicker.dates[t].sort(o.compareDates)}function n(t,e,a){return e||(e="object"),o.dateConvert.call(this,t,e,a)}var c=arguments,d=this,l={},o={init:function(e){var a=t(this);this.multiDatesPicker.changed=!1;var i={beforeShow:function(t,e){this.multiDatesPicker.changed=!1,this.multiDatesPicker.originalBeforeShow&&this.multiDatesPicker.originalBeforeShow.call(this,t,e)},onSelect:function(e,a){var i=t(this);if(this.multiDatesPicker.changed=!0,e&&(i.multiDatesPicker("toggleDate",e),this.multiDatesPicker.changed=!0),"normal"==this.multiDatesPicker.mode&&this.multiDatesPicker.pickableRange)if(this.multiDatesPicker.dates.picked.length>0){var s=this.multiDatesPicker.dates.picked[0],r=new Date(s.getTime());if(o.sumDays(r,this.multiDatesPicker.pickableRange-1),this.multiDatesPicker.adjustRangeToDisabled){var n,c=this.multiDatesPicker.dates.disabled.slice(0);do{n=0;for(var d=0;d<c.length;d++)c[d].getTime()<=r.getTime()&&(s.getTime()<=c[d].getTime()&&c[d].getTime()<=r.getTime()&&n++,c.splice(d,1),d--);r.setDate(r.getDate()+n)}while(0!=n)}this.multiDatesPicker.maxDate&&r>this.multiDatesPicker.maxDate&&(r=this.multiDatesPicker.maxDate),i.tm_datepicker("option","minDate",s).tm_datepicker("option","maxDate",r)}else i.tm_datepicker("option","minDate",this.multiDatesPicker.minDate).tm_datepicker("option","maxDate",this.multiDatesPicker.maxDate);this.multiDatesPicker.originalOnSelect&&e&&this.multiDatesPicker.originalOnSelect.call(this,e,a)},beforeShowDay:function(e){var a=t(this),i=a.multiDatesPicker("gotDate",e)!==!1,s=a.tm_datepicker("option","disabled"),r=a.multiDatesPicker("gotDate",e,"disabled")!==!1,n=this.multiDatesPicker.maxPicks<=this.multiDatesPicker.dates.picked.length,c=[!0,"",null];return this.multiDatesPicker.originalBeforeShowDay&&(c=this.multiDatesPicker.originalBeforeShowDay.call(this,e)),c[1]=i?"ui-state-highlight "+c[1]:c[1],c[0]=c[0]&&!(s||r||n&&!c[1]),c}};if(a.val())var s=a.val();e?(e.separator&&(this.multiDatesPicker.separator=e.separator),this.multiDatesPicker.separator||(this.multiDatesPicker.separator=", "),this.multiDatesPicker.originalBeforeShow=e.beforeShow,this.multiDatesPicker.originalOnSelect=e.onSelect,this.multiDatesPicker.originalBeforeShowDay=e.beforeShowDay,this.multiDatesPicker.originalOnClose=e.onClose,a.tm_datepicker(e),this.multiDatesPicker.minDate=t.tm_datepicker._determineDate(this,e.minDate,null),this.multiDatesPicker.maxDate=t.tm_datepicker._determineDate(this,e.maxDate,null),e.addDates&&o.addDates.call(this,e.addDates),e.addDisabledDates&&o.addDates.call(this,e.addDisabledDates,"disabled"),o.setMode.call(this,e)):a.tm_datepicker(),a.tm_datepicker("option",i),s&&a.multiDatesPicker("value",s);var r=a.multiDatesPicker("value");a.val(r);var n=a.tm_datepicker("option","altField");n&&t(n).val(r),a.tm_datepicker("refresh")},compareDates:function(t,e){t=n.call(this,t),e=n.call(this,e);var a=t.getFullYear()-e.getFullYear();return a||(a=t.getMonth()-e.getMonth(),a||(a=t.getDate()-e.getDate())),a},sumDays:function(t,e){var a=typeof t;return obj_date=n.call(this,t),obj_date.setDate(obj_date.getDate()+e),n.call(this,obj_date,a)},dateConvert:function(e,a,i){var s=typeof e,r=t(this);if(s==a){if("object"==s)try{e.getTime()}catch(e){return t.error("Received date is in a non supported format!"),!1}return e}if("undefined"==typeof e&&(e=new Date(0)),"string"!=a&&"object"!=a&&"number"!=a&&t.error('Date format "'+a+'" not supported!'),!i){var n=r.tm_datepicker("option","dateFormat");i=n?n:t.tm_datepicker._defaults.dateFormat}switch(s){case"object":break;case"string":e=t.tm_datepicker.parseDate(i,e);break;case"number":e=new Date(e);break;default:t.error('Conversion from "'+a+'" format not allowed on jQuery.multiDatesPicker')}switch(a){case"object":return e;case"string":return t.tm_datepicker.formatDate(i,e);case"number":return e.getTime();default:t.error('Conversion to "'+a+'" format not allowed on jQuery.multiDatesPicker')}return!1},gotDate:function(t,e){e||(e="picked");for(var a=0;a<this.multiDatesPicker.dates[e].length;a++)if(0===o.compareDates.call(this,this.multiDatesPicker.dates[e][a],t))return a;return!1},value:function(t){if(!t||"string"!=typeof t){var e=o.getDates.call(this,"string");return e.length?e.join(this.multiDatesPicker.separator):""}o.addDates.call(this,t.split(this.multiDatesPicker.separator))},getDates:function(e,a){switch(e||(e="string"),a||(a="picked"),e){case"object":return this.multiDatesPicker.dates[a];case"string":case"number":var i=new Array;for(var s in this.multiDatesPicker.dates[a])i.push(n.call(this,this.multiDatesPicker.dates[a][s],e));return i;default:t.error('Format "'+e+'" not supported!')}},addDates:function(e,a){if(e.length>0)switch(a||(a="picked"),typeof e){case"object":case"array":if(e.length){for(var i=0;i<e.length;i++)s.call(this,e[i],a,!0);r.call(this,a);break}case"string":case"number":s.call(this,e,a);break;default:t.error('Date format "'+typeof e+'" not allowed on jQuery.multiDatesPicker')}else t.error("Empty array of dates received.")},removeDates:function(t,e){e||(e="picked");var i=[];if("[object Array]"===Object.prototype.toString.call(t))for(var s in t.sort(function(t,e){return e-t}))i.push(a.call(this,t[s],e));else i.push(a.call(this,t,e));return i},removeIndexes:function(t,e){e||(e="picked");var a=[];if("[object Array]"===Object.prototype.toString.call(t))for(var s in t.sort(function(t,e){return e-t}))a.push(i.call(this,t[s],e));else a.push(i.call(this,t,e));return a},resetDates:function(t){t||(t="picked"),this.multiDatesPicker.dates[t]=[]},toggleDate:function(t,e){switch(e||(e="picked"),this.multiDatesPicker.mode){case"daysRange":this.multiDatesPicker.dates[e]=[];var a=this.multiDatesPicker.autoselectRange[1],i=this.multiDatesPicker.autoselectRange[0];a<i&&(a=this.multiDatesPicker.autoselectRange[0],i=this.multiDatesPicker.autoselectRange[1]);for(var s=i;s<a;s++)o.addDates.call(this,o.sumDays.call(this,t,s),e);break;default:o.gotDate.call(this,t)===!1?o.addDates.call(this,t,e):o.removeDates.call(this,t,e)}},setMode:function(e){switch(e.mode&&(this.multiDatesPicker.mode=e.mode),this.multiDatesPicker.mode){case"normal":for(option in e)switch(option){case"maxPicks":case"minPicks":case"pickableRange":case"adjustRangeToDisabled":this.multiDatesPicker[option]=e[option]}break;case"daysRange":case"weeksRange":var a=1;for(option in e)switch(option){case"autoselectRange":a--;case"pickableRange":case"adjustRangeToDisabled":this.multiDatesPicker[option]=e[option]}a>0&&t.error("Some mandatory options not specified!")}l.onSelect&&l.onSelect()},destroy:function(){this.multiDatesPicker=null,t(this).tm_datepicker("destroy")}};return this.each(function(){var a=t(this);if(this.multiDatesPicker||(this.multiDatesPicker={dates:{picked:[],disabled:[]},mode:"normal",adjustRangeToDisabled:!0}),o[e]){var i=o[e].apply(this,Array.prototype.slice.call(c,1));switch(e){case"removeDates":case"removeIndexes":case"resetDates":case"toggleDate":case"addDates":var s=a.tm_datepicker("option","altField"),r=o.value.call(this);void 0!==s&&""!=s&&t(s).val(r),a.val(r),t.tm_datepicker._refreshDatepicker(this)}switch(e){case"removeDates":case"getDates":case"gotDate":case"sumDays":case"compareDates":case"dateConvert":case"value":d=i}return i}return"object"!=typeof e&&e?(t.error("Method "+e+" does not exist on jQuery.multiDatesPicker"),!1):o.init.apply(this,c)}),d};var e=(new Date).getTime();t.multiDatesPicker={version:!1},t.multiDatesPicker.initialized=!1,t.multiDatesPicker.uuid=(new Date).getTime(),t.multiDatesPicker.version=t.ui.multiDatesPicker.version,t.multiDatesPicker._hideDatepicker=t.tm_datepicker._hideDatepicker,t.tm_datepicker._hideDatepicker=function(){var e=this._curInst.input[0],a=e.multiDatesPicker;return!a||this._curInst.inline===!1&&!a.changed?t.multiDatesPicker._hideDatepicker.apply(this,arguments):(a.changed=!1,void t.tm_datepicker._refreshDatepicker(e))},window["DP_jQuery_"+e]=t}(jQuery);!function(t){"function"==typeof define&&define.amd?define(["jquery","jquery-ui"],t):t(jQuery)}(function($){if($.ui.tm_timepicker=$.ui.tm_timepicker||{},!$.ui.tm_timepicker.version){$.extend($.ui,{tm_timepicker:{version:"1.6.3"}});var Timepicker=function(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",microsecText:"Microsecond",timezoneText:"Time Zone",isRTL:!1},this._defaults={showButtonPanel:!0,timeOnly:!1,timeOnlyShowDate:!1,showHour:null,showMinute:null,showSecond:null,showMillisec:null,showMicrosec:null,showTimezone:null,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,stepMicrosec:1,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,microsecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,microsecMax:999,minDateTime:null,maxDateTime:null,maxTime:null,minTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,microsecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,altRedirectFocus:!0,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",oneLine:!1,defaultValue:null,parse:"strict",afterInject:null},$.extend(this._defaults,this.regional[""])};$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,microsec_slider:null,timezone_select:null,maxTime:null,minTime:null,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,microsecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,microsecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec","microsec"],support:{},control:null,setDefaults:function(t){return extendRemove(this._defaults,t||{}),this},_newInst:function($input,opts){var tp_inst=new Timepicker,inlineSettings={},fns={},overrides,i;for(var attrName in this._defaults)if(this._defaults.hasOwnProperty(attrName)){var attrValue=$input.attr("time:"+attrName);if(attrValue)try{inlineSettings[attrName]=eval(attrValue)}catch(t){inlineSettings[attrName]=attrValue}}overrides={beforeShow:function(t,e){if($.isFunction(tp_inst._defaults.evnts.beforeShow))return tp_inst._defaults.evnts.beforeShow.call($input[0],t,e,tp_inst)},onChangeMonthYear:function(t,e,i){$.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)&&tp_inst._defaults.evnts.onChangeMonthYear.call($input[0],t,e,i,tp_inst)},onClose:function(t,e){tp_inst.timeDefined===!0&&""!==$input.val()&&tp_inst._updateDateTime(e),$.isFunction(tp_inst._defaults.evnts.onClose)&&tp_inst._defaults.evnts.onClose.call($input[0],t,e,tp_inst)}};for(i in overrides)overrides.hasOwnProperty(i)&&(fns[i]=opts[i]||this._defaults[i]||null);tp_inst._defaults=$.extend({},this._defaults,inlineSettings,opts,overrides,{evnts:fns,tm_timepicker:tp_inst}),tp_inst.amNames=$.map(tp_inst._defaults.amNames,function(t){return t.toUpperCase()}),tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,function(t){return t.toUpperCase()}),tp_inst.support=detectSupport(tp_inst._defaults.timeFormat+(tp_inst._defaults.pickerTimeFormat?tp_inst._defaults.pickerTimeFormat:"")+(tp_inst._defaults.altTimeFormat?tp_inst._defaults.altTimeFormat:"")),"string"==typeof tp_inst._defaults.controlType?("slider"===tp_inst._defaults.controlType&&"undefined"==typeof $.ui.slider&&(tp_inst._defaults.controlType="select"),tp_inst.control=tp_inst._controls[tp_inst._defaults.controlType]):tp_inst.control=tp_inst._defaults.controlType;var timezoneList=[-720,-660,-600,-570,-540,-480,-420,-360,-300,-270,-240,-210,-180,-120,-60,0,60,120,180,210,240,270,300,330,345,360,390,420,480,525,540,570,600,630,660,690,720,765,780,840];null!==tp_inst._defaults.timezoneList&&(timezoneList=tp_inst._defaults.timezoneList);var tzl=timezoneList.length,tzi=0,tzv=null;if(tzl>0&&"object"!=typeof timezoneList[0])for(;tzi<tzl;tzi++)tzv=timezoneList[tzi],timezoneList[tzi]={value:tzv,label:$.tm_timepicker.timezoneOffsetString(tzv,tp_inst.support.iso8601)};return tp_inst._defaults.timezoneList=timezoneList,tp_inst.timezone=null!==tp_inst._defaults.timezone?$.tm_timepicker.timezoneOffsetNumber(tp_inst._defaults.timezone):(new Date).getTimezoneOffset()*-1,tp_inst.hour=tp_inst._defaults.hour<tp_inst._defaults.hourMin?tp_inst._defaults.hourMin:tp_inst._defaults.hour>tp_inst._defaults.hourMax?tp_inst._defaults.hourMax:tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute<tp_inst._defaults.minuteMin?tp_inst._defaults.minuteMin:tp_inst._defaults.minute>tp_inst._defaults.minuteMax?tp_inst._defaults.minuteMax:tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second<tp_inst._defaults.secondMin?tp_inst._defaults.secondMin:tp_inst._defaults.second>tp_inst._defaults.secondMax?tp_inst._defaults.secondMax:tp_inst._defaults.second,tp_inst.millisec=tp_inst._defaults.millisec<tp_inst._defaults.millisecMin?tp_inst._defaults.millisecMin:tp_inst._defaults.millisec>tp_inst._defaults.millisecMax?tp_inst._defaults.millisecMax:tp_inst._defaults.millisec,tp_inst.microsec=tp_inst._defaults.microsec<tp_inst._defaults.microsecMin?tp_inst._defaults.microsecMin:tp_inst._defaults.microsec>tp_inst._defaults.microsecMax?tp_inst._defaults.microsecMax:tp_inst._defaults.microsec,tp_inst.ampm="",tp_inst.$input=$input,tp_inst._defaults.altField&&(tp_inst.$altInput=$(tp_inst._defaults.altField),tp_inst._defaults.altRedirectFocus===!0&&tp_inst.$altInput.css({cursor:"pointer"}).focus(function(){$input.trigger("focus")})),0!==tp_inst._defaults.minDate&&0!==tp_inst._defaults.minDateTime||(tp_inst._defaults.minDate=new Date),0!==tp_inst._defaults.maxDate&&0!==tp_inst._defaults.maxDateTime||(tp_inst._defaults.maxDate=new Date),void 0!==tp_inst._defaults.minDate&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),void 0!==tp_inst._defaults.minDateTime&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),void 0!==tp_inst._defaults.maxDate&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),void 0!==tp_inst._defaults.maxDateTime&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())),tp_inst.$input.bind("focus",function(){tp_inst._onFocus()}),tp_inst},_addTimePicker:function(t){var e=$.trim(this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val());this.timeDefined=this._parseTime(e),this._limitMinMaxDateTime(t,!1),this._injectTimePicker(),this._afterInject()},_parseTime:function(t,e){if(this.inst||(this.inst=$.tm_datepicker._getInst(this.$input[0])),e||!this._defaults.timeOnly){var i=$.tm_datepicker._get(this.inst,"dateFormat");try{var s=parseDateTimeInternal(i,this._defaults.timeFormat,t,$.tm_datepicker._getFormatConfig(this.inst),this._defaults);if(!s.timeObj)return!1;$.extend(this,s.timeObj)}catch(e){return $.tm_timepicker.log("Error parsing the date/time string: "+e+"\ndate/time string = "+t+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+i),!1}return!0}var n=$.tm_datepicker.parseTime(this._defaults.timeFormat,t,this._defaults);return!!n&&($.extend(this,n),!0)},_afterInject:function(){var t=this.inst.settings;$.isFunction(t.afterInject)&&t.afterInject.call(this)},_injectTimePicker:function(){var t=this.inst.dpDiv,e=this.inst.settings,i=this,s="",n="",a=null,r={},l={},m=null,o=0,u=0;if(0===t.find("div.ui-tm-timepicker-div").length&&e.showTimepicker){var c=" ui_tpicker_unit_hide",d='<div class="ui-tm-timepicker-div'+(e.isRTL?" ui-tm-timepicker-rtl":"")+(e.oneLine&&"select"===e.controlType?" ui-tm-timepicker-oneLine":"")+'"><dl><dt class="ui_tpicker_time_label'+(e.showTime?"":c)+'">'+e.timeText+'</dt><dd class="ui_tpicker_time '+(e.showTime?"":c)+'"><input class="ui_tpicker_time_input" '+(e.timeInput?"":"disabled")+"/></dd>";for(o=0,u=this.units.length;o<u;o++){if(s=this.units[o],n=s.substr(0,1).toUpperCase()+s.substr(1),a=null!==e["show"+n]?e["show"+n]:this.support[s],r[s]=parseInt(e[s+"Max"]-(e[s+"Max"]-e[s+"Min"])%e["step"+n],10),l[s]=0,d+='<dt class="ui_tpicker_'+s+"_label"+(a?"":c)+'">'+e[s+"Text"]+'</dt><dd class="ui_tpicker_'+s+(a?"":c)+'"><div class="ui_tpicker_'+s+"_slider"+(a?"":c)+'"></div>',a&&e[s+"Grid"]>0){if(d+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>',"hour"===s)for(var _=e[s+"Min"];_<=r[s];_+=parseInt(e[s+"Grid"],10)){l[s]++;var p=$.tm_datepicker.formatTime(this.support.ampm?"hht":"HH",{hour:_},e);d+='<td data-for="'+s+'">'+p+"</td>"}else for(var h=e[s+"Min"];h<=r[s];h+=parseInt(e[s+"Grid"],10))l[s]++,d+='<td data-for="'+s+'">'+(h<10?"0":"")+h+"</td>";d+="</tr></table></div>"}d+="</dd>"}var f=null!==e.showTimezone?e.showTimezone:this.support.timezone;d+='<dt class="ui_tpicker_timezone_label'+(f?"":c)+'">'+e.timezoneText+"</dt>",d+='<dd class="ui_tpicker_timezone'+(f?"":c)+'"></dd>',d+="</dl></div>";var g=$(d);for(e.timeOnly===!0&&(g.prepend('<div class="tm-ui-widget-header"><div class="tm-ui-tp-title">'+e.timeOnlyTitle+"</div></div>"),t.find(".tm-ui-dp-inner-container").hide()),o=0,u=i.units.length;o<u;o++)s=i.units[o],n=s.substr(0,1).toUpperCase()+s.substr(1),a=null!==e["show"+n]?e["show"+n]:this.support[s],i[s+"_slider"]=i.control.create(i,g.find(".ui_tpicker_"+s+"_slider"),s,i[s],e[s+"Min"],r[s],e["step"+n]),a&&e[s+"Grid"]>0&&(m=100*l[s]*e[s+"Grid"]/(r[s]-e[s+"Min"]),g.find(".ui_tpicker_"+s+" table").css({width:m+"%",marginLeft:e.isRTL?"0":m/(-2*l[s])+"%",marginRight:e.isRTL?m/(-2*l[s])+"%":"0",borderCollapse:"collapse"}).find("td").click(function(t){var e=$(this),n=e.html(),a=parseInt(n.replace(/[^0-9]/g),10),r=n.replace(/[^apm]/gi),l=e.data("for");"hour"===l&&(r.indexOf("p")!==-1&&a<12?a+=12:r.indexOf("a")!==-1&&12===a&&(a=0)),i.control.value(i,i[l+"_slider"],s,a),i._onTimeChange(),i._onSelectHandler()}).css({cursor:"pointer",width:100/l[s]+"%",textAlign:"center",overflow:"hidden"}));if(this.timezone_select=g.find(".ui_tpicker_timezone").append("<select></select>").find("select"),$.fn.append.apply(this.timezone_select,$.map(e.timezoneList,function(t,e){return $("<option />").val("object"==typeof t?t.value:t).text("object"==typeof t?t.label:t)})),"undefined"!=typeof this.timezone&&null!==this.timezone&&""!==this.timezone){var M=new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12).getTimezoneOffset()*-1;M===this.timezone?selectLocalTimezone(i):this.timezone_select.val(this.timezone)}else"undefined"!=typeof this.hour&&null!==this.hour&&""!==this.hour?this.timezone_select.val(e.timezone):selectLocalTimezone(i);this.timezone_select.change(function(){i._onTimeChange(),i._onSelectHandler(),i._afterInject()});var v=t.find(".tm-ui-dp-buttonpane");if(v.length?v.before(g):t.append(g),this.$timeObj=g.find(".ui_tpicker_time_input"),this.$timeObj.change(function(){var t=i.inst.settings.timeFormat,e=$.tm_datepicker.parseTime(t,this.value),s=new Date;e?(s.setHours(e.hour),s.setMinutes(e.minute),s.setSeconds(e.second),$.datepicker._setTime(i.inst,s)):(this.value=i.formattedTime,this.blur())}),null!==this.inst){var k=this.timeDefined;this._onTimeChange(),this.timeDefined=k}if(this._defaults.addSliderAccess){var T=this._defaults.sliderAccessArgs,D=this._defaults.isRTL;T.isRTL=D,setTimeout(function(){if(0===g.find(".ui-slider-access").length){g.find(".ui-slider:visible").sliderAccess(T);var t=g.find(".ui-slider-access:eq(0)").outerWidth(!0);t&&g.find("table:visible").each(function(){var e=$(this),i=e.outerWidth(),s=e.css(D?"marginRight":"marginLeft").toString().replace("%",""),n=i-t,a=s*n/i+"%",r={width:n,marginRight:0,marginLeft:0};r[D?"marginRight":"marginLeft"]=a,e.css(r)})}},10)}i._limitMinMaxDateTime(this.inst,!0)}},_limitMinMaxDateTime:function(t,e){var i=this._defaults,s=new Date(t.selectedYear,t.selectedMonth,t.selectedDay);if(this._defaults.showTimepicker){if(null!==$.tm_datepicker._get(t,"minDateTime")&&void 0!==$.tm_datepicker._get(t,"minDateTime")&&s){var n=$.tm_datepicker._get(t,"minDateTime"),a=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0,0);null!==this.hourMinOriginal&&null!==this.minuteMinOriginal&&null!==this.secondMinOriginal&&null!==this.millisecMinOriginal&&null!==this.microsecMinOriginal||(this.hourMinOriginal=i.hourMin,this.minuteMinOriginal=i.minuteMin,this.secondMinOriginal=i.secondMin,this.millisecMinOriginal=i.millisecMin,this.microsecMinOriginal=i.microsecMin),t.settings.timeOnly||a.getTime()===s.getTime()?(this._defaults.hourMin=n.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=n.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=n.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=n.getMilliseconds(),this.millisec<=this._defaults.millisecMin?(this.millisec=this._defaults.millisecMin,this._defaults.microsecMin=n.getMicroseconds()):(this.microsec<this._defaults.microsecMin&&(this.microsec=this._defaults.microsecMin),this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)}if(null!==$.tm_datepicker._get(t,"maxDateTime")&&void 0!==$.tm_datepicker._get(t,"maxDateTime")&&s){var r=$.tm_datepicker._get(t,"maxDateTime"),l=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0,0);null!==this.hourMaxOriginal&&null!==this.minuteMaxOriginal&&null!==this.secondMaxOriginal&&null!==this.millisecMaxOriginal||(this.hourMaxOriginal=i.hourMax,this.minuteMaxOriginal=i.minuteMax,this.secondMaxOriginal=i.secondMax,this.millisecMaxOriginal=i.millisecMax,this.microsecMaxOriginal=i.microsecMax),t.settings.timeOnly||l.getTime()===s.getTime()?(this._defaults.hourMax=r.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=r.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=r.getSeconds(),this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=r.getMilliseconds(),this.millisec>=this._defaults.millisecMax?(this.millisec=this._defaults.millisecMax,this._defaults.microsecMax=r.getMicroseconds()):(this.microsec>this._defaults.microsecMax&&(this.microsec=this._defaults.microsecMax),this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)}if(null!==t.settings.minTime){var m=new Date("01/01/1970 "+t.settings.minTime);this.hour<m.getHours()?(this.hour=this._defaults.hourMin=m.getHours(),this.minute=this._defaults.minuteMin=m.getMinutes()):this.hour===m.getHours()&&this.minute<m.getMinutes()?this.minute=this._defaults.minuteMin=m.getMinutes():this._defaults.hourMin<m.getHours()?(this._defaults.hourMin=m.getHours(),this._defaults.minuteMin=m.getMinutes()):this._defaults.hourMin===m.getHours()===this.hour&&this._defaults.minuteMin<m.getMinutes()?this._defaults.minuteMin=m.getMinutes():this._defaults.minuteMin=0}if(null!==t.settings.maxTime){var o=new Date("01/01/1970 "+t.settings.maxTime);this.hour>o.getHours()?(this.hour=this._defaults.hourMax=o.getHours(),this.minute=this._defaults.minuteMax=o.getMinutes()):this.hour===o.getHours()&&this.minute>o.getMinutes()?this.minute=this._defaults.minuteMax=o.getMinutes():this._defaults.hourMax>o.getHours()?(this._defaults.hourMax=o.getHours(),this._defaults.minuteMax=o.getMinutes()):this._defaults.hourMax===o.getHours()===this.hour&&this._defaults.minuteMax>o.getMinutes()?this._defaults.minuteMax=o.getMinutes():this._defaults.minuteMax=59}if(void 0!==e&&e===!0){var u=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),c=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),d=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),_=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10),p=parseInt(this._defaults.microsecMax-(this._defaults.microsecMax-this._defaults.microsecMin)%this._defaults.stepMicrosec,10);this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:u,step:this._defaults.stepHour}),this.control.value(this,this.hour_slider,"hour",this.hour-this.hour%this._defaults.stepHour)),this.minute_slider&&(this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:c,step:this._defaults.stepMinute}),this.control.value(this,this.minute_slider,"minute",this.minute-this.minute%this._defaults.stepMinute)),this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:d,step:this._defaults.stepSecond}),this.control.value(this,this.second_slider,"second",this.second-this.second%this._defaults.stepSecond)),this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:_,step:this._defaults.stepMillisec}),this.control.value(this,this.millisec_slider,"millisec",this.millisec-this.millisec%this._defaults.stepMillisec)),this.microsec_slider&&(this.control.options(this,this.microsec_slider,"microsec",{min:this._defaults.microsecMin,max:p,step:this._defaults.stepMicrosec}),this.control.value(this,this.microsec_slider,"microsec",this.microsec-this.microsec%this._defaults.stepMicrosec))}}},_onTimeChange:function(){if(this._defaults.showTimepicker){var t=!!this.hour_slider&&this.control.value(this,this.hour_slider,"hour"),e=!!this.minute_slider&&this.control.value(this,this.minute_slider,"minute"),i=!!this.second_slider&&this.control.value(this,this.second_slider,"second"),s=!!this.millisec_slider&&this.control.value(this,this.millisec_slider,"millisec"),n=!!this.microsec_slider&&this.control.value(this,this.microsec_slider,"microsec"),a=!!this.timezone_select&&this.timezone_select.val(),r=this._defaults,l=r.pickerTimeFormat||r.timeFormat,m=r.pickerTimeSuffix||r.timeSuffix;"object"==typeof t&&(t=!1),"object"==typeof e&&(e=!1),"object"==typeof i&&(i=!1),"object"==typeof s&&(s=!1),"object"==typeof n&&(n=!1),"object"==typeof a&&(a=!1),t!==!1&&(t=parseInt(t,10)),e!==!1&&(e=parseInt(e,10)),i!==!1&&(i=parseInt(i,10)),s!==!1&&(s=parseInt(s,10)),n!==!1&&(n=parseInt(n,10)),a!==!1&&(a=a.toString());var o=r[t<12?"amNames":"pmNames"][0],u=t!==parseInt(this.hour,10)||e!==parseInt(this.minute,10)||i!==parseInt(this.second,10)||s!==parseInt(this.millisec,10)||n!==parseInt(this.microsec,10)||this.ampm.length>0&&t<12!=($.inArray(this.ampm.toUpperCase(),this.amNames)!==-1)||null!==this.timezone&&a!==this.timezone.toString();if(u&&(t!==!1&&(this.hour=t),e!==!1&&(this.minute=e),i!==!1&&(this.second=i),s!==!1&&(this.millisec=s),n!==!1&&(this.microsec=n),a!==!1&&(this.timezone=a),this.inst||(this.inst=$.tm_datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),this.support.ampm&&(this.ampm=o),this.formattedTime=$.tm_datepicker.formatTime(r.timeFormat,this,r),this.$timeObj&&(l===r.timeFormat?this.$timeObj.val(this.formattedTime+m):this.$timeObj.val($.tm_datepicker.formatTime(l,this,r)+m),this.$timeObj[0].setSelectionRange)){var c=this.$timeObj[0].selectionStart,d=this.$timeObj[0].selectionEnd;this.$timeObj[0].setSelectionRange(c,d)}this.timeDefined=!0,u&&this._updateDateTime()}},_onSelectHandler:function(){var t=this._defaults.onSelect||this.inst.settings.onSelect,e=this.$input?this.$input[0]:null;t&&e&&t.apply(e,[this.formattedDateTime,this])},_updateDateTime:function(t){t=this.inst||t;var e=t.currentYear>0?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(t.selectedYear,t.selectedMonth,t.selectedDay),i=$.tm_datepicker._daylightSavingAdjust(e),s=$.tm_datepicker._get(t,"dateFormat"),n=$.tm_datepicker._getFormatConfig(t),a=null!==i&&this.timeDefined;this.formattedDate=$.tm_datepicker.formatDate(s,null===i?new Date:i,n);var r=this.formattedDate;if(""===t.lastVal&&(t.currentYear=t.selectedYear,t.currentMonth=t.selectedMonth,t.currentDay=t.selectedDay),this._defaults.timeOnly===!0&&this._defaults.timeOnlyShowDate===!1?r=this.formattedTime:(this._defaults.timeOnly!==!0&&(this._defaults.alwaysSetTime||a)||this._defaults.timeOnly===!0&&this._defaults.timeOnlyShowDate===!0)&&(r+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=r,this._defaults.showTimepicker)if(this.$altInput&&this._defaults.timeOnly===!1&&this._defaults.altFieldTimeOnly===!0)this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate);else if(this.$altInput){this.$input.val(r);var l="",m=null!==this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,o=null!==this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix;this._defaults.timeOnly||(l=this._defaults.altFormat?$.tm_datepicker.formatDate(this._defaults.altFormat,null===i?new Date:i,n):this.formattedDate,l&&(l+=m)),l+=null!==this._defaults.altTimeFormat?$.tm_datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+o:this.formattedTime+o,this.$altInput.val(l)}else this.$input.val(r);else this.$input.val(this.formattedDate);this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var t=$.tm_datepicker._getInst(this.$input.get(0)),e=$.tm_datepicker._get(t,"tm_timepicker");if(e&&e._defaults.timeOnly&&t.input.val()!==t.lastVal)try{$.tm_datepicker._updateDatepicker(t)}catch(t){$.tm_timepicker.log(t)}}},_controls:{slider:{create:function(t,e,i,s,n,a,r){var l=t._defaults.isRTL;return e.prop("slide",null).slider({orientation:"horizontal",value:l?s*-1:s,min:l?a*-1:n,max:l?n*-1:a,step:r,slide:function(e,s){t.control.value(t,$(this),i,l?s.value*-1:s.value),t._onTimeChange()},stop:function(e,i){t._onSelectHandler()}})},options:function(t,e,i,s,n){if(t._defaults.isRTL){if("string"==typeof s)return"min"===s||"max"===s?void 0!==n?e.slider(s,n*-1):Math.abs(e.slider(s)):e.slider(s);var a=s.min,r=s.max;return s.min=s.max=null,void 0!==a&&(s.max=a*-1),void 0!==r&&(s.min=r*-1),e.slider(s)}return"string"==typeof s&&void 0!==n?e.slider(s,n):e.slider(s)},value:function(t,e,i,s){return t._defaults.isRTL?void 0!==s?e.slider("value",s*-1):Math.abs(e.slider("value")):void 0!==s?e.slider("value",s):e.slider("value")}},select:{create:function(t,e,i,s,n,a,r){for(var l='<select class="ui-tm-timepicker-select ui-state-default ui-corner-all" data-unit="'+i+'" data-min="'+n+'" data-max="'+a+'" data-step="'+r+'">',m=t._defaults.pickerTimeFormat||t._defaults.timeFormat,o=n;o<=a;o+=r)l+='<option value="'+o+'"'+(o===s?" selected":"")+">",l+="hour"===i?$.tm_datepicker.formatTime($.trim(m.replace(/[^ht ]/gi,"")),{hour:o},t._defaults):"millisec"===i||"microsec"===i||o>=10?o:"0"+o.toString(),l+="</option>";return l+="</select>",e.children("select").remove(),$(l).appendTo(e).change(function(e){t._onTimeChange(),t._onSelectHandler(),t._afterInject()}),e},options:function(t,e,i,s,n){var a={},r=e.children("select");if("string"==typeof s){if(void 0===n)return r.data(s);a[s]=n}else a=s;return t.control.create(t,e,r.data("unit"),r.val(),a.min>=0?a.min:r.data("min"),a.max||r.data("max"),a.step||r.data("step"))},value:function(t,e,i,s){var n=e.children("select");return void 0!==s?n.val(s):n.val()}}}}),$.fn.extend({tm_timepicker:function(t){t=t||{};var e=Array.prototype.slice.call(arguments);return"object"==typeof t&&(e[0]=$.extend(t,{timeOnly:!0})),$(this).each(function(){$.fn.tm_datetimepicker.apply($(this),e)})},tm_datetimepicker:function(t){t=t||{};var e=arguments;return"string"==typeof t?"getDate"===t||"option"===t&&2===e.length&&"string"==typeof e[1]?$.fn.tm_datepicker.apply($(this[0]),e):this.each(function(){var t=$(this);t.tm_datepicker.apply(t,e)}):this.each(function(){var e=$(this);e.tm_datepicker($.tm_timepicker._newInst(e,t)._defaults)})}}),$.tm_datepicker.parseDateTime=function(t,e,i,s,n){var a=parseDateTimeInternal(t,e,i,s,n);if(a.timeObj){var r=a.timeObj;a.date.setHours(r.hour,r.minute,r.second,r.millisec),a.date.setMicroseconds(r.microsec)}return a.date},$.tm_datepicker.parseTime=function(t,e,i){var s=extendRemove(extendRemove({},$.tm_timepicker._defaults),i||{}),n=(t.replace(/\'.*?\'/g,"").indexOf("Z")!==-1,function(t,e,i){var s,n=function(t,e){var i=[];return t&&$.merge(i,t),e&&$.merge(i,e),i=$.map(i,function(t){return t.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")}),"("+i.join("|")+")?"},a=function(t){var e=t.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),i={h:-1,m:-1,s:-1,l:-1,c:-1,t:-1,z:-1};if(e)for(var s=0;s<e.length;s++)i[e[s].toString().charAt(0)]===-1&&(i[e[s].toString().charAt(0)]=s+1);return i},r="^"+t.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(t){var e=t.length;switch(t.charAt(0).toLowerCase()){case"h":return 1===e?"(\\d?\\d)":"(\\d{"+e+"})";case"m":return 1===e?"(\\d?\\d)":"(\\d{"+e+"})";case"s":return 1===e?"(\\d?\\d)":"(\\d{"+e+"})";case"l":return"(\\d?\\d?\\d)";case"c":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return n(i.amNames,i.pmNames);default:return"("+t.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,function(t){return"\\"+t})+")?"}}).replace(/\s/g,"\\s?")+i.timeSuffix+"$",l=a(t),m="";s=e.match(new RegExp(r,"i"));var o={hour:0,minute:0,second:0,millisec:0,microsec:0};return!!s&&(l.t!==-1&&(void 0===s[l.t]||0===s[l.t].length?(m="",o.ampm=""):(m=$.inArray(s[l.t].toUpperCase(),$.map(i.amNames,function(t,e){return t.toUpperCase()}))!==-1?"AM":"PM",o.ampm=i["AM"===m?"amNames":"pmNames"][0])),l.h!==-1&&("AM"===m&&"12"===s[l.h]?o.hour=0:"PM"===m&&"12"!==s[l.h]?o.hour=parseInt(s[l.h],10)+12:o.hour=Number(s[l.h])),l.m!==-1&&(o.minute=Number(s[l.m])),l.s!==-1&&(o.second=Number(s[l.s])),l.l!==-1&&(o.millisec=Number(s[l.l])),l.c!==-1&&(o.microsec=Number(s[l.c])),l.z!==-1&&void 0!==s[l.z]&&(o.timezone=$.tm_timepicker.timezoneOffsetNumber(s[l.z])),o)}),a=function(t,e,i){try{var s=new Date("2012-01-01 "+e);if(isNaN(s.getTime())&&(s=new Date("2012-01-01T"+e),isNaN(s.getTime())&&(s=new Date("01/01/2012 "+e),isNaN(s.getTime()))))throw"Unable to parse time with native Date: "+e;return{hour:s.getHours(),minute:s.getMinutes(),second:s.getSeconds(),millisec:s.getMilliseconds(),microsec:s.getMicroseconds(),timezone:s.getTimezoneOffset()*-1}}catch(s){try{return n(t,e,i)}catch(i){$.tm_timepicker.log("Unable to parse \ntimeString: "+e+"\ntimeFormat: "+t)}}return!1};return"function"==typeof s.parse?s.parse(t,e,s):"loose"===s.parse?a(t,e,s):n(t,e,s)},$.tm_datepicker.formatTime=function(t,e,i){i=i||{},i=$.extend({},$.tm_timepicker._defaults,i),e=$.extend({hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null},e);var s=t,n=i.amNames[0],a=parseInt(e.hour,10);return a>11&&(n=i.pmNames[0]),s=s.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(t){switch(t){case"HH":return("0"+a).slice(-2);case"H":return a;case"hh":return("0"+convert24to12(a)).slice(-2);case"h":return convert24to12(a);case"mm":return("0"+e.minute).slice(-2);case"m":return e.minute;case"ss":return("0"+e.second).slice(-2);case"s":return e.second;case"l":return("00"+e.millisec).slice(-3);case"c":return("00"+e.microsec).slice(-3);case"z":return $.tm_timepicker.timezoneOffsetString(null===e.timezone?i.timezone:e.timezone,!1);case"Z":return $.tm_timepicker.timezoneOffsetString(null===e.timezone?i.timezone:e.timezone,!0);case"T":return n.charAt(0).toUpperCase();case"TT":return n.toUpperCase();case"t":return n.charAt(0).toLowerCase();case"tt":return n.toLowerCase();default:return t.replace(/'/g,"")}})},$.tm_datepicker._base_selectDate=$.tm_datepicker._selectDate,$.tm_datepicker._selectDate=function(t,e){var i,s=this._getInst($(t)[0]),n=this._get(s,"tm_timepicker");n&&s.settings.showTimepicker?(n._limitMinMaxDateTime(s,!0),i=s.inline,s.inline=s.stay_open=!0,this._base_selectDate(t,e),s.inline=i,s.stay_open=!1,this._notifyChange(s),this._updateDatepicker(s)):this._base_selectDate(t,e)},$.tm_datepicker._base_updateDatepicker=$.tm_datepicker._updateDatepicker,$.tm_datepicker._updateDatepicker=function(t){var e=t.input[0];if(!($.tm_datepicker._curInst&&$.tm_datepicker._curInst!==t&&$.tm_datepicker._datepickerShowing&&$.tm_datepicker._lastInput!==e||"boolean"==typeof t.stay_open&&t.stay_open!==!1)){this._base_updateDatepicker(t);var i=this._get(t,"tm_timepicker");i&&i._addTimePicker(t)}},$.tm_datepicker._base_doKeyPress=$.tm_datepicker._doKeyPress,$.tm_datepicker._doKeyPress=function(t){var e=$.tm_datepicker._getInst(t.target),i=$.tm_datepicker._get(e,"tm_timepicker");if(i&&$.tm_datepicker._get(e,"constrainInput")){var s=i.support.ampm,n=null!==i._defaults.showTimezone?i._defaults.showTimezone:i.support.timezone,a=$.tm_datepicker._possibleChars($.tm_datepicker._get(e,"dateFormat")),r=i._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,s?"APM":"").replace(/Tt/g,s?"AaPpMm":"").replace(/tT/g,s?"AaPpMm":"").replace(/T/g,s?"AP":"").replace(/tt/g,s?"apm":"").replace(/t/g,s?"ap":"")+" "+i._defaults.separator+i._defaults.timeSuffix+(n?i._defaults.timezoneList.join(""):"")+i._defaults.amNames.join("")+i._defaults.pmNames.join("")+a,l=String.fromCharCode(void 0===t.charCode?t.keyCode:t.charCode);return t.ctrlKey||l<" "||!a||r.indexOf(l)>-1}return $.tm_datepicker._base_doKeyPress(t)},$.tm_datepicker._base_updateAlternate=$.tm_datepicker._updateAlternate,$.tm_datepicker._updateAlternate=function(t){var e=this._get(t,"tm_timepicker");if(e){var i=e._defaults.altField;if(i){var s=(e._defaults.altFormat||e._defaults.dateFormat,this._getDate(t)),n=$.tm_datepicker._getFormatConfig(t),a="",r=e._defaults.altSeparator?e._defaults.altSeparator:e._defaults.separator,l=e._defaults.altTimeSuffix?e._defaults.altTimeSuffix:e._defaults.timeSuffix,m=null!==e._defaults.altTimeFormat?e._defaults.altTimeFormat:e._defaults.timeFormat;a+=$.tm_datepicker.formatTime(m,e,e._defaults)+l,e._defaults.timeOnly||e._defaults.altFieldTimeOnly||null===s||(a=e._defaults.altFormat?$.tm_datepicker.formatDate(e._defaults.altFormat,s,n)+r+a:e.formattedDate+r+a),
$(i).val(t.input.val()?a:"")}}else $.tm_datepicker._base_updateAlternate(t)},$.tm_datepicker._base_doKeyUp=$.tm_datepicker._doKeyUp,$.tm_datepicker._doKeyUp=function(t){var e=$.tm_datepicker._getInst(t.target),i=$.tm_datepicker._get(e,"tm_timepicker");if(i&&i._defaults.timeOnly&&e.input.val()!==e.lastVal)try{$.tm_datepicker._updateDatepicker(e)}catch(t){$.tm_timepicker.log(t)}return $.tm_datepicker._base_doKeyUp(t)},$.tm_datepicker._base_gotoToday=$.tm_datepicker._gotoToday,$.tm_datepicker._gotoToday=function(t){var e=this._getInst($(t)[0]);this._base_gotoToday(t);var i=this._get(e,"timepicker");if(i){var s=$.tm_timepicker.timezoneOffsetNumber(i.timezone),n=new Date;n.setMinutes(n.getMinutes()+n.getTimezoneOffset()+parseInt(s,10)),this._setTime(e,n),this._setDate(e,n),i._onSelectHandler()}},$.tm_datepicker._disableTimepickerDatepicker=function(t){var e=this._getInst(t);if(e){var i=this._get(e,"tm_timepicker");$(t).tm_datepicker("getDate"),i&&(e.settings.showTimepicker=!1,i._defaults.showTimepicker=!1,i._updateDateTime(e))}},$.tm_datepicker._enableTimepickerDatepicker=function(t){var e=this._getInst(t);if(e){var i=this._get(e,"tm_timepicker");$(t).tm_datepicker("getDate"),i&&(e.settings.showTimepicker=!0,i._defaults.showTimepicker=!0,i._addTimePicker(e),i._updateDateTime(e))}},$.tm_datepicker._setTime=function(t,e){var i=this._get(t,"tm_timepicker");if(i){var s=i._defaults;i.hour=e?e.getHours():s.hour,i.minute=e?e.getMinutes():s.minute,i.second=e?e.getSeconds():s.second,i.millisec=e?e.getMilliseconds():s.millisec,i.microsec=e?e.getMicroseconds():s.microsec,i._limitMinMaxDateTime(t,!0),i._onTimeChange(),i._updateDateTime(t)}},$.tm_datepicker._setTimeDatepicker=function(t,e,i){var s=this._getInst(t);if(s){var n=this._get(s,"tm_timepicker");if(n){this._setDateFromField(s);var a;e&&("string"==typeof e?(n._parseTime(e,i),a=new Date,a.setHours(n.hour,n.minute,n.second,n.millisec),a.setMicroseconds(n.microsec)):(a=new Date(e.getTime()),a.setMicroseconds(e.getMicroseconds())),"Invalid Date"===a.toString()&&(a=void 0),this._setTime(s,a))}}},$.tm_datepicker._base_setDateDatepicker=$.tm_datepicker._setDateDatepicker,$.tm_datepicker._setDateDatepicker=function(t,e){var i=this._getInst(t),s=e;if(i){"string"==typeof e&&(s=new Date(e),s.getTime()||(this._base_setDateDatepicker.apply(this,arguments),s=$(t).tm_datepicker("getDate")));var n,a=this._get(i,"tm_timepicker");s instanceof Date?(n=new Date(s.getTime()),n.setMicroseconds(s.getMicroseconds())):n=s,a&&n&&(a.support.timezone||null!==a._defaults.timezone||(a.timezone=n.getTimezoneOffset()*-1),s=$.tm_timepicker.timezoneAdjust(s,$.tm_timepicker.timezoneOffsetString(-s.getTimezoneOffset()),a.timezone),n=$.tm_timepicker.timezoneAdjust(n,$.tm_timepicker.timezoneOffsetString(-n.getTimezoneOffset()),a.timezone)),this._updateDatepicker(i),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(t,n,!0)}},$.tm_datepicker._base_getDateDatepicker=$.tm_datepicker._getDateDatepicker,$.tm_datepicker._getDateDatepicker=function(t,e){var i=this._getInst(t);if(i){var s=this._get(i,"tm_timepicker");if(s){void 0===i.lastVal&&this._setDateFromField(i,e);var n=this._getDate(i),a=null;return a=s.$altInput&&s._defaults.altFieldTimeOnly?s.$input.val()+" "+s.$altInput.val():"INPUT"!==s.$input.get(0).tagName&&s.$altInput?s.$altInput.val():s.$input.val(),n&&s._parseTime(a,!i.settings.timeOnly)&&(n.setHours(s.hour,s.minute,s.second,s.millisec),n.setMicroseconds(s.microsec),null!=s.timezone&&(s.support.timezone||null!==s._defaults.timezone||(s.timezone=n.getTimezoneOffset()*-1),n=$.tm_timepicker.timezoneAdjust(n,s.timezone,$.tm_timepicker.timezoneOffsetString(-n.getTimezoneOffset())))),n}return this._base_getDateDatepicker(t,e)}},$.tm_datepicker._base_parseDate=$.tm_datepicker.parseDate,$.tm_datepicker.parseDate=function(t,e,i){var s;try{s=this._base_parseDate(t,e,i)}catch(n){if(!(n.indexOf(":")>=0))throw n;s=this._base_parseDate(t,e.substring(0,e.length-(n.length-n.indexOf(":")-2)),i),$.tm_timepicker.log("Error parsing the date string: "+n+"\ndate string = "+e+"\ndate format = "+t)}return s},$.tm_datepicker._base_formatDate=$.tm_datepicker._formatDate,$.tm_datepicker._formatDate=function(t,e,i,s){var n=this._get(t,"tm_timepicker");return n?(n._updateDateTime(t),n.$input.val()):this._base_formatDate(t)},$.tm_datepicker._base_optionDatepicker=$.tm_datepicker._optionDatepicker,$.tm_datepicker._optionDatepicker=function(t,e,i){var s,n=this._getInst(t);if(!n)return null;var a=this._get(n,"tm_timepicker");if(a){var r,l,m,o,u=null,c=null,d=null,_=a._defaults.evnts,p={};if("string"==typeof e){if("minDate"===e||"minDateTime"===e)u=i;else if("maxDate"===e||"maxDateTime"===e)c=i;else if("onSelect"===e)d=i;else if(_.hasOwnProperty(e)){if("undefined"==typeof i)return _[e];p[e]=i,s={}}}else if("object"==typeof e){e.minDate?u=e.minDate:e.minDateTime?u=e.minDateTime:e.maxDate?c=e.maxDate:e.maxDateTime&&(c=e.maxDateTime);for(r in _)_.hasOwnProperty(r)&&e[r]&&(p[r]=e[r])}for(r in p)p.hasOwnProperty(r)&&(_[r]=p[r],s||(s=$.extend({},e)),delete s[r]);if(s&&isEmptyObject(s))return;if(u?(u=0===u?new Date:new Date(u),a._defaults.minDate=u,a._defaults.minDateTime=u):c?(c=0===c?new Date:new Date(c),a._defaults.maxDate=c,a._defaults.maxDateTime=c):d&&(a._defaults.onSelect=d),u||c)return o=$(t),m=o.tm_datetimepicker("getDate"),l=this._base_optionDatepicker.call($.tm_datepicker,t,s||e,i),o.tm_datetimepicker("setDate",m),l}return void 0===i?this._base_optionDatepicker.call($.tm_datepicker,t,e):this._base_optionDatepicker.call($.tm_datepicker,t,s||e,i)};var isEmptyObject=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0},extendRemove=function(t,e){$.extend(t,e);for(var i in e)null!==e[i]&&void 0!==e[i]||(t[i]=e[i]);return t},detectSupport=function(t){var e=t.replace(/'.*?'/g,"").toLowerCase(),i=function(t,e){return t.indexOf(e)!==-1};return{hour:i(e,"h"),minute:i(e,"m"),second:i(e,"s"),millisec:i(e,"l"),microsec:i(e,"c"),timezone:i(e,"z"),ampm:i(e,"t")&&i(t,"h"),iso8601:i(t,"Z")}},convert24to12=function(t){return t%=12,0===t&&(t=12),String(t)},computeEffectiveSetting=function(t,e){return t&&t[e]?t[e]:$.tm_timepicker._defaults[e]},splitDateTime=function(t,e){var i=computeEffectiveSetting(e,"separator"),s=computeEffectiveSetting(e,"timeFormat"),n=s.split(i),a=n.length,r=t.split(i),l=r.length;return l>1?{dateString:r.splice(0,l-a).join(i),timeString:r.splice(0,a).join(i)}:{dateString:t,timeString:""}},parseDateTimeInternal=function(t,e,i,s,n){var a,r,l;if(r=splitDateTime(i,n),a=$.tm_datepicker._base_parseDate(t,r.dateString,s),""===r.timeString)return{date:a};if(l=$.tm_datepicker.parseTime(e,r.timeString,n),!l)throw"Wrong time format";return{date:a,timeObj:l}},selectLocalTimezone=function(t,e){if(t&&t.timezone_select){var i=e||new Date;t.timezone_select.val(-i.getTimezoneOffset())}};$.tm_timepicker=new Timepicker,$.tm_timepicker.timezoneOffsetString=function(t,e){if(isNaN(t)||t>840||t<-720)return t;var i=t,s=i%60,n=(i-s)/60,a=e?":":"",r=(i>=0?"+":"-")+("0"+Math.abs(n)).slice(-2)+a+("0"+Math.abs(s)).slice(-2);return"+00:00"===r?"Z":r},$.tm_timepicker.timezoneOffsetNumber=function(t){var e=t.toString().replace(":","");return"Z"===e.toUpperCase()?0:/^(\-|\+)\d{4}$/.test(e)?("-"===e.substr(0,1)?-1:1)*(60*parseInt(e.substr(1,2),10)+parseInt(e.substr(3,2),10)):parseInt(t,10)},$.tm_timepicker.timezoneAdjust=function(t,e){var i=$.timepicker.timezoneOffsetNumber(fromTimezone),s=$.tm_timepicker.timezoneOffsetNumber(e);return isNaN(s)||t.setMinutes(t.getMinutes()+-i- -s),t},$.tm_timepicker.timeRange=function(t,e,i){return $.tm_timepicker.handleRange("tm_timepicker",t,e,i)},$.tm_timepicker.datetimeRange=function(t,e,i){$.tm_timepicker.handleRange("tm_datetimepicker",t,e,i)},$.tm_timepicker.dateRange=function(t,e,i){$.tm_timepicker.handleRange("tm_datepicker",t,e,i)},$.tm_timepicker.handleRange=function(t,e,i,s){function n(n,a){var r=e[t]("getDate"),l=i[t]("getDate"),m=n[t]("getDate");if(null!==r){var o=new Date(r.getTime()),u=new Date(r.getTime());o.setMilliseconds(o.getMilliseconds()+s.minInterval),u.setMilliseconds(u.getMilliseconds()+s.maxInterval),s.minInterval>0&&o>l?i[t]("setDate",o):s.maxInterval>0&&u<l?i[t]("setDate",u):r>l&&a[t]("setDate",m)}}function a(e,i,n){if(e.val()){var a=e[t].call(e,"getDate");null!==a&&s.minInterval>0&&("minDate"===n&&a.setMilliseconds(a.getMilliseconds()+s.minInterval),"maxDate"===n&&a.setMilliseconds(a.getMilliseconds()-s.minInterval)),a.getTime&&i[t].call(i,"option",n,a)}}s=$.extend({},{minInterval:0,maxInterval:0,start:{},end:{}},s);var r=!1;return"tm_timepicker"===t&&(r=!0,t="tm_datetimepicker"),$.fn[t].call(e,$.extend({timeOnly:r,onClose:function(t,e){n($(this),i)},onSelect:function(t){a($(this),i,"minDate")}},s,s.start)),$.fn[t].call(i,$.extend({timeOnly:r,onClose:function(t,i){n($(this),e)},onSelect:function(t){a($(this),e,"maxDate")}},s,s.end)),n(e,i),a(e,i,"minDate"),a(i,e,"maxDate"),$([e.get(0),i.get(0)])},$.tm_timepicker.log=function(){window.console&&window.console.log&&window.console.log.apply&&window.console.log.apply(window.console,Array.prototype.slice.call(arguments))},$.tm_timepicker._util={_extendRemove:extendRemove,_isEmptyObject:isEmptyObject,_convert24to12:convert24to12,_detectSupport:detectSupport,_selectLocalTimezone:selectLocalTimezone,_computeEffectiveSetting:computeEffectiveSetting,_splitDateTime:splitDateTime,_parseDateTimeInternal:parseDateTimeInternal},Date.prototype.getMicroseconds||(Date.prototype.microseconds=0,Date.prototype.getMicroseconds=function(){return this.microseconds},Date.prototype.setMicroseconds=function(t){return this.setMilliseconds(this.getMilliseconds()+Math.floor(t/1e3)),this.microseconds=t%1e3,this}),$.tm_timepicker.version="1.6.3"}});!function(t,e,i,s){function n(e,i){this.settings=null,this.options=t.extend({},n.Defaults,i),this.$element=t(e),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},t.each(["onResize","onThrottledResize"],t.proxy(function(e,i){this._handlers[i]=t.proxy(this[i],this)},this)),t.each(n.Plugins,t.proxy(function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)},this)),t.each(n.Workers,t.proxy(function(e,i){this._pipe.push({filter:i.filter,run:t.proxy(i.run,this)})},this)),this.setup(),this.initialize()}n.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:e,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},n.Width={Default:"default",Inner:"inner",Outer:"outer"},n.Type={Event:"event",State:"state"},n.Plugins={},n.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",i=!this.settings.autoWidth,s=this.settings.rtl,n={width:"auto","margin-left":s?e:"","margin-right":s?"":e};!i&&this.$stage.children().css(n),t.css=n}},{filter:["width","items","settings"],run:function(t){var e=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=null,s=this._items.length,n=!this.settings.autoWidth,o=[];for(t.items={merge:!1,width:e};s--;)i=this._mergers[s],i=this.settings.mergeFit&&Math.min(i,this.settings.items)||i,t.items.merge=i>1||t.items.merge,o[s]=n?e*i:this._items[s].width();this._widths=o}},{filter:["items","settings"],run:function(){var e=[],i=this._items,s=this.settings,n=Math.max(2*s.items,4),o=2*Math.ceil(i.length/2),r=s.loop&&i.length?s.rewind?n:Math.max(n,o):0,a="",h="";for(r/=2;r--;)e.push(this.normalize(e.length/2,!0)),a+=i[e[e.length-1]][0].outerHTML,e.push(this.normalize(i.length-1-(e.length-1)/2,!0)),h=i[e[e.length-1]][0].outerHTML+h;this._clones=e,t(a).addClass("cloned").appendTo(this.$stage),t(h).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t=this.settings.rtl?1:-1,e=this._clones.length+this._items.length,i=-1,s=0,n=0,o=[];++i<e;)s=o[i-1]||0,n=this._widths[this.relative(i)]+this.settings.margin,o.push(s+n*t);this._coordinates=o}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,i={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,i=!this.settings.autoWidth,s=this.$stage.children();if(i&&t.items.merge)for(;e--;)t.css.width=this._widths[this.relative(e)],s.eq(e).css(t.css);else i&&(t.css.width=t.items.width,s.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var t,e,i,s,n=this.settings.rtl?1:-1,o=2*this.settings.stagePadding,r=this.coordinates(this.current())+o,a=r+this.width()*n,h=[];for(i=0,s=this._coordinates.length;i<s;i++)t=this._coordinates[i-1]||0,e=Math.abs(this._coordinates[i])+o*n,(this.op(t,"<=",r)&&this.op(t,">",a)||this.op(e,"<",r)&&this.op(e,">",a))&&h.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+h.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],n.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var e,i,n;e=this.$element.find("img"),i=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:s,n=this.$element.children(i).width(),e.length&&n<=0&&this.preloadAutoWidthImages(e)}this.$element.addClass(this.options.loadingClass),this.$stage=t("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},n.prototype.setup=function(){var e=this.viewport(),i=this.options.responsive,s=-1,n=null;i?(t.each(i,function(t){t<=e&&t>s&&(s=Number(t))}),n=t.extend({},this.options,i[s]),"function"==typeof n.stagePadding&&(n.stagePadding=n.stagePadding()),delete n.responsive,n.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+s))):n=t.extend({},this.options),this.trigger("change",{property:{name:"settings",value:n}}),this._breakpoint=s,this.settings=n,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},n.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},n.prototype.prepare=function(e){var i=this.trigger("prepare",{content:e});return i.data||(i.data=t("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(e)),this.trigger("prepared",{content:i.data}),i.data},n.prototype.update=function(){for(var e=0,i=this._pipe.length,s=t.proxy(function(t){return this[t]},this._invalidated),n={};e<i;)(this._invalidated.all||t.grep(this._pipe[e].filter,s).length>0)&&this._pipe[e].run(n),e++;this._invalidated={},!this.is("valid")&&this.enter("valid")},n.prototype.width=function(t){switch(t=t||n.Width.Default){case n.Width.Inner:case n.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},n.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},n.prototype.onThrottledResize=function(){e.clearTimeout(this.resizeTimer),this.resizeTimer=e.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},n.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.$element.is(":visible")&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},n.prototype.registerEventHandlers=function(){t.support.transition&&this.$stage.on(t.support.transition.end+".owl.core",t.proxy(this.onTransitionEnd,this)),this.settings.responsive!==!1&&this.on(e,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",t.proxy(this.onDragEnd,this)))},n.prototype.onDragStart=function(e){var s=null;3!==e.which&&(t.support.transform?(s=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),s={x:s[16===s.length?12:4],y:s[16===s.length?13:5]}):(s=this.$stage.position(),s={x:this.settings.rtl?s.left+this.$stage.width()-this.width()+this.settings.margin:s.left,y:s.top}),this.is("animating")&&(t.support.transform?this.animate(s.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===e.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=t(e.target),this._drag.stage.start=s,this._drag.stage.current=s,this._drag.pointer=this.pointer(e),t(i).on("mouseup.owl.core touchend.owl.core",t.proxy(this.onDragEnd,this)),t(i).one("mousemove.owl.core touchmove.owl.core",t.proxy(function(e){var s=this.difference(this._drag.pointer,this.pointer(e));t(i).on("mousemove.owl.core touchmove.owl.core",t.proxy(this.onDragMove,this)),Math.abs(s.x)<Math.abs(s.y)&&this.is("valid")||(e.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},n.prototype.onDragMove=function(t){var e=null,i=null,s=null,n=this.difference(this._drag.pointer,this.pointer(t)),o=this.difference(this._drag.stage.start,n);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-e,o.x=((o.x-e)%i+i)%i+e):(e=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),s=this.settings.pullDrag?-1*n.x/5:0,o.x=Math.max(Math.min(o.x,e+s),i+s)),this._drag.stage.current=o,this.animate(o.x))},n.prototype.onDragEnd=function(e){var s=this.difference(this._drag.pointer,this.pointer(e)),n=this._drag.stage.current,o=s.x>0^this.settings.rtl?"left":"right";t(i).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==s.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(n.x,0!==s.x?o:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=o,(Math.abs(s.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},n.prototype.closest=function(e,i){var s=-1,n=30,o=this.width(),r=this.coordinates();return this.settings.freeDrag||t.each(r,t.proxy(function(t,a){return"left"===i&&e>a-n&&e<a+n?s=t:"right"===i&&e>a-o-n&&e<a-o+n?s=t+1:this.op(e,"<",a)&&this.op(e,">",r[t+1]||a-o)&&(s="left"===i?t+1:t),s===-1},this)),this.settings.loop||(this.op(e,">",r[this.minimum()])?s=e=this.minimum():this.op(e,"<",r[this.maximum()])&&(s=e=this.maximum())),s},n.prototype.animate=function(e){var i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this.trigger("translate")),t.support.transform3d&&t.support.transition?this.$stage.css({transform:"translate3d("+e+"px,0px,0px)",transition:this.speed()/1e3+"s"}):i?this.$stage.animate({left:e+"px"},this.speed(),this.settings.fallbackEasing,t.proxy(this.onTransitionEnd,this)):this.$stage.css({left:e+"px"})},n.prototype.is=function(t){return this._states.current[t]&&this._states.current[t]>0},n.prototype.current=function(t){if(t===s)return this._current;if(0===this._items.length)return s;if(t=this.normalize(t),this._current!==t){var e=this.trigger("change",{property:{name:"position",value:t}});e.data!==s&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},n.prototype.invalidate=function(e){return"string"===t.type(e)&&(this._invalidated[e]=!0,this.is("valid")&&this.leave("valid")),t.map(this._invalidated,function(t,e){return e})},n.prototype.reset=function(t){t=this.normalize(t),t!==s&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},n.prototype.normalize=function(t,e){var i=this._items.length,n=e?0:this._clones.length;return!this.isNumeric(t)||i<1?t=s:(t<0||t>=i+n)&&(t=((t-n/2)%i+i)%i+n/2),t},n.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},n.prototype.maximum=function(t){var e,i,s,n=this.settings,o=this._coordinates.length;if(n.loop)o=this._clones.length/2+this._items.length-1;else if(n.autoWidth||n.merge){for(e=this._items.length,i=this._items[--e].width(),s=this.$element.width();e--&&(i+=this._items[e].width()+this.settings.margin,!(i>s)););o=e+1}else o=n.center?this._items.length-1:this._items.length-n.items;return t&&(o-=this._clones.length/2),Math.max(o,0)},n.prototype.minimum=function(t){return t?0:this._clones.length/2},n.prototype.items=function(t){return t===s?this._items.slice():(t=this.normalize(t,!0),this._items[t])},n.prototype.mergers=function(t){return t===s?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},n.prototype.clones=function(e){var i=this._clones.length/2,n=i+this._items.length,o=function(t){return t%2===0?n+t/2:i-(t+1)/2};return e===s?t.map(this._clones,function(t,e){return o(e)}):t.map(this._clones,function(t,i){return t===e?o(i):null})},n.prototype.speed=function(t){return t!==s&&(this._speed=t),this._speed},n.prototype.coordinates=function(e){var i,n=1,o=e-1;return e===s?t.map(this._coordinates,t.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(this.settings.rtl&&(n=-1,o=e+1),i=this._coordinates[e],i+=(this.width()-i+(this._coordinates[o]||0))/2*n):i=this._coordinates[o]||0,i=Math.ceil(i))},n.prototype.duration=function(t,e,i){return 0===i?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(i||this.settings.smartSpeed)},n.prototype.to=function(t,e){var i=this.current(),s=null,n=t-this.relative(i),o=(n>0)-(n<0),r=this._items.length,a=this.minimum(),h=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(n)>r/2&&(n+=o*-1*r),t=i+n,s=((t-a)%r+r)%r+a,s!==t&&s-n<=h&&s-n>0&&(i=s-n,t=s,this.reset(i))):this.settings.rewind?(h+=1,t=(t%h+h)%h):t=Math.max(a,Math.min(h,t)),this.speed(this.duration(i,t,e)),this.current(t),this.$element.is(":visible")&&this.update()},n.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},n.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},n.prototype.onTransitionEnd=function(t){return(t===s||(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)===this.$stage.get(0)))&&(this.leave("animating"),void this.trigger("translated"))},n.prototype.viewport=function(){var s;if(this.options.responsiveBaseElement!==e)s=t(this.options.responsiveBaseElement).width();else if(e.innerWidth)s=e.innerWidth;else{if(!i.documentElement||!i.documentElement.clientWidth)throw"Can not detect viewport width.";s=i.documentElement.clientWidth}return s},n.prototype.replace=function(e){this.$stage.empty(),this._items=[],e&&(e=e instanceof jQuery?e:t(e)),this.settings.nestedItemSelector&&(e=e.find("."+this.settings.nestedItemSelector)),e.filter(function(){return 1===this.nodeType}).each(t.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},n.prototype.add=function(e,i){var n=this.relative(this._current);i=i===s?this._items.length:this.normalize(i,!0),e=e instanceof jQuery?e:t(e),this.trigger("add",{content:e,position:i}),e=this.prepare(e),0===this._items.length||i===this._items.length?(0===this._items.length&&this.$stage.append(e),0!==this._items.length&&this._items[i-1].after(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[i].before(e),this._items.splice(i,0,e),this._mergers.splice(i,0,1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[n]&&this.reset(this._items[n].index()),this.invalidate("items"),this.trigger("added",{content:e,position:i})},n.prototype.remove=function(t){t=this.normalize(t,!0),t!==s&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},n.prototype.preloadAutoWidthImages=function(e){e.each(t.proxy(function(e,i){this.enter("pre-loading"),i=t(i),t(new Image).one("load",t.proxy(function(t){i.attr("src",t.target.src),i.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",i.attr("src")||i.attr("data-src")||i.attr("data-src-retina"))},this))},n.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),t(i).off(".owl.core"),this.settings.responsive!==!1&&(e.clearTimeout(this.resizeTimer),this.off(e,"resize",this._handlers.onThrottledResize));for(var s in this._plugins)this._plugins[s].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},n.prototype.op=function(t,e,i){var s=this.settings.rtl;switch(e){case"<":return s?t>i:t<i;case">":return s?t<i:t>i;case">=":return s?t<=i:t>=i;case"<=":return s?t>=i:t<=i}},n.prototype.on=function(t,e,i,s){t.addEventListener?t.addEventListener(e,i,s):t.attachEvent&&t.attachEvent("on"+e,i)},n.prototype.off=function(t,e,i,s){t.removeEventListener?t.removeEventListener(e,i,s):t.detachEvent&&t.detachEvent("on"+e,i)},n.prototype.trigger=function(e,i,s,o,r){var a={item:{count:this._items.length,index:this.current()}},h=t.camelCase(t.grep(["on",e,s],function(t){return t}).join("-").toLowerCase()),l=t.Event([e,"owl",s||"carousel"].join(".").toLowerCase(),t.extend({relatedTarget:this},a,i));return this._supress[e]||(t.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(l)}),this.register({type:n.Type.Event,name:e}),this.$element.trigger(l),this.settings&&"function"==typeof this.settings[h]&&this.settings[h].call(this,l)),l},n.prototype.enter=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){this._states.current[e]===s&&(this._states.current[e]=0),this._states.current[e]++},this))},n.prototype.leave=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){this._states.current[e]--},this))},n.prototype.register=function(e){if(e.type===n.Type.Event){if(t.event.special[e.name]||(t.event.special[e.name]={}),!t.event.special[e.name].owl){var i=t.event.special[e.name]._default;t.event.special[e.name]._default=function(t){return!i||!i.apply||t.namespace&&t.namespace.indexOf("owl")!==-1?t.namespace&&t.namespace.indexOf("owl")>-1:i.apply(this,arguments)},t.event.special[e.name].owl=!0}}else e.type===n.Type.State&&(this._states.tags[e.name]?this._states.tags[e.name]=this._states.tags[e.name].concat(e.tags):this._states.tags[e.name]=e.tags,this._states.tags[e.name]=t.grep(this._states.tags[e.name],t.proxy(function(i,s){return t.inArray(i,this._states.tags[e.name])===s},this)))},n.prototype.suppress=function(e){t.each(e,t.proxy(function(t,e){this._supress[e]=!0},this))},n.prototype.release=function(e){t.each(e,t.proxy(function(t,e){delete this._supress[e]},this))},n.prototype.pointer=function(t){var i={x:null,y:null};return t=t.originalEvent||t||e.event,t=t.touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,t.pageX?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),i},n.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},n.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},t.fn.tmowlCarousel=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var s=t(this),o=s.data("owl.carousel");o||(o=new n(this,"object"==typeof e&&e),s.data("owl.carousel",o),t.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(e,i){o.register({type:n.Type.Event,name:i}),o.$element.on(i+".owl.carousel.core",t.proxy(function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([i]),o[i].apply(this,[].slice.call(arguments,1)),this.release([i]))},o))})),"string"==typeof e&&"_"!==e.charAt(0)&&o[e].apply(o,i)})},t.fn.tmowlCarousel.Constructor=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={autoRefresh:!0,autoRefreshInterval:500},n.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=e.setInterval(t.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},n.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},n.prototype.destroy=function(){var t,i;e.clearInterval(this._interval);for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},t.fn.tmowlCarousel.Constructor.Plugins.AutoRefresh=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":t.proxy(function(e){if(e.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(e.property&&"position"==e.property.name||"initialized"==e.type))for(var i=this._core.settings,n=i.center&&Math.ceil(i.items/2)||i.items,o=i.center&&n*-1||0,r=(e.property&&e.property.value!==s?e.property.value:this._core.current())+o,a=this._core.clones().length,h=t.proxy(function(t,e){this.load(e)},this);o++<n;)this.load(a/2+this._core.relative(r)),a&&t.each(this._core.clones(this._core.relative(r)),h),r++},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={lazyLoad:!1},n.prototype.load=function(i){var s=this._core.$stage.children().eq(i),n=s&&s.find(".owl-lazy");!n||t.inArray(s.get(0),this._loaded)>-1||(n.each(t.proxy(function(i,s){var n,o=t(s),r=e.devicePixelRatio>1&&o.attr("data-src-retina")||o.attr("data-src");this._core.trigger("load",{element:o,url:r},"lazy"),o.is("img")?o.one("load.owl.lazy",t.proxy(function(){o.css("opacity",1),this._core.trigger("loaded",{element:o,url:r},"lazy")},this)).attr("src",r):(n=new Image,n.onload=t.proxy(function(){o.css({"background-image":"url("+r+")",opacity:"1"}),this._core.trigger("loaded",{element:o,url:r},"lazy")},this),n.src=r)},this)),this._loaded.push(s.get(0)))},n.prototype.destroy=function(){var t,e;for(t in this.handlers)this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.tmowlCarousel.Constructor.Plugins.Lazy=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&"position"==t.property.name&&this.update()},this),"loaded.owl.lazy":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},n.prototype.update=function(){var e=this._core._current,i=e+this._core.settings.items,s=this._core.$stage.children().toArray().slice(e,i),n=[],o=0;t.each(s,function(e,i){n.push(t(i).height())}),o=Math.max.apply(null,n),this._core.$stage.parent().height(o).addClass(this._core.settings.autoHeightClass)},n.prototype.destroy=function(){var t,e;for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.tmowlCarousel.Constructor.Plugins.AutoHeight=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var i=t(e.content).find(".owl-video");i.length&&(i.css("display","none"),this.fetch(i,t(e.content)))}},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",t.proxy(function(t){this.play(t)},this))};n.Defaults={video:!1,videoHeight:!1,videoWidth:!1},n.prototype.fetch=function(t,e){var i=function(){return t.attr("data-vimeo-id")?"vimeo":t.attr("data-vzaar-id")?"vzaar":"youtube"}(),s=t.attr("data-vimeo-id")||t.attr("data-youtube-id")||t.attr("data-vzaar-id"),n=t.attr("data-width")||this._core.settings.videoWidth,o=t.attr("data-height")||this._core.settings.videoHeight,r=t.attr("href");if(!r)throw new Error("Missing video URL.");if(s=r.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),s[3].indexOf("youtu")>-1)i="youtube";else if(s[3].indexOf("vimeo")>-1)i="vimeo";else{if(!(s[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");i="vzaar"}s=s[6],this._videos[r]={type:i,id:s,width:n,height:o},e.attr("data-video",r),this.thumbnail(t,this._videos[r])},n.prototype.thumbnail=function(e,i){var s,n,o,r=i.width&&i.height?'style="width:'+i.width+"px;height:"+i.height+'px;"':"",a=e.find("img"),h="src",l="",c=this._core.settings,p=function(t){n='<div class="owl-video-play-icon"></div>',s=c.lazyLoad?'<div class="owl-video-tn '+l+'" '+h+'="'+t+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+t+')"></div>',e.after(s),e.after(n)};return e.wrap('<div class="owl-video-wrapper"'+r+"></div>"),this._core.settings.lazyLoad&&(h="data-src",l="owl-lazy"),a.length?(p(a.attr(h)),a.remove(),!1):void("youtube"===i.type?(o="//img.youtube.com/vi/"+i.id+"/hqdefault.jpg",p(o)):"vimeo"===i.type?t.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){o=t[0].thumbnail_large,p(o)}}):"vzaar"===i.type&&t.ajax({type:"GET",url:"//vzaar.com/api/videos/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){o=t.framegrab_url,p(o)}}))},n.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},n.prototype.play=function(e){var i,s=t(e.target),n=s.closest("."+this._core.settings.itemClass),o=this._videos[n.attr("data-video")],r=o.width||"100%",a=o.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),n=this._core.items(this._core.relative(n.index())),this._core.reset(n.index()),"youtube"===o.type?i='<iframe width="'+r+'" height="'+a+'" src="//www.youtube.com/embed/'+o.id+"?autoplay=1&v="+o.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===o.type?i='<iframe src="//player.vimeo.com/video/'+o.id+'?autoplay=1" width="'+r+'" height="'+a+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':"vzaar"===o.type&&(i='<iframe frameborder="0"height="'+a+'"width="'+r+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+o.id+'/player?autoplay=true"></iframe>'),t('<div class="owl-video-frame">'+i+"</div>").insertAfter(n.find(".owl-video")),this._playing=n.addClass("owl-video-playing"))},n.prototype.isInFullScreen=function(){var e=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return e&&t(e).parent().hasClass("owl-video-frame")},n.prototype.destroy=function(){var t,e;this._core.$element.off("click.owl.video");for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.tmowlCarousel.Constructor.Plugins.Video=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this.core=e,this.core.options=t.extend({},n.Defaults,this.core.options),this.swapping=!0,this.previous=s,this.next=s,this.handlers={"change.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":t.proxy(function(t){t.namespace&&(this.swapping="translated"==t.type)},this),"translate.owl.carousel":t.proxy(function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};n.Defaults={animateOut:!1,animateIn:!1},n.prototype.swap=function(){if(1===this.core.settings.items&&t.support.animation&&t.support.transition){this.core.speed(0);var e,i=t.proxy(this.clear,this),s=this.core.$stage.children().eq(this.previous),n=this.core.$stage.children().eq(this.next),o=this.core.settings.animateIn,r=this.core.settings.animateOut;this.core.current()!==this.previous&&(r&&(e=this.core.coordinates(this.previous)-this.core.coordinates(this.next),s.one(t.support.animation.end,i).css({left:e+"px"}).addClass("animated owl-animated-out").addClass(r)),o&&n.one(t.support.animation.end,i).addClass("animated owl-animated-in").addClass(o))}},n.prototype.clear=function(e){t(e.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},n.prototype.destroy=function(){var t,e;for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null);
},t.fn.tmowlCarousel.Constructor.Plugins.Animate=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._timeout=null,this._paused=!1,this._handlers={"changed.owl.carousel":t.proxy(function(t){t.namespace&&"settings"===t.property.name?this._core.settings.autoplay?this.play():this.stop():t.namespace&&"position"===t.property.name&&this._core.settings.autoplay&&this._setAutoPlayInterval()},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":t.proxy(function(t,e,i){t.namespace&&this.play(e,i)},this),"stop.owl.autoplay":t.proxy(function(t){t.namespace&&this.stop()},this),"mouseover.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=t.extend({},n.Defaults,this._core.options)};n.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},n.prototype.play=function(t,e){this._paused=!1,this._core.is("rotating")||(this._core.enter("rotating"),this._setAutoPlayInterval())},n.prototype._getNextTimeout=function(s,n){return this._timeout&&e.clearTimeout(this._timeout),e.setTimeout(t.proxy(function(){this._paused||this._core.is("busy")||this._core.is("interacting")||i.hidden||this._core.next(n||this._core.settings.autoplaySpeed)},this),s||this._core.settings.autoplayTimeout)},n.prototype._setAutoPlayInterval=function(){this._timeout=this._getNextTimeout()},n.prototype.stop=function(){this._core.is("rotating")&&(e.clearTimeout(this._timeout),this._core.leave("rotating"))},n.prototype.pause=function(){this._core.is("rotating")&&(this._paused=!0)},n.prototype.destroy=function(){var t,e;this.stop();for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.tmowlCarousel.Constructor.Plugins.autoplay=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){"use strict";var n=function(e){this._core=e,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":t.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+t(e.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())},this),"remove.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&this.draw()},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this.$element.on(this._handlers)};n.Defaults={nav:!1,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},n.prototype.initialize=function(){var e,i=this._core.settings;this._controls.$relative=(i.navContainer?t(i.navContainer):t("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=t("<"+i.navElement+">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click",t.proxy(function(t){this.prev(i.navSpeed)},this)),this._controls.$next=t("<"+i.navElement+">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click",t.proxy(function(t){this.next(i.navSpeed)},this)),i.dotsData||(this._templates=[t("<div>").addClass(i.dotClass).append(t("<span>")).prop("outerHTML")]),this._controls.$absolute=(i.dotsContainer?t(i.dotsContainer):t("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",t.proxy(function(e){var s=t(e.target).parent().is(this._controls.$absolute)?t(e.target).index():t(e.target).parent().index();e.preventDefault(),this.to(s,i.dotsSpeed)},this));for(e in this._overrides)this._core[e]=t.proxy(this[e],this)},n.prototype.destroy=function(){var t,e,i,s;for(t in this._handlers)this.$element.off(t,this._handlers[t]);for(e in this._controls)this._controls[e].remove();for(s in this.overides)this._core[s]=this._overrides[s];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},n.prototype.update=function(){var t,e,i,s=this._core.clones().length/2,n=s+this._core.items().length,o=this._core.maximum(!0),r=this._core.settings,a=r.center||r.autoWidth||r.dotsData?1:r.dotsEach||r.items;if("page"!==r.slideBy&&(r.slideBy=Math.min(r.slideBy,r.items)),r.dots||"page"==r.slideBy)for(this._pages=[],t=s,e=0,i=0;t<n;t++){if(e>=a||0===e){if(this._pages.push({start:Math.min(o,t-s),end:t-s+a-1}),Math.min(o,t-s)===o)break;e=0,++i}e+=this._core.mergers(this._core.relative(t))}},n.prototype.draw=function(){var e,i=this._core.settings,s=this._core.items().length<=i.items,n=this._core.relative(this._core.current()),o=i.loop||i.rewind;this._controls.$relative.toggleClass("disabled",!i.nav||s),i.nav&&(this._controls.$previous.toggleClass("disabled",!o&&n<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!o&&n>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!i.dots||s),i.dots&&(e=this._pages.length-this._controls.$absolute.children().length,i.dotsData&&0!==e?this._controls.$absolute.html(this._templates.join("")):e>0?this._controls.$absolute.append(new Array(e+1).join(this._templates[0])):e<0&&this._controls.$absolute.children().slice(e).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(t.inArray(this.current(),this._pages)).addClass("active"))},n.prototype.onTrigger=function(e){var i=this._core.settings;e.page={index:t.inArray(this.current(),this._pages),count:this._pages.length,size:i&&(i.center||i.autoWidth||i.dotsData?1:i.dotsEach||i.items)}},n.prototype.current=function(){var e=this._core.relative(this._core.current());return t.grep(this._pages,t.proxy(function(t,i){return t.start<=e&&t.end>=e},this)).pop()},n.prototype.getPosition=function(e){var i,s,n=this._core.settings;return"page"==n.slideBy?(i=t.inArray(this.current(),this._pages),s=this._pages.length,e?++i:--i,i=this._pages[(i%s+s)%s].start):(i=this._core.relative(this._core.current()),s=this._core.items().length,e?i+=n.slideBy:i-=n.slideBy),i},n.prototype.next=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!0),e)},n.prototype.prev=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!1),e)},n.prototype.to=function(e,i,s){var n;!s&&this._pages.length?(n=this._pages.length,t.proxy(this._overrides.to,this._core)(this._pages[(e%n+n)%n].start,i)):t.proxy(this._overrides.to,this._core)(e,i)},t.fn.tmowlCarousel.Constructor.Plugins.Navigation=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){"use strict";var n=function(i){this._core=i,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":t.proxy(function(i){i.namespace&&"URLHash"===this._core.settings.startPosition&&t(e).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var i=t(e.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!i)return;this._hashes[i]=e.content}},this),"changed.owl.carousel":t.proxy(function(i){if(i.namespace&&"position"===i.property.name){var s=this._core.items(this._core.relative(this._core.current())),n=t.map(this._hashes,function(t,e){return t===s?e:null}).join();if(!n||e.location.hash.slice(1)===n)return;e.location.hash=n}},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this.$element.on(this._handlers),t(e).on("hashchange.owl.navigation",t.proxy(function(t){var i=e.location.hash.substring(1),n=this._core.$stage.children(),o=this._hashes[i]&&n.index(this._hashes[i]);o!==s&&o!==this._core.current()&&this._core.to(this._core.relative(o),!1,!0)},this))};n.Defaults={URLhashListener:!1},n.prototype.destroy=function(){var i,s;t(e).off("hashchange.owl.navigation");for(i in this._handlers)this._core.$element.off(i,this._handlers[i]);for(s in Object.getOwnPropertyNames(this))"function"!=typeof this[s]&&(this[s]=null)},t.fn.tmowlCarousel.Constructor.Plugins.Hash=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){function n(e,i){var n=!1,o=e.charAt(0).toUpperCase()+e.slice(1);return t.each((e+" "+a.join(o+" ")+o).split(" "),function(t,e){if(r[e]!==s)return n=!i||e,!1}),n}function o(t){return n(t,!0)}var r=t("<support>").get(0).style,a="Webkit Moz O ms".split(" "),h={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},l={csstransforms:function(){return!!n("transform")},csstransforms3d:function(){return!!n("perspective")},csstransitions:function(){return!!n("transition")},cssanimations:function(){return!!n("animation")}};l.csstransitions()&&(t.support.transition=new String(o("transition")),t.support.transition.end=h.transition.end[t.support.transition]),l.cssanimations()&&(t.support.animation=new String(o("animation")),t.support.animation.end=h.animation.end[t.support.animation]),l.csstransforms()&&(t.support.transform=new String(o("transform")),t.support.transform3d=l.csstransforms3d())}(window.Zepto||window.jQuery,window,document);!function(t){"use strict";function e(){var t=1.1;return t=/^1(.+)1$/.exec(t.toLocaleString())[1]}function a(t,e,a){var i,o,r,n;if(e|=0,i=Math.pow(10,e),t*=i,n=t>0|-(t<0),r=t%1===.5*n,o=Math.floor(t),r)switch(a){case"PHP_ROUND_HALF_DOWN":t=o+(n<0);break;case"PHP_ROUND_HALF_EVEN":t=o+o%2*n;break;case"PHP_ROUND_HALF_ODD":t=o+!(o%2);break;default:t=o+(n>0)}return(r?t:Math.round(t))/i}function i(e){var a;return a=t(e).is(".cpf_hide_element")?t(e):t(e).closest(".cpf_hide_element"),t(a).data("isactive")!==!1&&t(a).closest(".cpf-section").data("isactive")!==!1?(t(e).prop("disabled",!1),!0):(t(e).is(".cpf_hide_element")||t(e).prop("disabled",!0),!1)}function o(t){var e;if(void 0!==t.per_product_pricing)e=t.per_product_pricing;else if(void 0!==t.is_priced_individually)for(var a in t.is_priced_individually)e=t.is_priced_individually[a];return e===!0||"yes"==e}function r(e){t(e).length||(e="body"),e=t(e);var a=e.find(".iscpfdependson");a.each(function(e,a){t(a).each(function(e,a){n(t(a))})}),a.each(function(e,a){t(a).each(function(e,a){n(t(a),"cpflogic")})}),a.each(function(e,a){t(a).each(function(e,a){a=t(a),a.is(".cpf-section")&&(a=a.find(".cpf_hide_element")),a.each(function(e,a){i(t(a).find(".tm-epo-field"))})})}),t().selectric&&t(".tm-extra-product-options select").selectric("refresh"),t(".tm-owl-slider").each(function(){t(this).trigger("refresh.owl.carousel")});var o=[];e.find(".tm-product-image:checked,select.tm-product-image").each(function(){var e=t(this);i(e)&&""!==e.val()&&o.push(e)}),o.length&&o[o.length-1].trigger("tm_trigger_product_image"),B.trigger("cpflogicrun"),B.trigger("tmlazy")}function n(e,a){e.each(function(e,o){var r=t(this),n=r.data("matches"),c=r.data("toggle"),s=r.data("what"),p=r.data("fields"),l=0,m=!1;switch(c){case"show":m=!1;break;case"hide":m=!0}t.each(p,function(e,o){var r=!0;"cpflogic"==a&&(r=i(t(o.element))),r&&d(o)&&l++}),"all"==s?n==l&&(m=!m):l>0&&(m=!m),m?r.removeClass("tc-hidden"):r.addClass("tc-hidden"),r.data("isactive",m)})}function c(e,a){var o,r=!0,n=e.find(".cpf_hide_element");return t(n).each(function(e,n){if(n=t(n),i(n)){var c=n.attr("class").split(" ").map(function(t){if(t.indexOf("cpf-type-",0)!==-1)return t}).filter(function(t,e,a){if(null!==t&&void 0!==t)return t});if(c.length>0){switch(c=c[0]){case"cpf-type-radio":var d=n.find("input.tm-epo-field.tmcp-radio:checked");"isnotempty"==a?r=r&&d.length>0:"isempty"==a&&(r=r&&0==d.length);break;case"cpf-type-checkbox":var s=n.find("input.tm-epo-field.tmcp-checkbox:checked");"isnotempty"==a?r=r&&s.length>0:"isempty"==a&&(r=r&&0==s.length);break;case"cpf-type-select":var l=n.find("select.tm-epo-field.tmcp-select").children("option"),m=n.find("select.tm-epo-field.tmcp-select").children("option:selected"),f=l.index(m);""===l.eq(0).val()&&""===l.eq(0).attr("data-rulestype")&&(f-=1);var _="_"+f;_=_.length,o=n.find("select.tm-epo-field.tmcp-select").val(),o&&(o=o.slice(0,-_));break;case"cpf-type-textarea":o=n.find("textarea.tm-epo-field.tmcp-textarea").val();break;case"cpf-type-textfield":o=n.find("input.tm-epo-field.tmcp-textfield").val();break;case"cpf-type-range":o=n.find("input.tm-epo-field.tmcp-range").val()}r=r&&p(o,"",a)}else r=r&&!1}}),r}function d(e){var a,i=t(e.element),o=e.operator,r=e.value;if(!i.length)return!1;if(i.is(".cpf-section"))return c(i,o);var n=i.attr("class").split(" ").map(function(t){if(t.indexOf("cpf-type-",0)!==-1)return t}).filter(function(t,e,a){if(null!==t&&void 0!==t)return t});if(n.length>0){switch(n=n[0]){case"cpf-type-radio":var d=i.find("input.tm-epo-field.tmcp-radio"),l=i.find("input.tm-epo-field.tmcp-radio:checked");if("is"==o||"isnot"==o){if(0==l.length)return!1;var m=d.index(l),f="_"+m;f=f.length,a=i.find("input.tm-epo-field.tmcp-radio:checked").val(),a&&(a=a.slice(0,-f))}else{if("isnotempty"==o)return l.length>0;if("isempty"==o)return 0==l.length}break;case"cpf-type-checkbox":var _=i.find("input.tm-epo-field.tmcp-checkbox"),u=i.find("input.tm-epo-field.tmcp-checkbox:checked");if("is"==o||"isnot"==o){if(0==u.length)return!1;var h=!1;return u.each(function(e,i){var n=_.index(t(i)),c="_"+n;if(c=c.length,a=t(i).val(),a&&(a=a.slice(0,-c)),p(a,r,o))h=!0;else if("isnot"==o)return h=!1,!1}),h}if("isnotempty"==o)return u.length>0;if("isempty"==o)return 0==u.length;break;case"cpf-type-select":var v=i.find("select.tm-epo-field.tmcp-select").children("option"),g=i.find("select.tm-epo-field.tmcp-select").children("option:selected"),m=v.index(g);""===v.eq(0).val()&&""===v.eq(0).attr("data-rulestype")&&(m-=1);var f="_"+m;f=f.length,a=i.find("select.tm-epo-field.tmcp-select").val(),a&&(a=a.slice(0,-f));break;case"cpf-type-textarea":a=i.find("textarea.tm-epo-field.tmcp-textarea").val();break;case"cpf-type-textfield":a=i.find("input.tm-epo-field.tmcp-textfield").val();break;case"cpf-type-range":a=i.find("input.tm-epo-field.tmcp-range").val();break;case"cpf-type-variations":return s(i,r,o)}return p(a,r,o)}return!1}function s(e,a,i){null!==e&&null!==a&&(a=a?parseInt(a):-1);var o,r=t(e).closest(".variations_form"),n='input[name^="variation_id"]';switch(r.find("input.variation_id").length>0&&(n="input.variation_id"),o=r.find(n).val(),i){case"is":return""!=o&&o==a;case"isnot":return""!=o&&o!=a;case"isempty":return""==o||0==o;case"isnotempty":return!(""==o||0==o);case"startswith":return o.startsWith(a);case"endswith":return o.endsWith(a);case"greaterthan":return parseFloat(o)>parseFloat(a);case"lessthan":return parseFloat(o)<parseFloat(a)}return!1}function p(e,a,i){switch(null!=e&&null!=a&&(e=encodeURIComponent(e),a=t.qtranxj_split?encodeURIComponent(t.qtranxj_split(decodeURIComponent(a))[tm_epo_q_translate_x_clogic_js.language]):encodeURIComponent(decodeURIComponent(a)),e=e?e.toLowerCase():"",a=a?a.toLowerCase():""),i){case"is":return null!=e&&e==a;case"isnot":return null!=e&&e!=a;case"isempty":return!(void 0!=e&&""!=e);case"isnotempty":return void 0!=e&&""!=e;case"startswith":return e.startsWith(a);case"endswith":return e.endsWith(a);case"greaterthan":return parseFloat(e)>parseFloat(a);case"lessthan":return parseFloat(e)<parseFloat(a)}return!1}function l(e){if(0!=t(e).length){if(t(e).is(".cpf-section"))return e.find(".tm-epo-field");var a=e.attr("class").split(" ").map(function(t){if(t.indexOf("cpf-type-",0)!==-1)return t}).filter(function(t,e,a){if(null!==t&&void 0!==t)return t});if(a.length>0)switch(a=a[0]){case"cpf-type-radio":return e.find(".tm-epo-field.tmcp-radio");case"cpf-type-checkbox":return e.find(".tm-epo-field.tmcp-checkbox");case"cpf-type-select":return e.find(".tm-epo-field.tmcp-select");case"cpf-type-textarea":return e.find(".tm-epo-field.tmcp-textarea");case"cpf-type-textfield":return e.find(".tm-epo-field.tmcp-textfield");case"cpf-type-range":return e.find(".tm-epo-field.tmcp-range");case"cpf-type-date":return e.find(".tm-epo-field.tmcp-date");case"cpf-type-variations":return e.closest(".cpf-section").find(".tm-epo-field.tm-epo-variation-element")}else;}}function m(t){return"object"==typeof t&&"toggle"in t&&"what"in t&&"rules"in t&&t.rules.length>0}function f(e){var a,i=t(e),o=i.find(".cpf-section");a=!i.is(".cpf-section")&&o,i.each(function(e,o){var r;r=t(o).is(".cpf-section")?t(o):t(o).find(".cpf-section"),r.each(function(e,o){var r=t(o),n=r.data("logic"),c=parseInt(r.data("haslogic")),d=[];1==c&&m(n)&&(t.each(n.rules,function(t,e){if(e){var o,r,n=e.section,c=e.element,s=e.operator,p=e.value;a?(o=a.filter('[data-uniqid="'+n+'"]'),r=c!=n?o.find(".cpf_hide_element").eq(c):o):r=c!=n?i.find(".cpf_hide_element").eq(c):o,d.push({element:r,operator:s,value:p})}}),r.data("iscpfdependson")?r.cpfdependson(r.data("cpfdependson-fields"),n.toggle,n.what,!0):(r.data("cpfdependson-fields",d),r.cpfdependson(d,n.toggle,n.what)))})})}function _(e){var a,i=t(e),o=i.find(".cpf-section");a=!i.is(".cpf-section")&&o,i.find(".cpf_hide_element").each(function(e,o){var r=t(o),n=r.data("logic"),c=parseInt(r.data("haslogic"));if(1==c&&m(n)){var d=[];t.each(n.rules,function(t,e){if(e){var o,r,n=e.section,c=e.element,s=e.operator,p=e.value;a?(o=a.filter('[data-uniqid="'+n+'"]'),r=c!=n?o.find(".cpf_hide_element").eq(c):o):r=c!=n?i.find(".cpf_hide_element").eq(c):o,d.push({element:r,operator:s,value:p})}}),r.data("iscpfdependson")?r.cpfdependson(r.data("cpfdependson-fields"),n.toggle,n.what,!0):(r.data("cpfdependson-fields",d),r.cpfdependson(d,n.toggle,n.what))}})}function u(t,e,a){if(isNaN(parseFloat(t))&&(t=0),t*=1e4,e){var i=e.attr("data-taxable"),o=e.attr("data-tax-rate"),r=e.attr("data-base-tax-rate"),n=e.attr("data-prices-include-tax"),c=e.attr("data-is-vat-exempt"),d=e.attr("data-non-base-location-prices"),s=e.attr("data-base-taxes-of-one"),p=e.attr("data-modded-taxes-of-one");a&&a.data("tax-obj")&&(o=a.data("tax-obj"),o=o.tax_rate,r=o),i&&("1"==n?"1"==c?t=parseFloat(t)*(1-r/100):"1"==d&&(t=parseFloat(t)-s*t+p*t):t=parseFloat(t)*(1+o/100))}return t/=1e4}function h(t,e,a){if(isNaN(parseFloat(t))&&(t=0),t*=1e4,e){var i=e.attr("data-taxable"),o=e.attr("data-tax-rate"),r=e.attr("data-base-taxes-of-one"),n=e.attr("data-prices-include-tax");a&&a.data("tax-obj")&&(o=a.data("tax-obj"),o=o.tax_rate),i&&"1"==n&&(t=parseFloat(t)-parseFloat(r*t))}return t/=1e4}function v(t,e,a){if(isNaN(parseFloat(t))&&(t=0),e){var i=e.attr("data-tax-display-mode");t="incl"==i?u(t,e,a):h(t,e,a)}return t}function g(t,e,a){if(e){var i=e.attr("data-taxable"),o=e.attr("data-tax-rate"),r=e.attr("data-tax-display-mode"),n=e.attr("data-prices-include-tax");i&&("excl"==r||"1"==n||(t=parseFloat(t)/(1+o/100)))}return t}function b(t,e,a,i,o){a||(t=v(t,e,o));var r="";return e&&i&&(r=e.attr("data-tax-string")),void 0==r&&(r=""),accounting.formatMoney(t,{symbol:tm_epo_js.currency_format_symbol,decimal:z,thousand:D,precision:tm_epo_js.currency_format_num_decimals,format:tm_epo_js.currency_format})+r}function y(e,a,i,o,r){var n=t(e);if(0!=n.length){var c=n.closest(".tmcp-field-wrap"),d=c.find(".before-amount,.after-amount"),s={price:i,original_price:r};if("yes"==tm_epo_js.tm_epo_auto_hide_price_if_zero&&0!=a||"yes"!=tm_epo_js.tm_epo_auto_hide_price_if_zero){var p=c.find(".tm-epo-field");p.length>0&&p.is(".tmcp-select")&&""===p.val()?(n.empty(),d.addClass("tm-hidden")):(o&&void 0!=o&&parseFloat(o)!==parseFloat(a)?n.html(t.fn.tm_template(Q.sale_price,{price:s})):n.html(t.fn.tm_template(Q.price,{price:s})),d.removeClass("tm-hidden"))}else n.empty(),d.addClass("tm-hidden")}}function w(t,e,a){O[O.length]={name:t,selector:e,func:a}}function k(e){var a={};return e.find(".variations select").each(function(){var e,i;e="undefined"!=typeof t(this).data("attribute_name")?t(this).data("attribute_name"):t(this).attr("name"),i=t(this).val(),a[e]=i}),a}function x(e,a){var i=[];if(e.find(".cpf-type-variations").each(function(o,r){i[o]=!0;var n,c,d=t(r).find(".tm-epo-variation-element"),s=!1;d.is("select")?(n=d.attr("data-tm-for-variation").tmjid(),c=d.val(),c&&(i[o]=!1),d.children("option").each(function(a,i){s=!1,e.find("#"+n).children("option").each(function(){if(t(this).attr("value")==t(i).attr("value"))return s=!0,!1}),s?t(i).removeAttr("disabled").show():t(i).attr("disabled","disabled").hide()})):d.each(function(r,d){var d=t(d),s=d.closest("li"),p=s.find(".tm-epo-variation-element");n=d.attr("data-tm-for-variation"),c=d.val(),d.is(":checked")&&(i[o]=!1);var l=k(e);l["attribute_"+n]=c;var m=t.fn.tm_find_matching_variations(a,l),f=m.shift(),_=f&&"is_in_stock"in f&&f.is_in_stock;f&&_?(d.removeAttr("disabled").removeClass("tm-disabled"),s.removeClass("tm-attribute-disabled").fadeTo("fast",1,function(){t(this).css("opacity","")}),p.removeAttr("disabled"),p.removeAttr("data-tm-disabled")):(d.attr("disabled","disabled").addClass("tm-disabled"),p.attr("disabled","disabled"),p.attr("data-tm-disabled","disabled"),s.addClass("tm-attribute-disabled").fadeTo("fast",.5),_||s.find("label").off())})}),i){var o=(i.shift(),!0);t.each(i,function(t,e){if(e===!1)return o=!1,!1}),o&&e.find(".cpf-type-variations").first().each(function(e,a){var i=t(a).find(".tm-epo-variation-element");i.is("select")||i.each(function(e,a){var a=t(a),i=a.closest("li"),o=i.find(".tm-epo-variation-element");a.removeAttr("disabled").removeClass("tm-disabled"),i.removeClass("tm-attribute-disabled").stop().css("opacity",""),o.removeAttr("disabled"),o.removeAttr("data-tm-disabled")})})}}function j(e){var a=e.data("product_variations"),i=parseInt(e.data("product_id"));if(i||(i=e.data("tc_product_id")),!a&&window.product_variations&&window.product_variations.product_id&&(a=window.product_variations.product_id),!a&&window.product_variations&&(a=window.product_variations),!a&&window["product_variations_"+i]&&(a=window["product_variations_"+i]),a)x(e,a);else if(I)x(e,I.variations);else{var o={action:"woocommerce_tm_get_variations_array",post_id:i};t.post(tm_epo_js.ajax_url,o,function(t){I=t,x(e,I.variations)},"json")}}function q(e,a){if(void 0==a)return!1;var e=t(e),i=e.find(".tm-epo-variation-element"),o=i.closest(".tm-epo-variation-section");return i.length?(o.find(".tm-stock").remove(),o.append('<div class="tm-stock">'+a+"</div>"),!0):(e.find(".tm-stock").remove(),e.find(".variations").after('<div class="tm-stock">'+a+"</div>"),!0)}function F(t,e){if("no"!=tm_epo_js.tm_epo_global_move_out_of_stock){var a=t.find(".woocommerce-variation-availability").last();a.length||(a=t.find(".stock").last()),a.length?(e.find(".tm-stock").remove(),q(e,a.prop("outerHTML"))&&a.remove()):e.find(".tm-stock").remove()}}function N(e,n,c,s){function p(e){e||(e=Et),e.find(".tm-range-picker").each(function(a,i){var i=t(i),o=i.attr("data-step").split("."),r=e.find("#"+i.attr("data-field-id").tmjid()),n=parseFloat(i.attr("data-min")),c=parseFloat(i.attr("data-max")),d=parseFloat(i.attr("data-start")),s=parseFloat(i.attr("data-step")),p=i.attr("data-show-picker-value"),l=i.closest("li").find(".tm-show-picker-value"),m=parseFloat(i.attr("data-noofpips")),f=null;o=1==o.length?0:o[1].length,isNaN(n)&&(n=0),isNaN(c)&&(c=0),c<=n&&c++,isNaN(d)&&(d=0),isNaN(s)&&(s=0),isNaN(m)&&(m=10),"yes"==i.attr("data-pips")&&(f={mode:"count",values:m,density:2,filter:function(t,e){return s<=0?0:t%1?2:1},stepped:!0,format:wNumb({decimals:o})}),noUiSlider.create(i.get(0),{direction:tm_epo_js.text_direction,start:d,step:s,connect:"lower",behaviour:"tap",format:wNumb({mark:".",decimals:o,thousand:""}),range:{min:[n],max:[c]},pips:f});var _=i.find(".noUi-handle-lower");i.get(0).noUiSlider.on("slide",function(){_.trigger("tmmovetooltip"),r.trigger("change.cpf")}),i.get(0).noUiSlider.on("update",function(t,e){e=0,"left"!=p&&"right"!=p&&_.attr("title",accounting.formatNumber(t[e],{decimal:z,thousand:D,precision:o})),r.val(t[e]).change(),""!=p&&l.html(accounting.formatNumber(t[e],{decimal:z,thousand:D,precision:o}))}),"left"!=p&&"right"!=p&&(_.attr("title",i.attr("data-start")),t.tm_tooltip(_)),""!=p&&l.html(d)})}function l(e){function a(e,a){a=t(a);var i=t.tm_datepicker._getInst(a[0]),o=a.data("tc-enabled_only_dates"),r=a.data("tc-disabled_weekdays"),n=a.data("tc-disabled_dates"),c=a.data("tc-format"),d=e.getDay();if(!t.tm_datepicker._isInRange(i,e))return!1;if(""!=o){var s=t.tm_datepicker.formatDate(c,e);return o.indexOf(s)!=-1}if(r.indexOf(d.toString())!=-1)return!1;if(""!=n){var s=t.tm_datepicker.formatDate(c,e);return n.indexOf(s)==-1}return!0}if(t.tm_datepicker){e||(e=Et);var i=t("input").map(function(){return this.id}).get().join(" ");e.find(".tm-epo-timepicker").each(function(e,a){var o=t(a),r=""!==o.attr("data-min-time").trim()?o.attr("data-min-time").trim():null,n=""!==o.attr("data-max-time").trim()?o.attr("data-max-time").trim():null,c=o.attr("data-time-format").trim(),d=o.attr("data-time-theme").trim(),s=o.attr("data-time-theme-size").trim(),p=o.attr("data-time-theme-position").trim(),l=o.attr("data-tranlation-hour").trim(),m=o.attr("data-tranlation-minute").trim(),f=o.attr("data-tranlation-second").trim();l||(l=tm_epo_js.hourText),m||(m=tm_epo_js.minuteText),f||(f=tm_epo_js.secondText),o.tm_timepicker({isRTL:tm_epo_js.isRTL,hourText:l,minuteText:m,secondText:f,timeFormat:c,minTime:r,maxTime:n,closeText:tm_epo_js.closeText,beforeShow:function(e,a){t(a.dpDiv).removeClass(i).removeClass("tm-datepicker-normal tm-datepicker-top tm-datepicker-bottom").addClass(this.id+" tm-bsbb-all tm-ui-skin-"+d+" tm-timepicker tm-datepicker tm-datepicker-"+p+" tm-datepicker-"+s).appendTo("body"),G.off("click",".tm-ui-dp-overlay").on("click",".tm-ui-dp-overlay",function(){o.tm_timepicker("hide")}),t("body").addClass("tm-static"),o.prop("readonly",!0),B.trigger({type:"tm-timepicker-beforeShow",input:e,inst:a})},onClose:function(e,a){t("body").removeClass("tm-static"),o.prop("readonly",!1),o.trigger("change")}}),t("#ui-tm-datepicker-div").hide()}),e.find(".tm-epo-datepicker").each(function(a,o){var r=t(o),n=parseInt(r.attr("data-start-year").trim()),c=parseInt(r.attr("data-end-year").trim()),d=r.attr("data-min-date").trim(),s=r.attr("data-max-date").trim(),p=r.attr("data-disabled-dates").trim(),l=r.attr("data-enabled-only-dates").trim(),m=r.attr("data-disabled-weekdays").trim().split(","),f=r.attr("data-date-format").trim(),_=r.attr("data-date-showon").trim(),u=r.attr("data-date-theme").trim(),h=r.attr("data-date-theme-size").trim(),v=r.attr("data-date-theme-position").trim();if(""!=p){var g=p.split(","),b=p.indexOf(",");b!=-1&&g.length>0&&(p=g)}if(""!=l){var g=l.split(","),b=l.indexOf(",");b!=-1&&g.length>0&&(l=g)}d=""==d?""==n?null:new Date(n,0,1):d.tm_isNumeric()||isNaN(new Date(d).getTime())?d:new Date(d),s=""==s?""==c?null:new Date(c,11,31):s.tm_isNumeric()||isNaN(new Date(s).getTime())?s:new Date(s),r.data("tc-enabled_only_dates",l),r.data("tc-disabled_weekdays",m),r.data("tc-disabled_dates",p),r.data("tc-format",f),r.tm_datepicker({monthNames:tm_epo_js.monthNames,monthNamesShort:tm_epo_js.monthNamesShort,dayNames:tm_epo_js.dayNames,dayNamesShort:tm_epo_js.dayNamesShort,dayNamesMin:tm_epo_js.dayNamesMin,isRTL:tm_epo_js.isRTL,showOtherMonths:!0,selectOtherMonths:!0,showOn:_,buttonText:"",showButtonPanel:!0,firstDay:tm_epo_js.first_day,closeText:tm_epo_js.closeText,currentText:tm_epo_js.currentText,dateFormat:f,minDate:d,maxDate:s,onSelect:function(a,i){var o=t(this),r="#"+o.attr("id").tmjid(),n=o.attr("data-date-format"),c=o.tm_datepicker("getDate"),d="",s="",f="",_=e.find(r+"_day"),u=e.find(r+"_month"),h=e.find(r+"_year");if(c){d=c.getDate(),s=c.getMonth()+1,f=c.getFullYear();var v=t.tm_datepicker.formatDate(n,c);if(m.indexOf(c.getDay().toString())!=-1||p.indexOf(v)!=-1||""!=l&&l.indexOf(v)==-1){var g=o.data("tm-last-date");g=o.data("tm-last-date")?o.data("tm-last-date"):"",o.val(g),o.tm_datepicker("setDate",g),g?(c=o.tm_datepicker("getDate"),d=c.getDate(),s=c.getMonth()+1,f=c.getFullYear()):(d="",s="",f="")}}_.val(d),u.val(s),h.val(f),o.data("tm-last-date",o.val())},beforeShow:function(e,a){t(a.dpDiv).removeClass(i).removeClass("tm-datepicker-normal tm-datepicker-top tm-datepicker-bottom").addClass(this.id+" tm-bsbb-all tm-ui-skin-"+u+" tm-datepicker tm-datepicker-"+v+" tm-datepicker-"+h).appendTo("body"),G.off("click",".tm-ui-dp-overlay").on("click",".tm-ui-dp-overlay",function(){r.tm_datepicker("hide")}),t("body").addClass("tm-static"),r.prop("readonly",!0),B.trigger({type:"tm-datepicker-beforeShow",input:e,inst:a})},onClose:function(e,a){t("body").removeClass("tm-static"),r.prop("readonly",!1),r.trigger("change")},beforeShowDay:function(e){var a=e.getDay();if(""!=l){var i=t.tm_datepicker.formatDate(f,e);return[l.indexOf(i)!=-1,""]}if(m.indexOf(a.toString())!=-1)return[!1,""];if(""!=p){var i=t.tm_datepicker.formatDate(f,e);return[p.indexOf(i)==-1,""]}return[!0,""]}}),t("#ui-tm-datepicker-div").hide()}),e.find(".tmcp-date-select").on("change.cpf",function(a){var i="#"+t(this).attr("data-tm-date").tmjid(),o=e.find(i),r=o.attr("data-date-format"),n=e.find(i+"_day").val(),c=e.find(i+"_month").val(),d=e.find(i+"_year").val(),s=t.tm_datepicker.formatDate(r,new Date(d,c-1,n));n>0&&c>0&&d>0?(o.tm_datepicker("setDate",s),o.trigger("change")):(o.val(""),o.trigger("change.cpf"))}).on("focus.cpf",function(i){var o="#"+t(this).attr("data-tm-date").tmjid(),r=e.find(o),n=e.find(o+"_day"),c=e.find(o+"_month"),d=e.find(o+"_year"),s=n.val(),p=c.val(),l=d.val();if(""!==l&&""!==p&&""!==s||""!==l&&""!==p&&""===s||""!==s&&""!==l&&""===p||""!==s&&""!==p&&""===l){var m=t(this);m.find("option").each(function(){var e=t(this),i=e.val(),o=l+"-"+p+"-"+s;if(m.is(".tmcp-date-day")){if(""===l||""===p)return;o=l+"-"+p+"-"+i}else if(m.is(".tmcp-date-month")){if(""===l||""===s)return;o=l+"-"+i+"-"+s}else if(m.is(".tmcp-date-year")){if(""===s||""===p)return;o=i+"-"+p+"-"+s}if(""!=i)try{var n=t.tm_datepicker.parseDate("yy-mm-dd",o);n&&(a(n,r)?e.prop("disabled",!1):e.prop("disabled",!0))}catch(t){e.prop("disabled",!0)}})}else n.find("option").prop("disabled",!1),c.find("option").prop("disabled",!1),d.find("option").prop("disabled",!1)}),t(window).on("resizestart",function(){var e=t(document.activeElement);if(e.is(".hasDatepicker")){if(e.data("resizestarted",!0),t(window).width()<768)return void e.data("resizewidth",!0);e.tm_datepicker("hide")}}),t(window).on("resizestop",function(){var e=t(document.activeElement);e.is(".hasDatepicker")&&e.data("resizestarted")&&(e.data("resizewidth")&&e.tm_datepicker("hide"),e.tm_datepicker("show")),e.data("resizestarted",!1),e.data("resizewidth",!1)})}}function m(){G.on("click.cpfurl change.cpfurl tmredirect",".use_url_containter .tmcp-radio, .use_url_containter .tmcp-radio+label",function(e){var a=t(this).attr("data-url");a&&window.location!=a&&(e.preventDefault(),window.location=a)}),G.on("change.cpfurl tmredirect",".use_url_containter .tmcp-select",function(e){var a=t(this).children("option:selected"),i=a.attr("data-url");i&&window.location!=i&&(e.preventDefault(),window.location=i)})}function u(a){if("yes"==tm_epo_js.tm_epo_global_enable_validation){var i={};Et.find(".tmcp-ul-wrap").each(function(e,a){a=t(a);var o=a.data("tm-validation");if(o&&"object"===t.tmType(o)){var r=a.find(".tm-epo-field"),n=r.first().attr("name");a.is(".tm-extra-product-options-radio.tm-element-ul-radio")&&(n=r.last().attr("name")),a.is(".tm-extra-product-options-checkbox.tm-element-ul-checkbox")?r.each(function(e,n){"required"in o&&(o.required=function(e){var i=a.find("input.tm-epo-field.tmcp-checkbox:checked").length;return 0==i?r.last().attr("name")==t(e).attr("name"):i<=0}),i[t(n).attr("name")]=o}):i[n]=o}}),a.removeData("tc_validator");a.tc_validate({focusInvalid:!1,ignore:"input.tm-qty:hidden[type='number'],input.input-text.qty,.ignore,.variations select,.tm-extra-product-options-variations input,.tm-extra-product-options-variations select",rules:i,errorClass:"tm-error",validClass:"tm-valid",errorElement:"label",errorPlacement:function(t,e){return e.is(".tm-epo-field.tmcp-radio")?t.appendTo(e.closest(".tmcp-ul-wrap").find(".tmcp-field-wrap").last()):t.appendTo(e.closest(".tmcp-field-wrap")),!1},invalidHandler:function(a,i){setTimeout(function(){e.find(E).first().removeClass("loading").removeAttr("disabled").removeClass("fpd-disabled"),t.tcepo.temp_floatbox&&"object"==typeof t.tcepo.temp_floatbox&&t.tcepo.temp_floatbox.cancelfunc()},100),i.errorList&&i.errorList[0]&&i.errorList[0].element&&at(t(i.errorList[0].element))},submitHandler:function(t){return e.find(E).first().attr("disabled","disabled"),w()}});return!0}return!1}function h(){var t=q();!u(t)&&Dt.length&&t.on("submit",w)}function w(t){for(var a=!0,i=0;i<Dt.length;i++){var o=Dt[i],r=typeof o;if("object"==r){var n="function"==typeof o.trigger||!1;if(n&&!o.trigger()){a=!1;break}}}for(var i=0;i<Dt.length;i++){var o=Dt[i],r=typeof o;"object"==r&&(a?o.on_true():o.on_false())}return a||setTimeout(function(){e.find(E).first().removeAttr("disabled")},100),a}function k(){if(!n&&tm_epo_js.floating_totals_box&&"disable"!=tm_epo_js.floating_totals_box&&Ct&&Ut.length){var e,a=t('<div class="tm-floating-box '+tm_epo_js.floating_totals_box+'"></div>'),i=!1,o=t(".tm-floating-box-nks"),r=t(".tm-floating-box-alt"),c=!1;o.length>0?(i=!0,a.removeClass("top left right bottom").appendTo(o).show()):r.length>0?a.removeClass("top left right bottom").appendTo(r).hide():a.appendTo("body").hide(),(o.length>0||r.length>0)&&(c=!0);var d=function(){return"always"==tm_epo_js.floating_totals_box_visibility?void a.show():void(t(window).scrollTop()>100||c?a.is(":hidden")&&!a.is(":empty")||c?i?a.show():a.fadeIn():!a.is(":hidden")&&a.is(":empty")&&(i?a.hide():a.fadeOut()):a.is(":hidden")||(i?a.hide():a.fadeOut()))},s=function(){var o=Ut.data("tm-html"),r=Ut.data("tm-floating-box-data"),n=[];if(r&&r.length&&t.each(r,function(e,a){""==a.title&&(a.title="&nbsp;"),""==a.value&&(a.value="&nbsp;"),a.title?(a.title=t("<div>"+a.title+"</div>"),a.title.find("span").remove(),a.title=a.title.html()):a.title="&nbsp;",i&&(""!=a.label_show&&(a.title=""),""!=a.value_show&&(a.value="")),n.push({label_show:a.label_show,value_show:a.value_show,title:a.title,value:a.value,quantity:a.quantity,price:b(a.price,Ut,!0,!1)})}),o&&""!=o||i?d():(o="",a.hide()),n&&!n.length&&n.push({label_show:"hidden",value_show:"hidden",title:"",value:"",quantity:0,price:0}),e=t.fn.tm_template(c?Q.tc_floating_box_nks:Q.tc_floating_box,{html_before:tm_epo_js.floating_totals_box_html_before,html_after:tm_epo_js.floating_totals_box_html_after,option_label:tm_epo_js.i18n_option_label,option_value:tm_epo_js.i18n_option_value,option_qty:tm_epo_js.i18n_option_qty,option_price:tm_epo_js.i18n_option_price,values:n,totals:o}),a.html(e),d(),"yes"==tm_epo_js.floating_totals_box_add_button){var s=Ct.find(E).first();s.tm_clone().addClass(".tc-add-to-cart-button").on("click",function(){s.click()}).appendTo(a)}};s(),Ct.on("tm-epo-after-update",function(){s()}),i||(d(),"always"==tm_epo_js.floating_totals_box_visibility&&t(window).on("scroll",function(){d()}))}}function x(t,e,a){return q(t,e,a)}function q(t,e,a){return e||(e="form"),N(t,a).closest(e)}function N(t,a){var i="";a&&(i=i+'[value="'+a+'"]'),t||(t=e);var o=t.find(P+i);return 0==o.length&&(o=t.find(R+i)),o.last()}function C(){G.tcready(function(){T()}),B.trigger("tm-epo-compatibility",{epo:{form:q(),main_cart:Ct,main_epo_inside_form:Tt,product_id_selector:Pt,epo_id_selector:Rt,product_id:c,this_epo_container:Et,this_totals_container:Ht,this_epo_totals_container:Ut}})}function T(){var e=q(),a=e.find(".wc-bookings-booking-form"),i=a.find(".tm-epo-counter");if(i.length>0){e.on("submit",function(){e.find(E).first().addClass("disabled")}),"woocommerce_before_add_to_cart_button"==tm_epo_js.tm_epo_totals_box_placement&&t(".wc-bookings-booking-form-button").before(Ht),Ut.data("tc_is_bookings",1),Ut.data("bookings_form",a),Ut.data("bookings_form_init",0),Ut.data("price",0),Ht.find(".cpf-product-price").val(0);for(var o=findEventHandlers("change",i),r=!1,n=!1,d=o.length-1;d>=0&&n!==!0;d--)if(o[d].events)for(var p=o[d].events.length-1;p>=0;p--)if(o[d].events[p].selector&&"input, select"==o[d].events[p].selector){r=o[d].events[p].handler,n=!0;break}if(G.ajaxSuccess(function(t,e,a){if(a.data&&e&&e.responseText){var i=a.data.tmparseParams();i.action&&"wc_bookings_get_blocks"==i.action&&(Ut.data("price",0),Ht.find(".cpf-product-price").val(0),Ct.trigger({type:"tm-epo-update",product_false:!0}))}}),r!==!1&&n){var l=i.closest(".wc-bookings-booking-form");l.off("change","input, select",r).on("change.tcbookings","input, select",function(a){var i=t(this),o=t(this).closest("form"),r=o.find("input.required_for_calculation"),n=!0;if(t.each(r,function(e,a){var i=t(a).val();i||(n=!1)}),n){if(u(e)&&!e.tc_validate().form())return void a.stopImmediatePropagation();a.stopImmediatePropagation();var d={action:"tc_epo_bookings_calculate_costs",form:o.serialize(),post_id:c};t.post(tm_epo_js.ajax_url,d,function(t){t&&"SUCCESS"==t.result&&"product_price"in t?(Ut.data("price",t.product_price),Ht.find(".cpf-product-price").val(t.product_price),Ut.data("bookings_form_init",1),Ct.trigger({type:"tm-epo-update"}),i.trigger("tc_bookings_change")):t&&"ERROR"==t.result&&(Ut.data("bookings_form_init",0),o.find(".wc-bookings-booking-cost").show().html(t.html))},"json")}}),l.on("change tc_bookings_change","input, select",r)}}Tt||i.length>0&&(Et.find(".tm-epo-field").not(".tm-epo-counter").off("change.tcbookings").on("change.tcbookings",function(t){i.trigger("change")}),t.ajaxPrefilter(function(e,a,i){if("post"===e.type.toLowerCase()&&a.data&&a.data.action&&"wc_bookings_calculate_costs"==a.data.action&&a.data.form){var o=t(L+".tm-cart-main.tm-product-id-"+c+'[data-epo-id="'+s+'"]');if(1==o.length){var r=a.data.form.tmparseParams(!0);r=t.extend(r,o.tm_aserializeObject()),a.data.form=t.param(r,!1),e.data=t.param(t.extend(a.data,{}),!1)}}}))}function I(){Ct||(Ct=x(e,"form",c));var a=q(),i=a.find(L+".tm-cart-main").length,o=a.find(".tm-totals-form-main").length;i>0&&(Tt=!0),o>0&&(zt=!0),zt||(Dt[Dt.length]={trigger:function(){return!0},on_true:function(){var e=t(".tc-totals-form.tm-totals-form-main.tm-product-id-"+c+'[data-epo-id="'+s+'"]').tm_clone(),i=t('<div class="tm-hidden tm-formepo-normal"></div>');return a.find(".tm-formepo-normal").remove(),i.append(e),a.append(i),!0},on_false:function(){setTimeout(function(){t(".tm-formepo").remove()},100)}}),Tt||(Dt[Dt.length]={trigger:function(){return!0},on_true:function(){var e=t(L+".tm-cart-main.tm-product-id-"+c+'[data-epo-id="'+s+'"]').tm_clone(),i=t(".tc-totals-form.tm-totals-form-main.tm-product-id-"+c+'[data-epo-id="'+s+'"]').tm_clone(),o=t('<div class="tm-hidden tm-formepo"></div>');return a.find(".tm-formepo").remove(),o.append(e),o.append(i),a.append(o),!0},on_false:function(){setTimeout(function(){t(".tm-formepo").remove()},100)}})}function Y(){if(Ot&&"yes"==tm_epo_js.tm_epo_hide_add_cart_button){var t=e.find(E).first();Mt?t.removeClass("tc-hide-add-to-cart-button"):t.addClass("tc-hide-add-to-cart-button")}}function V(e,a){var i,o=parseInt(e.attr("data-limit")),r=!1;return!(o>0&&(r=0,e.closest(".tm-extra-product-options-checkbox").find("input.tm-epo-field[type='checkbox']:checked").each(function(){var e=t(this),a=e.closest("li.tmcp-field-wrap").find("input.tm-qty");a.length>0?(i=parseInt(a.val()),i<=0&&(i=1),r+=i):r+=1}),r>o))||(a&&e.prop("checked","").trigger("change"),!1)}function $(e,a){var i,o=parseInt(e.attr("data-limit")),r=!1;return o=parseInt(e.attr("data-exactlimit")),!(o>0&&(r=0,e.closest(".tm-extra-product-options-checkbox").find("input.tm-epo-field[type='checkbox']:checked").each(function(){var e=t(this),a=e.closest("li.tmcp-field-wrap").find("input.tm-qty");a.length>0?(i=parseInt(a.val()),i<=0&&(i=1),r+=i):r+=1}),r>o))||(a&&e.prop("checked","").trigger("change"),!1)}function J(a){var o=!0,r=!1;return a.each(function(){var a=t(this).find("[type='checkbox'][data-exactlimit]");if(a.length&&i(a)){var n=parseInt(a.attr("data-exactlimit")),c=0;t(this).find("input.tm-epo-field[type='checkbox']:checked").each(function(){var e,a=t(this),i=a.closest("li.tmcp-field-wrap").find("input.tm-qty");i.length>0?(e=parseInt(i.val()),e<=0&&(e=1),c+=e):c+=1});var d=t(this).closest(".cpf_hide_element"),s=d.find("div.tm-error-min");if(n!==c){o=!1,r=t(this);var p=tm_epo_js.tm_epo_global_validator_messages.epoexact.replace("{0}",n);s.length&&s.remove(),t(this).after('<div class="tm-error-min tm-error">'+p+"</div>"),e.find(E).first().removeClass("loading").removeAttr("disabled").removeClass("fpd-disabled")}else s.remove()}}),r&&(It=r),o}function K(e){Dt[Dt.length]={trigger:function(){var t=J(e);return t},on_true:function(){return!0},on_false:function(){return at(t(e).find(".tm-epo-field").first()),!0}}}function tt(e){var a=!0,o=!1;return e.each(function(){var e=t(this).find("[type='checkbox'][data-minimumlimit]");if(e.length&&i(e)){var r=parseInt(e.attr("data-minimumlimit")),n=0;t(this).find("input.tm-epo-field[type='checkbox']:checked").each(function(){var e,a=t(this),i=a.closest("li.tmcp-field-wrap").find("input.tm-qty");i.length>0?(e=parseInt(i.val()),e<=0&&(e=1),n+=e):n+=1});var c=t(this).closest(".cpf_hide_element"),d=c.find("div.tm-error-min");if(r>n){a=!1,o=t(this);var s=tm_epo_js.tm_epo_global_validator_messages.epomin.replace("{0}",r);d.length&&d.remove(),t(this).after('<div class="tm-error-min tm-error">'+s+"</div>")}else d.remove()}}),o&&(It=o),a}function et(t){
Dt[Dt.length]={trigger:function(){var e=tt(t);return e},on_true:function(){return!0},on_false:function(){return at(),!0}}}function at(e){var a=It||e;if(a){var i=a.closest(".cpf-section"),o=i.find(".tm-section-link"),r=a.closest(".cpf_hide_element");if(i.find(".tm-toggle").length&&i.find(".tm-toggle").trigger("openwrap.tmtoggle"),window.tc_validation_offset||(window.tc_validation_offset=-100),i.is(".section_popup"))t(window).tc_scrollTo(o,300,window.tc_validation_offset),o.trigger("click.tmsectionpoplink");else if(i.is(".tm-owl-slider-section")){var n=a.closest(".owl-item").index();i.find(".owl-carousel").trigger("to.owl.carousel",[n,100]),setTimeout(function(){i.find(".owl-carousel").trigger("refresh.owl.carousel"),r.length>0&&t(window).tc_scrollTo(r,300,window.tc_validation_offset)},200)}else r.length>0&&t(window).tc_scrollTo(r,300,window.tc_validation_offset);e||(It=!1)}}function it(){Ut.each(function(){var a=t(this).attr("data-cart-id"),i=e.find(".tm-extra-product-options.tm-cart-"+a),o=t(this).data("subscription-period"),r=t(this).data("variations-subscription-period"),n=i.find(".tmcp-field").closest(".tmcp-field-wrap"),c=t(this).data("is-subscription");if(c){n.find(".tmperiod").remove();var d=n.find(".amount").is(".hidden");d=d?" hidden":"";var s='input[name^="variation_id"]',p=t(this).data("tm_for_cart");if(p){p.find("input.variation_id").length>0&&(s="input.variation_id");var l=p.find(s).val();l||(l=0),r[l]&&(o=r[l])}void 0===window.subscription_period_separator&&(window.subscription_period_separator=" / "),n.find(".amount").after('<span class="tmperiod'+d+'">'+window.subscription_period_separator+o+"</span>"),t(this).find(".tmperiod").remove(),t(this).find(".amount.options").after('<span class="tmperiod">'+window.subscription_period_separator+o+"</span>"),t(this).find(".amount.final").after('<span class="tmperiod">'+window.subscription_period_separator+o+"</span>")}})}function ot(e){var a=e.attr("data-container-id");if(!a)var i=t(e).closest(".composite_form"),a=i.find(".composite_data").data("container_id");return a}function rt(t){var a=e.find(".bto_form_"+t+",#composite_form_"+t+",#composite_data_"+t).data("price_data");return a}function nt(t){return" .review .price_"+t+", .summary_element_"+t+" .summary_element_price"}function ct(t){return t.attr("data-item-id")||t.attr("data-item_id")}function dt(e,a,i){if("object"==typeof a&&(a=a[0],isNaN(parseFloat(a))&&(a=0)),1!=i)return a;var o=e.data("product-price-rules"),r=e.data("tm_for_cart");if(!o||!r)return a;var n='input[name^="variation_id"]';r.find("input.variation_id").length>0&&(n="input.variation_id");var c=r.find("input.qty").last(),d=parseFloat(c.val()),s=r.find(n).val();return s||(s=0),isNaN(d)&&(e.attr("data-is-sold-individually")||0==c.length)&&(d=1),(o[s]&&0!=s||o[0])&&(o[s]||(s=0),t(o[s]).each(function(t,e){var i=parseFloat(e.min),o=parseFloat(e.max),r=e.type,n=parseFloat(e.value);if(void 0==a&&(a=0),i<=d&&d<=o)switch(r){case"percentage":return a*=1-n/100,!1;case"price":return a-=n,!1;case"fixed":return a=n,!1}})),a}function st(e,a){if(1!=a)return!1;var i=[!1,!1],o=e.data("product-price-rules"),r=e.data("tm_for_cart");if(!o||!r)return!1;var n='input[name^="variation_id"]';r.find("input.variation_id").length>0&&(n="input.variation_id");var c=r.find("input.qty").last(),d=parseFloat(c.val()),s=r.find(n).val();return s||(s=0),isNaN(d)&&(e.attr("data-is-sold-individually")||0==c.length)&&(d=1),(o[s]&&0!=s||o[0])&&(o[s]||(s=0),t(o[s]).each(function(t,e){var a=parseFloat(e.min),o=parseFloat(e.max),r=e.type,n=parseFloat(e.value);if(a<=d&&d<=o)switch(r){case"percentage":return i=[n,r],!1;case"price":return i=[n,r],!1;case"fixed":return i=[n,r],!1}})),i}function pt(e){var i=e.data("product-price-rules"),o=parseFloat(e.data("price")),r=e.data("tm_for_cart");if(!i||!r)return o;var n=e.data("qty_element"),c=parseFloat(n.val()),d=e.data("variation_id_selector").val();return d||(d=0),i[d]||(d=0),isNaN(c)&&(e.attr("data-is-sold-individually")||0==n.length)&&(c=1),(i[d]&&0!=d||i[0])&&(i[d]||(d=0),t(i[d]).each(function(t,e){var i=parseFloat(e.min),r=parseFloat(e.max),n=e.type,d=parseFloat(e.value);if(i<=c&&c<=r){var s=parseInt(tm_epo_js.currency_format_num_decimals);switch(n){case"percentage":return o-=Math.ceil(o*(d/100)*Math.pow(10,s)-.5)*Math.pow(10,-s),o=a(o,s),o<0&&(o=0),!1;case"price":return o-=d,o=Math.ceil(o*Math.pow(10,s)-.5)*Math.pow(10,-s),o=a(o,s),o<0&&(o=0),!1;case"fixed":return o=d,o=Math.ceil(o*Math.pow(10,s)-.5)*Math.pow(10,-s),o=a(o,s),o<0&&(o=0),!1}}})),o}function lt(a,i){var o,r,n,c,d,s,p,l=t(a),m=l,f=!0,_=l.is(".tmcp-range");if(i)o=i.bto,r=i.cart,n=i.current_variation,c=i.is_bto,d=i.bundleid,s=i.totals,p=i.apply_dpd;else{o=l.closest(St),r=l.closest(".cart");var u='input[name^="variation_id"]';r.find("input.variation_id").length>0&&(u="input.variation_id"),n=r.find(u).val(),c=o.length>0,d=r.attr("data-product_id"),d||(d=r.closest(".component_content").attr("data-product_id"),d||(d=0)),n||(n=0),s=c?e.find(".tm-epo-totals.tm-cart-"+d):Ut,p=s.data("fields-price-rules")}l.is("select")&&(m=l.find("option:selected"));var h,g,w,k,x,j,q,F,N,C=m.data("rules"),T=m.data("rulestype"),z=m.data("original-rules");if(void 0==z&&(z=C),c){var D=r.find(".cpf-bto-price");D.length>0&&(D.data("per_product_pricing")?N=D.val():(N=0,f=!1),D.val(N))}else s.length&&(N=pt(s));if(f!==!1)if(k="","object"==typeof C){switch(n in C?(x=C[n],j=z[n]):(h=l.closest(".tmcp-ul-wrap").data("rules"),w=l.closest(".tmcp-ul-wrap").data("original-rules"),x="object"==typeof h&&n in h?h[n]:C[0],j="object"==typeof w&&n in w?w[n]:z[0]),"object"==typeof T?n in T?k=T[n]:(g=l.closest(".tmcp-ul-wrap").data("rulestype"),k="object"==typeof g&&n in g?g[n]:T[0]):(T=l.closest(".tmcp-ul-wrap").data("rulestype"),"object"==typeof T&&(k=n in T?T[n]:T[0])),"object"==typeof k&&(k=k[0]),l.is("select")?l.find("option").each(function(){var e=t(this);e.removeData("tm-price-for-late"),e.removeData("islate"),e.removeClass("tm-epo-late-field")}):(m.removeData("tm-price-for-late"),m.removeData("islate"),m.removeClass("tm-epo-late-field")),"fee"==k&&(p=0),k){case"":case"fee":x=dt(s,x,p),j=dt(s,j,p);break;case"percent":x=x/100*N,j=j/100*N;break;case"percentcurrenttotal":Wt.push({setter:m,price:x,bundleid:d}),m.data("tm-price-for-late",x).data("islate",1).addClass("tm-epo-late-field"),x=0,j=0;break;case"char":x=dt(s,x,p)*m.val().length,j=dt(s,j,p)*m.val().length;break;case"charpercent":x=x/100*N*m.val().length,j=j/100*N*m.val().length;break;case"charnospaces":x=dt(s,x,p)*m.val().replace(/\s/g,"").length,j=dt(s,j,p)*m.val().replace(/\s/g,"").length;break;case"charnofirst":var I=m.val().length-1;I<0&&(I=0),x=dt(s,x,p)*I,j=dt(s,j,p)*I;break;case"charnon":var O=parseInt(m.attr("data-freechars"));isNaN(O)&&(O=0);var I=m.val().length-O;I<0&&(I=0),x=dt(s,x,p)*I,j=dt(s,j,p)*I;break;case"charpercentnon":var O=parseInt(m.attr("data-freechars"));isNaN(O)&&(O=0);var I=m.val().length-O;I<0&&(I=0),x=x/100*N*I,j=j/100*N*I;break;case"charnonnospaces":var O=parseInt(m.attr("data-freechars"));isNaN(O)&&(O=0);var I=m.val().replace(/\s/g,"").length-O;I<0&&(I=0),x=dt(s,x,p)*I,j=dt(s,j,p)*I;break;case"charpercentnonnospaces":var O=parseInt(m.attr("data-freechars"));isNaN(O)&&(O=0);var I=m.val().replace(/\s/g,"").length-O;I<0&&(I=0),x=x/100*N*I,j=j/100*N*I;break;case"charpercentnofirst":var I=m.val().length-1;I<0&&(I=0),x=x/100*N*I,j=j/100*N*I;break;case"step":case"stepfee":_?(x=dt(s,x,p)*m.val(),j=dt(s,j,p)*m.val()):(x=dt(s,x,p)*m.val().tmtoFloat(),j=dt(s,j,p)*m.val().tmtoFloat());break;case"currentstep":case"currentstepfee":_?(x=dt(s,m.val(),p),j=dt(s,m.val(),p)):(x=dt(s,m.val().tmtoFloat(),p),j=dt(s,m.val().tmtoFloat(),p));break;case"intervalstep":if(_){var S=parseFloat(t('.tm-range-picker[data-field-id="'+m.attr("id")+'"]').attr("data-min"));x=dt(s,x,p)*(m.val()-S),j=dt(s,j,p)*(m.val()-S)}break;case"row":x=dt(s,x,p)*((m.val().match(new RegExp("\n","g"))||[]).length+1),j=dt(s,j,p)*((m.val().match(new RegExp("\n","g"))||[]).length+1)}l.data("tm-quantity")&&(x*=parseFloat(l.data("tm-quantity")),j*=parseFloat(l.data("tm-quantity"))),q=b(x,s,!1,!1,m),F=b(j,s,!1,!1,m),m.data("price",v(x,s,m)),m.data("original_price",v(j,s,m)),y(m.closest(".tmcp-field-wrap").find(".tc-price"),x,q,j,F)}else{var M=l.closest(".tmcp-ul-wrap");if(C=M.data("rules"),z=M.data("original-rules"),"object"==typeof C){switch(x=n in C?C[n]:C[0],j="object"==typeof z?n in z?z[n]:z[0]:x,"object"==typeof T?n in T?k=T[n]:(g=M.data("rulestype"),k="object"==typeof g&&n in g?g[n]:T[0]):(T=M.data("rulestype"),"object"==typeof T&&(k=n in T?T[n]:T[0])),"object"==typeof k&&(k=k[0]),l.is("select")?l.find("option").each(function(){var e=t(this);e.removeData("tm-price-for-late"),e.removeData("islate"),e.removeClass("tm-epo-late-field")}):(m.removeData("tm-price-for-late"),m.removeData("islate"),m.removeClass("tm-epo-late-field")),k){case"":case"fee":x=dt(s,x,p),j=dt(s,j,p);break;case"percent":x=x/100*N,j=j/100*N;break;case"percentcurrenttotal":Wt.push({setter:m,price:x,bundleid:d}),m.data("tm-price-for-late",x).data("islate",1).addClass("tm-epo-late-field"),x=0,j=0;break;case"char":x=dt(s,x,p)*m.val().length,j=dt(s,j,p)*m.val().length;break;case"charpercent":x=x/100*N*m.val().length,j=j/100*N*m.val().length;break;case"step":case"stepfee":_?(x=dt(s,x,p)*m.val(),j=dt(s,j,p)*m.val()):(x=dt(s,x,p)*m.val().tmtoFloat(),j=dt(s,j,p)*m.val().tmtoFloat());break;case"currentstep":case"currentstepfee":_?(x=dt(s,m.val(),p),j=dt(s,m.val(),p)):(x=dt(s,m.val().tmtoFloat(),p),j=dt(s,m.val().tmtoFloat(),p));break;case"intervalstep":if(_){var S=parseFloat(t('.tm-range-picker[data-field-id="'+m.attr("id")+'"]').attr("data-min"));x=dt(s,x,p)*(m.val()-S),j=dt(s,j,p)*(m.val()-S)}}l.data("tm-quantity")&&(x*=parseFloat(l.data("tm-quantity")),j*=parseFloat(l.data("tm-quantity"))),q=b(x,s,!1,!1,m),F=b(j,s,!1,!1,m),m.data("price",v(x,s,m)),m.data("original_price",v(j,s,m)),y(m.closest(".tmcp-field-wrap").find(".tc-price"),x,q,j,F)}}}function mt(a){Wt=[];var i;i=a?a:e.find(".cart"),!i.length>0||i.each(function(a,i){i=t(i);var r='input[name^="variation_id"]';i.find("input.variation_id").length>0&&(r="input.variation_id");var n=!0,c=t(this).closest(St),d=i.find(r).val(),s=!1,p=i.attr("data-product_id");if(p||(p=i.closest(".component_content").attr("data-product_id"),p||(p=0)),c.length>0){s=!0;var l=ot(c),m=rt(l);m&&(n=o(m))}d||(d=0);var f;if(s){f=e.find(".tm-extra-product-options.tm-cart-"+p);var _=e.find(".tm-epo-totals.tm-cart-"+p)}else{f=Et;var _=Ut}var u=_.data("fields-price-rules");if(f.data("tm_rules_init_done")||(_.data("force-quantity")&&i.find("input.qty").val(_.data("force-quantity")),f.find(".tm-quantity .tm-qty").each(function(){var e=t(this),a=e.closest(".tmcp-field-wrap").find(".tm-epo-field");a.data("tm-quantity",e.val())}),f.find(".tmcp-attributes, .tmcp-elements").each(function(e,a){var a=t(a),i=a.data("rules"),o=a.data("original-rules");if("object"!=typeof i&&(i={0:"0"}),"object"!=typeof o&&(o={0:"0"}),"object"==typeof i){var r=dt(_,i[d],u),c=b(r,_),s=dt(_,o[d],u),p=b(s,_);a.find(".tmcp-field").each(function(e,a){var i=t(a);n?(i.data("price",v(r,_,i)),i.data("original_price",v(s,_,i)),y(i.closest(".tmcp-field-wrap").find(".tc-price"),r,c,s,p)):(i.data("price",0),i.data("original_price",0),i.closest(".tmcp-field-wrap").find(".amount").empty())})}}),f.data("tm_rules_init_done",1)),!n)return!0;var h={bto:c,cart:i,current_variation:d,is_bto:s,bundleid:p,totals:_,apply_dpd:u};f.find(".tmcp-field,.tmcp-sub-fee-field,.tmcp-fee-field").each(function(t,e){lt(e,h)})})}function ft(e){return t(e).find(".single_variation .price,.bundle_price .price,.bto_item_wrap .price,.component_wrap .price,.composite_wrap .price").not(".tc-price")}function _t(a,o){function r(e,a){var i,o=t(this),r=l.data("variations"),n=l.data("variations-subscription-sign-up-fee"),c=l.data("variations-subscription-period");r&&a&&a.variation_id&&n[a.variation_id]&&l.data("subscription-sign-up-fee",n[a.variation_id]),r&&a&&a.variation_id&&c[a.variation_id]&&l.data("subscription-period",c[a.variation_id]),r&&a&&a.variation_id&&void 0!==r[a.variation_id]?(i=r[a.variation_id],l.data("price",i)):a&&t(a.price_html).find(".amount:last").length&&(i=t(a.price_html).find(".amount:last").text(),i=i.replace(tm_epo_js.currency_format_thousand_sep,""),i=i.replace(tm_epo_js.currency_format_decimal_sep,"."),i=i.replace(/[^0-9\.]/g,""),i=parseFloat(i),l.data("price",i)),p.find(".cpf-product-price").val(i),o.data("tm_variations_did_init",!0),o.data("tm-styled-variations")||m.trigger({type:"tm-epo-update"})}var n,d,p,l,m,f="main";a?(n=ot(a),f=ct(a),f||(f=a.attr("data-item_id")),d=e.find(".tm-extra-product-options.tm-cart-"+f),p=e.find(".tm-totals-form-"+f),l=e.find(".tm-epo-totals.tm-cart-"+f)):(Ct&&0!=Ct.length||(Ct=Et.is(".tc-shortcode")?e:x(e,"form",c)),a=Ct.parent(),d=Et,p=Ht,l=Ut),m=o||Ct,l.data("tm_for_cart",m);var _='input[name^="variation_id"]';m.find("input.variation_id").length>0&&(_="input.variation_id"),l.data("variation_id_selector",m.find(_)),l.data("qty_element",m.find("input.qty").last());var u=l.data("type"),h=a.find(".variations_form");h.data("tc_product_id",c),d.off("focus.cpf",".tm-quantity .tm-qty").on("focus.cpf",".tm-quantity .tm-qty",function(){var e=t(this),a=e.closest(".tmcp-field-wrap").find(".tm-epo-field"),i=parseFloat(e.val()),o=parseFloat(e.attr("max")),r=parseFloat(e.attr("min")),n=e.attr("step"),c=V(a,!1),d=$(a,!1),s=!0;i&&""!==i&&"NaN"!==i||(i=0),""!==o&&"NaN"!==o||(o=""),""!==r&&"NaN"!==r||(r=0),"any"!==n&&""!==n&&void 0!==n&&"NaN"!==parseFloat(n)||(n=1),(i<r||i>o)&&(s=!1),c&&d&&s?e.data("tm-prev-value",i):e.data("tm-prev-value",r)}).off("change.cpf",".tm-quantity .tm-qty").on("change.cpf",".tm-quantity .tm-qty",function(){var e=t(this),a=e.closest(".tmcp-field-wrap").find(".tm-epo-field"),i=parseFloat(e.val()),o=parseFloat(e.attr("max")),r=parseFloat(e.attr("min")),n=e.attr("step"),c=V(a,!1),d=$(a,!1),s=!0;i&&""!==i&&"NaN"!==i||(i=0),""!==o&&"NaN"!==o||(o=""),""!==r&&"NaN"!==r||(r=0),"any"!==n&&""!==n&&void 0!==n&&"NaN"!==parseFloat(n)||(n=1),(i<r||i>o)&&(s=!1),c&&d&&s?a.data("tm-quantity",e.val()).trigger("change.cpf"):e.data("tm-prev-value")?e.val(e.data("tm-prev-value")):e.val(r)}).off("tmaddquantity",".tm-quantity .tm-qty").on("tmaddquantity",".tm-quantity .tm-qty",function(){var e=t(this),a=e.closest(".tmcp-field-wrap").find(".tm-epo-field");a.data("tm-quantity",e.val())}),d.find(".tm-epo-reset-variation").off("click.cpfv").on("click.cpfv",function(a){var i=t(this),o=i.attr("data-tm-for-variation").tmjid(),r="",n=i.closest(".cpf-type-variations"),c=i.closest(".cpf_hide_element").find(".tm-epo-variation-element");c.removeAttr("checked").prop("checked",!1),h.find("#"+o).val(r).change(),h.find("#"+o).trigger("focusin"),e.find(".cpf-type-variations").not(n).each(function(e,a){h.find("#"+t(a).find(".tm-epo-variation-element").first().attr("data-tm-for-variation").tmjid()).trigger("focusin")}),t(this).blur(),h.trigger("woocommerce_update_variation_values_tmlogic")}),d.find("input.tm-epo-variation-element,input.tm-epo-variation-element + label").off("mouseup.cpfv").on("mouseup.cpfv",function(e){var a=t(this);a.is("label")&&(a=a.prev("input")),a.attr("disabled")&&h.find(".reset_variations").trigger("click");var i=a.attr("data-tm-for-variation").tmjid();h.find("#"+i).trigger("focusin")}),d.find(".tm-epo-variation-element").off("change.cpfv tm_epo_variation_element_change").on("change.cpfv tm_epo_variation_element_change",function(a){var i=t(this),o=i.attr("data-tm-for-variation").tmjid(),r=i.val(),n=i.closest(".cpf-type-variations"),c=h.find("#"+o);if(a&&a.type&&"tm_epo_variation_element_change"==a.type);else{var d=!1;c.each(function(){if(this.value==r)return d=!0,!1}),d||c.trigger("focusin"),c.val(r).change()}r||c.trigger("focusin"),e.find(".cpf-type-variations").not(n).each(function(e,a){h.find("#"+t(a).find(".tm-epo-variation-element").first().attr("data-tm-for-variation").tmjid()).trigger("focusin")}),t(this).blur(),h.trigger("woocommerce_update_variation_values_tmlogic")}).off("focusin.cpfv").on("focusin.cpfv",function(){if(t(this).is("select")){var e=t(this),a=e.attr("data-tm-for-variation").tmjid();h.find("#"+a).trigger("focusin"),h.trigger("woocommerce_update_variation_values_tmlogic")}}),d.find("select.tm-epo-field").off("tm-select-change-html").on("tm-select-change-html",function(){if(!o||!Ct||void 0==Ct.data("per_product_pricing")||Ct.data("per_product_pricing")){var e=t(this),a=b(e.find("option:selected").data("price"),l,!1,!1,e),i=b(e.find("option:selected").data("original_price"),l,!1,!1,e);y(e.closest(".tmcp-field-wrap").find(".tc-price"),e.find("option:selected").data("price"),a,e.find("option:selected").data("original_price"),i);var r=e.closest(".tmcp-field-wrap").find(".tc-tooltip");r.length>0&&r.attr("data-tm-tooltip-html",e.find("option:selected").attr("data-tm-tooltip-html")).trigger("tc-tooltip-html-changed")}}).off("tm-select-change").on("tm-select-change",function(){o&&Ct&&void 0!=Ct.data("per_product_pricing")&&!Ct.data("per_product_pricing")||(t(this).trigger("tm-select-change-html"),m.trigger({type:"tm-epo-update",norules:1,element:t(this)}))}),d.find("select.tm-epo-field").trigger("tm-select-change-html"),d.find("input.tm-epo-field[maxlength],textarea.tm-epo-field[maxlength]").each(function(){var e=t(this),a=t.fn.tm_template(Q.tc_chars_remanining,{maxlength:e.attr("maxlength"),characters_remaining:tm_epo_js.i18n_characters_remaining});e.after(t(a))}),d.find("input.tm-epo-field[maxlength],textarea.tm-epo-field[maxlength]").off("change.tc_maxlen keyup.tc_maxlen").on("change.tc_maxlen keyup.tc_maxlen",function(e){var a=t(this);a.closest(".tmcp-field-wrap").find(".tc-chars-remanining").html(parseInt(a.attr("maxlength"))-parseInt(a.val().length))}),d.find(".tm-epo-field").off("tm_trigger_product_image").on("tm_trigger_product_image",function(a){var i=t(this),o=t(this);if(o.is(".tm-product-image:checkbox, .tm-product-image:radio, select.tm-product-image")){var r=o.closest(".tmcp-field-wrap").find("label img"),n=o.closest(".cpf-section"),c=n.is(".tm-epo-variation-section");if(o.is("select.tm-product-image")&&(i=o.children("option:selected")),t(r).length>0||c&&void 0!=i.attr("data-image")||void 0!=i.attr("data-image")&&""!=i.attr("data-image")||void 0!=i.attr("data-imagep")&&""!=i.attr("data-imagep"))if(o.is(":checked")||o.is("select.tm-product-image")&&""!=o.val()&&(""!=o.find("option:selected").attr("data-rules")||o.is(".tm-epo-variation-element"))){var s=t(r).first().attr("data-original");s||c||(s=t(r).first().attr("src")),s||(s=i.attr("data-image")),i.attr("data-imagep")&&(s=i.attr("data-imagep")),s?e.trigger("tm_change_product_image",{src:s,element:o,main_product:e,epo_holder:d}):e.trigger("tm_change_product_image",{src:!1,element:o,main_product:e,epo_holder:d})}else e.trigger("tm_restore_product_image",{element:o,main_product:e,epo_holder:d});else e.trigger("tm_restore_product_image",{element:o,main_product:e,epo_holder:d})}else e.trigger("tm_attempt_product_image",{element:o,main_product:e,epo_holder:d})}),d.find(".tm-quantity").off("showhide.cpfcustom").on("showhide.cpfcustom",function(e){var a=t(this),i=a.closest(".tmcp-field-wrap").find(".tm-epo-field"),o=!1;if(!i.is(".tm-epo-variation-element")){if(i.is("select"))""!==i.val()&&(o=!0);else if(i.is(":checkbox"))i.is(":checked")&&(o=!0);else if(i.is(":radio")){if(i.is(":checked")&&(o=!0,"yes"==tm_epo_js.tm_epo_show_only_active_quantities)){var r=i.closest(".cpf_hide_element").find(".tm-epo-field.tmcp-radio");r.each(function(){t(this).closest(".tmcp-field-wrap").find(".tm-quantity").hide()})}}else i.val()&&(o=!0);o?("yes"==tm_epo_js.tm_epo_show_only_active_quantities&&a.show(),a.find(".tm-qty").removeClass("ignore")):("yes"==tm_epo_js.tm_epo_show_only_active_quantities&&a.hide(),a.find(".tm-qty").addClass("ignore"))}}),d.find(".tm-quantity").trigger("showhide.cpfcustom"),d.find(".tm-epo-field").off("change.cpfcustom").on("change.cpfcustom",function(e){var a=t(this),i=a.closest(".tmcp-field-wrap").find(".tm-quantity");i.trigger("showhide.cpfcustom")}),d.find(".tm-epo-field").off("change.cpf").on("change.cpf",function(a){var i=t(this);if(!i.is(".tm-epo-variation-element")){if(i.is(".use_images:checkbox, .use_images:radio")&&i.attr("data-imagec")){var o=i.closest(".tmcp-field-wrap").find(".radio_image,.checkbox_image").first();o.length>0&&(i.is(":checked")?o.prop("src",i.attr("data-imagec")):o.prop("src",i.attr("data-image")))}i.is(".use_images:radio")&&i.closest(".cpf-type-radio").find(".use_images:radio").not(i).each(function(){var e=t(this);e.closest(".tmcp-field-wrap").find(".radio_image").first().prop("src",e.attr("data-image"))}),i.is(".tmcp-range")&&i.trigger("change.cpflogic"),i.is("select")?i.trigger("tm-select-change"):(i.is(".tmcp-radio")&&i.closest(".cpf-type-radio").find(".tm-quantity .tm-qty").each(function(){t(this).closest("li.tmcp-field-wrap").find(".tmcp-radio").is(":checked")?t(this).removeAttr("disabled"):t(this).attr("disabled","disabled")}),m.trigger({type:"tm-epo-update",norules:1,element:i}))}i.trigger("tm_trigger_product_image"),e.trigger("tm_attempt_product_image",{element:i,main_product:e,epo_holder:d})}),d.find(".tm-epo-reset-radio").off("click.cpf").on("click.cpf",function(){var e=t(this),a=e.closest(".cpf_hide_element"),i=a.find(".tm-epo-field.tmcp-radio:checked");i.length&&(i.removeAttr("checked").prop("checked",!1),i.trigger("change.cpf"),i.trigger("change.cpflogic"))}),d.find(".tm-epo-field.tmcp-textarea,.tm-epo-field.tmcp-textfield").off("keyup.cpf").on("keyup.cpf",function(){t(this).trigger("change.cpf")}),d.find(".tm-epo-field.tmcp-upload").off("change.cpfv").on("change.cpfv",function(){var e=t(this),a=e.closest("label"),i=e.closest(".tmcp-field-wrap"),o=i.find(".tm-filename"),r=e.val().replace("C:\\fakepath\\","");!o.length>0&&(o=t('<span class="tm-filename"></span>'),a.after(o)),o.html(r);var n=d.data("num_uploads");n||(n=[]),n[e.closest(".cpf_hide_element").attr("data-uniqid")]=r,d.data("num_uploads",n)}),a.find("input.qty").last().off("change.cpf").on("change.cpf",function(){m.trigger("tm-epo-check-dpd"),t(this).data("tm-prev-value",t(this).val()),m.trigger({type:"tm-epo-update",norules:2})}).data("tm-prev-value",a.find("input.qty").last().val()),a.find(".total_price").off("wc-measurement-price-calculator-total-price-change.cpf").on("wc-measurement-price-calculator-total-price-change.cpf",function(t,e,a){p.find(".cpf-product-price").val(a),l.data("price",a),m.trigger({type:"tm-epo-update"})}),a.find(".product_price").off("wc-measurement-price-calculator-product-price-change.cpf dwc-measurement-price-calculator-update.cpf").on("wc-measurement-price-calculator-product-price-change.cpf dwc-measurement-price-calculator-update.cpf",function(t,e,a){p.find(".cpf-product-price").val(a),l.data("price",a),m.trigger({type:"tm-epo-update"})}),m.off("woocommerce-nyp-update.cpf").on("woocommerce-nyp-update.cpf",function(){var t=m.find(".nyp"),e=t.data("price");t.length>0&&(p.find(".cpf-product-price").val(e),l.data("price",e),m.trigger({type:"tm-epo-update"}))}),H.off("woocommerce-nyp-updated.cpf").on("woocommerce-nyp-updated.cpf",function(){m.trigger("woocommerce-nyp-update.cpf")}),m.trigger("woocommerce-nyp-update.cpf"),t("#fancy-product-designer-"+l.parent().attr("data-product-id")).off("priceChange.cpf").on("priceChange.cpf",function(t,e,a){var i=a;void 0===l.data("fpdprice")?l.data("fpdprice",parseFloat(i)):l.data("fpdprice",parseFloat(i)),void 0===l.data("tcprice")?l.data("tcprice",parseFloat(l.data("price"))):l.data("price",parseFloat(l.data("tcprice"))),i=parseFloat(l.data("price"))+parseFloat(i),l.parent().find(".cpf-product-price").val(i),l.data("price",i),m.trigger({type:"tm-epo-update",norules:1})}),m.off("tm-epo-check-dpd").on("tm-epo-check-dpd",function(e){var a=l,i=a.data("fields-price-rules");if(1==i){var o=a.data("product-price-rules"),r=a.data("tm_for_cart");if(o&&r){var n='input[name^="variation_id"]';r.find("input.variation_id").length>0&&(n="input.variation_id");var c=r.find("input.qty").last(),d=parseFloat(c.val()),s=parseFloat(c.data("tm-prev-value")),p=r.find(n).val();p||(p=0),isNaN(d)&&(a.attr("data-is-sold-individually")||0==c.length)&&(d=1),(o[p]&&0!=p||o[0])&&(o[p]||(p=0),t(o[p]).each(function(t,e){var a=parseFloat(e.min),i=parseFloat(e.max);a<=d&&d<=i&&(a<=s&&s<=i||mt(r))}))}}}),m.off("tm-epo-update").on("tm-epo-update",function(a){var r,c=t(this),s=l.attr("data-tm-epo-final-total-box"),p=c.attr("data-product_id"),f=c.find("input.variation_id").length>0?"input.variation_id":'input[name^="variation_id"]',_=0,u=0,h=!1,g=0,y=l.data("type"),w=!1,k=c.find("input.qty").last(),x=parseFloat(k.val()),j=m.find(".cpf-bto-price"),q=!0,F=!1,N=c.find(f).val(),C=l.attr("data-price-override"),T=[];p||(p=c.closest(".component_content").attr("data-product_id"),p||(p=0)),o&&l.addClass("cpf-bto-totals"),a.norules?(1==a.norules&&lt(a.element),Wt=[],d.find(".tm-epo-late-field").each(function(){var e=t(this),a=e.data("tm-price-for-late");e.data("price",0),Wt.push({setter:e,price:a,bundleid:p})})):mt(c),isNaN(x)&&(l.attr("data-is-sold-individually")||0==k.length)&&(x=1),l.length?_=pt(l):j.length>0&&(_=j.val()),u=_,o&&c.find(".cpf-bto-price").length>0?(F=!0,_=parseFloat(c.find(".cpf-bto-price").val()),q=c.find(".cpf-bto-price").data("per_product_pricing")):!o&&e.find(".cpf-bto-price").length>0&&(r=1,h=[],e.find(".cpf-bto-price").each(function(e,a){if(!isNaN(parseFloat(t(this).val()))){var i=t(this).closest(".cart").find("input.qty");i=i.length>0?parseFloat(i.val()):1;var o=t(this).parent().find(".cpf-bto-totals").attr("data-is-sold-individually"),r=t(this).parent().find(".cpf-bto-optionsprice").val();r=isNaN(parseFloat(r))?0:parseFloat(r),_=parseFloat(_)+parseFloat(t(this).val()*i),h.push([t(this).val(),r,i,o])}}),e.find(".cpf-bto-optionsprice").each(function(e,a){isNaN(parseFloat(t(this).val()))||(_=parseFloat(_)+parseFloat(t(this).val()))})),(o||Tt&&"woocommerce_before_add_to_cart_button"==tm_epo_js.tm_epo_totals_box_placement)&&("variable"!=y&&"variable-subscription"!=y||l.data("moved_inside")||(c.find(".variations_button").before(l),l.data("moved_inside",1))),Tt&&"woocommerce_before_add_to_cart_button"==tm_epo_js.tm_epo_totals_box_placement&&("bto"!=y&&"composite"!=y||l.data("moved_inside")||(c.find(".bundle_price,.composite_price").after(l),l.data("moved_inside",1))),d.find(".tmcp-field").each(function(){var e=t(this),a=e.closest(".cpf_hide_element"),o=a.attr("data-fblabelshow"),r=a.attr("data-fbvalueshow"),n=""==o?a.find(".tm-epo-field-label").html():"",c="",d=a.find(".tm-qty").val();if(void 0==d&&(d=""),e.is(":checkbox, :radio, :input")&&i(e)){var s=0;if(e.is(".tmcp-checkbox, .tmcp-radio"))if(e.is(":checked")){s=e.data("price"),w=!0,e.data("isset",1);var p=e.closest("li.tmcp-field-wrap"),l=p.find(".checkbox_image,.radio_image");c="";var m=e.closest("li.tmcp-field-wrap").find(".tm-label");m.length&&(c=m.html()),l.length&&(c+=l.clone().addClass("tc-img-floating")[0].outerHTML),e.is(".use_images")&&(c=p.find(".tc-label").first().html(),l.length&&(c+=l.clone().addClass("tc-img-floating")[0].outerHTML)),T.push({title:n,value:c,price:s,quantity:d,label_show:o,value_show:r})}else e.data("isset",0);else if(e.is(".tmcp-select")){s=e.find("option:selected").data("price");var f=e.children("option:selected");""===f.val()&&""===f.attr("data-rulestype")||(w=!0),e.find("option").data("isset",0),e.find("option:selected").data("isset",1),""===e.find("option:selected").val()&&""===e.find("option:selected").attr("data-rulestype")||(c=e.find("option:selected").text(),T.push({title:n,value:c,price:s,quantity:d,label_show:o,value_show:r}))}else if(e.val())if(e.is(".tmcp-range")&&"0"==e.val())e.data("isset",0);else{if(s=e.data("price"),w=!0,e.data("isset",1),c=e.val(),e.is(".tmcp-range")){var _=t(".tm-range-picker[data-field-id='"+e.attr("id")+"']"),u=_.attr("data-step").split(".");u=1==u.length?0:u[1].length,c=accounting.formatNumber(c,{decimal:z,thousand:D,precision:u})}T.push({title:n,value:c,price:s,quantity:d,label_show:o,value_show:r})}else e.data("isset",0);s||(s=0),g=parseFloat(g)+parseFloat(s)}}),"1"==C&&parseFloat(g)>0&&(_=u=0),l.data("tm-floating-box-data",T);var I=0,O=0;if(d.find(".tmcp-sub-fee-field,.tmcp-fee-field").each(function(){var e=t(this);if(e.is(":checkbox, :radio, :input")&&i(e)){var a=0;if(e.is(".tmcp-checkbox, .tmcp-radio"))e.is(":checked")?(a=e.data("price"),w=!0,e.data("isset",1)):e.data("isset",0);else if(e.is(".tmcp-select")){a=e.find("option:selected").data("price");var o=e.children("option:selected");""===o.val()&&""===o.attr("data-rulestype")||(w=!0),e.find("option").data("isset",0),e.find("option:selected").data("isset",1)}else e.val()?(a=e.data("price"),w=!0,e.data("isset",1)):e.data("isset",0);a||(a=0),e.is(".tmcp-sub-fee-field")&&(I=parseFloat(I)+parseFloat(a)),e.is(".tmcp-fee-field")&&(O=parseFloat(O)+parseFloat(a))}}),Mt=w,Y(),O>0&&(w=!0),"bto"==l.attr("data-type")||"composite"==l.attr("data-type")){var S=Ut.data("btois");"show"===S&&(w=!0)}r&&(w=!0),o&&!q&&(w=!1),"pxq"!=s&&"hide"!=s&&"normal"!=s&&"final"!=s&&"hideoptionsifzero"!=s||(w=!0),x>1&&(w=!0),"variable"!=y&&"variable-subscription"!=y||N||(w=!1);var M=g;_=v(_,l);var A=jt(parseFloat(_)+parseFloat(M),p,l);"disable"==s&&(w=!1),"disable_change"!=s&&"yes"!=tm_epo_js.tm_epo_change_variation_price&&"yes"!=tm_epo_js.tm_epo_change_original_price||(w=!0);var L={};g=parseFloat(g*x);var P,R,E=0;tm_epo_js.extra_fee&&(E=parseFloat(tm_epo_js.extra_fee),isNaN(E)&&(E=0));var H=parseFloat(_*x);if(h){_=v(u,l),H=H=parseFloat(_*x);for(var U=0;U<h.length;U++){var G=h[U],V=0;G[3]?(V=v(parseFloat(G[0])+parseFloat(G[1]),l),_+=V,H+=parseFloat(V)):(V=+v(parseFloat(G[0])*parseFloat(G[2])+parseFloat(G[1]),l),_+=V,H+=parseFloat(V*x))}}if(M+=A,g=parseFloat(M*x),void 0!==l.data("tc_is_bookings")){var $=l.data("bookings_form"),J=0,K=!1;$.length&&("1"==tm_epo_js.wc_booking_person_qty_multiplier&&$.find('[id^="wc_bookings_field_persons"]').each(function(){J+=parseFloat(t(this).val()),K=!0}),"1"==tm_epo_js.wc_booking_block_qty_multiplier&&$.find("#wc_bookings_field_duration").length&&(J+=parseFloat($.find("#wc_bookings_field_duration").val()),K=!0)),K&&(g*=J)}g=t.tc_apply_filters("tc_adjust_total",g,l),O=t.tc_apply_filters("tc_adjust_totals_fee",O,l);var tt=parseFloat(g)+parseFloat(O);P=b(tt,l,!0,!0),H=parseFloat(H+tt+E),H=t.tc_apply_filters("tc_adjust_product_total_price",H,tt,E,g,O,l),R=b(H,l,!0,!0);var et,at=!1,ot="",rt=!1,nt=!1,ct="",dt=!1;if("pxq"==s||"final"==s||"hide"==s||0==tt&&"hideoptionsifzero"==s||(at=!0),E&&(rt=!0,ot=b(E,l,!0,!0)),R&&(nt=!0),l.data("is-subscription")){var _t=parseFloat(l.data("subscription-sign-up-fee"))+parseFloat(I);_t&&(dt=!0,ct=b(_t,l,!0,!0))}if((a.product_false===!0||void 0!==l.data("bookings_form_init")&&0===l.data("bookings_form_init"))&&(R="-"),L={options_total:tm_epo_js.i18n_options_total,formatted_options_total:P,show_options_total:at,extra_fee:tm_epo_js.i18n_extra_fee,formatted_extra_fee:ot,show_extra_fee:rt,final_total:tm_epo_js.i18n_final_total,formatted_final_total:R,show_final_total:nt,sign_up_fee:tm_epo_js.i18n_sign_up_fee,formatted_subscription_fee_total:ct,show_sign_up_fee:dt},L=t.tc_apply_filters("tc_adjust_tc_totals_ob",L,{epo_object:Zt,tm_set_price:b,product_total_price:H,qty:x}),et=t.fn.tm_template(Q.tc_final_totals,L),l.data("tm-html",et),w&&x>0){if("disable_change"==s||"yes"==tm_epo_js.tm_epo_change_variation_price){var ut=t.tc_apply_filters("hide_native_price",!0);ut===!0&&"disable"!=s&&"disable_change"!=s?ft(c).hide():ft(c).show()}if("disable"==s||"disable_change"==s||"hideifoptionsiszero"==s&&0==tt||"hide"==s)et="",l.html(et).hide(),Ht.hide();else{l.html(et).show(),Ht.show();var ht=l.data("fields-price-rules"),vt=l.data("tm-epo-dpd-prefix"),gt=l.data("tm-epo-dpd-suffix");if(1==ht){var bt=st(l,ht),yt="";if(bt[0]&&bt[1]&&(vt||gt)){var wt=bt[1],kt="";switch(wt){case"percentage":kt=bt[0]+"%";break;case"price":kt=b(bt[0]*x,l,!1,!1);break;case"fixed":kt=b(bt[0],l,!1,!1)}yt=vt+" "+kt+" "+gt}yt&&l.find(".tm-final-totals .amount.final").after('<span class="tm_dpd_label">'+yt+"</span>")}}if(R&&H){var xt=ft(c),qt=accounting.formatMoney(H,{
symbol:"",decimal:z,thousand:D,precision:tm_epo_js.currency_format_num_decimals,format:""});"disable_change"!=s&&"yes"!=tm_epo_js.tm_epo_change_variation_price||xt.html(t.fn.tm_template(Q.tc_formatted_price,{price:qt})).show(),"disable_change"!=s&&"yes"!=tm_epo_js.tm_epo_change_original_price||(p&&o&&c.find(".cpf-bto-price").length>0?t("#component_"+p).find(W).html(t.fn.tm_template(Q.tc_formatted_price,{price:qt})).show():!o&&e.find(".cpf-bto-price").length>0?c.find(Z).html(t.fn.tm_template(Q.tc_formatted_price,{price:qt})).show():t(X).html(t.fn.tm_template(Q.tc_formatted_price,{price:qt})).show())}o?(q&&c.find(".cpf-bto-optionsprice").val(parseFloat(g)),Ct.trigger({type:"tm-epo-update",norules:1})):(Ut.data("is_active",!0),it())}else ft(c).show().each(function(){t(this).data("tm-original-html")?t(this).html(t(this).data("tm-original-html")):t(this).data("tm-original-html",t(this).html())}),0==u&&"yes"==tm_epo_js.tm_epo_remove_free_price_label&&ft(c).hide(),l.empty().hide(),o&&(q&&c.find(".cpf-bto-optionsprice").val(parseFloat(g*x)),Ct.trigger({type:"tm-epo-update",norules:1})),it();n&&e.find(".bto_form_"+n+",#composite_form_"+n+",#composite_data_"+n).trigger("cpf_bto_review"),Ct.trigger("tm-epo-after-update"),B.trigger("tc-epo-after-update",{epo:L})}),a.find(".variations_form").off("found_variation.tmepo tm_fix_stock",".single_variation_wrap").on("found_variation.tmepo tm_fix_stock",".single_variation_wrap",function(e,i){F(t(this),a)}),"variable"!=u&&"variable-subscription"!=u||(a.find(".variations_form").off("found_variation.tmepo").on("found_variation.tmepo",function(e,i){r(e,i),F(t(this),a)}).off("hide_variation.tmepo").on("hide_variation.tmepo",function(t,e){m.trigger({type:"tm-epo-update",norules:2})}).trigger("check_variations"),B.on("tm-do-epo-update",function(){m.trigger({type:"tm-epo-update"})})),a.find(".variations select").off("blur.cpf").on("blur.cpf",function(){e.find(".variations_form").data("tm_variations_did_init",!0)}),kt(a,f,e,d),e.find(".tm-variation-ul-color .tmhexcolorimage-li-nowh,.tm-variation-ul-image .tmhexcolorimage-li-nowh,ul.use_images_containter .tmhexcolorimage-li-nowh").each(function(e,a){var a=t(a),i=.9*a.width(),o=a.find(".tmhexcolorimage");o.css({"min-width":i+"px","min-height":i+"px"})}),B.trigger("tm-epo-init-events",{epo:{epo_id:s,form:q(),current_cart:m,cart_container:a,epo_holder:d,totals_holder_container:p,totals_holder:l,main_cart:Ct,main_epo_inside_form:Tt,product_id_selector:Pt,epo_id_selector:Rt,product_id:c,this_epo_container:Et,this_totals_container:Ht,this_epo_totals_container:Ut}}),B.trigger("epo_options_before_visible"),setTimeout(function(){d.css("opacity",0).addClass("tc-show").animate({opacity:1},A,"easeOutExpo",function(){B.trigger("epo_options_visible"),B.trigger("tmlazy")})},M)}function ut(){if(!e.data("tm-composite-setup")){var a=Ut;e.data("tm-composite-setup",1),t(St).find(".cart").append('<input type="hidden" class="tm-post-support addon">'),e.find(".tm-post-support.addon").on("change",function(e){t(this).closest(St).trigger("wc-composite-item-updated.cpf")}),t(St).off("found_variation.cpf").on("found_variation.cpf",function(i,r){var n,c=t(this),d=ot(c),s=rt(d),p=ct(c);s&&(e.find(".bto_form,#composite_form_"+d+",#composite_data_"+d).find(nt(p)).removeData("cpf_review_price"),e.find(".bto_form,#composite_form_"+d+",#composite_data_"+d).find(nt(p)).find(".amount").empty(),o(s)===!0&&(n=parseFloat(r.price)),c.find(".cpf-bto-price").data("per_product_pricing",o(s)),c.find(".cpf-bto-price").val(n),Ct.data("per_product_pricing",o(s)),c.find(".cart").trigger({type:"tm-epo-update",norules:1}),setTimeout(function(){Ct.trigger({type:"tm-epo-update",norules:1})},100),a.data("btois","none"))}).off("wc-composite-component-loaded.cpf").on("wc-composite-component-loaded.cpf",function(){t(this).trigger("wc-composite-item-updated.cpf")}).off("wc-composite-item-updated.cpf").on("wc-composite-item-updated.cpf",function(){vt(),e.find(".tm-collapse").tmtoggle();var a=t(this),i=a.find(".tm-extra-product-options");l(a),p(a),gt(a),bt(),f(i),_(i),r(i);var n,c=ot(a),d=rt(c),s=ct(a);e.find(".bto_form,#composite_form_"+c+",#composite_data_"+c).find(nt(s)).removeData("cpf_review_price"),e.find(".bto_form,#composite_form_"+c+",#composite_data_"+c).find(nt(s)).find(".amount").empty(),d&&(o(d)===!0&&(n=parseFloat(a.find(".bto_item_data,.component_data").data("price"))),a.find(".cpf-bto-price").data("per_product_pricing",o(d)),a.find(".cpf-bto-price").val(n),Ct.data("per_product_pricing",o(d)),_t(a,a.find(".cart")),a.find(".cart").trigger({type:"tm-epo-update",composite_item:a}),Ct.trigger({type:"tm-epo-update",norules:1}),F(a.find(".cart"),a))}).off("change.cpfbto",".bto_item_options select,.component_options_select").on("change.cpfbto",".bto_item_options select,.component_options_select",function(i){var o=t(this),r=ot(o),n=ct(o);e.find(".bto_form,#composite_form_"+r+",#composite_data_"+r).find(nt(n)).removeData("cpf_review_price"),e.find(".bto_form,#composite_form_"+r+",#composite_data_"+r).find(nt(n)).find(".amount").empty(),""===o.val()?(a.data("passed",!1),a.data("btois","none")):Ct.trigger({type:"tm-epo-update",norules:1})}).off("woocommerce_variation_select_change.cpf").on("woocommerce_variation_select_change.cpf",function(i){var o=t(this),r=ot(o),n=ct(o);e.find(".bto_form,#composite_form_"+r+",#composite_data_"+r).find(nt(n)).removeData("cpf_review_price"),e.find(".bto_form,#composite_form_"+r+",#composite_data_"+r).find(nt(n)).find(".amount").empty(),""===o.find(".variations .attribute-options select").val()&&(a.data("passed",!1),a.data("btois","none"))}),e.find(".bundle_wrap").off("show_bundle.cpf,wc-composite-show-add-to-cart.cpf").on("show_bundle.cpf,wc-composite-show-add-to-cart.cpf",function(){var e=t(this).closest(".cart").attr("data-container-id");ht(e)}),e.find(".composite_data .composite_wrap").off("wc-composite-show-add-to-cart.cpf").on("wc-composite-show-add-to-cart.cpf",function(){var a=t(this).closest(".composite_form"),i=a.find(".composite_data").data("container_id");ht(i),e.find("#composite_data_"+i).trigger("cpf_bto_review")}),e.find(".bto_form,.composite_form").off("woocommerce-product-addons-update.cpf cpf_bto_review").on("woocommerce-product-addons-update.cpf cpf_bto_review",function(){var e=t(this);t(this).parent().find(St).each(function(){var a,i=t(this),o=ct(i),r=e.find(nt(o)),n=i.find(".cpf-bto-optionsprice").val();if(r.length&&(r.data("cpf_review_price")?a=accounting.unformat(r.data("cpf_review_price"),z):r.find(".amount").length&&(a=accounting.unformat(r.find(".amount").html(),tm_epo_js.currency_format_decimal_sep),r.data("cpf_review_price",a)),n)){var c=parseFloat(a)+parseFloat(n);r.find(".amount").html(b(c,!1))}})}),t(St).trigger("wc-composite-component-loaded.cpf")}}function ht(a){var i=!0,o=Ut;e.find(".bto_form_"+a+",#composite_form_"+a+",#composite_data_"+a).parent().find(St).each(function(){var o=t(this),r=ct(o),n=e.find(".bto_form_"+a+" .bundle_wrap .bundle_button .form_data_"+r+",#composite_form_"+a+" .bundle_wrap .bundle_button .form_data_"+r+",#composite_data_"+a+" .composite_wrap .composite_button .form_data_"+r),c=n.find("input.product_input").val(),d=n.find("input.quantity_input").val(),s=n.find("input.variation_input").val(),p=o.find(".bto_item_data,.component_data").data("product_type");void 0==p||""==p||""===c?i=!1:"none"!=p&&""==d?i=!1:"variable"==p&&void 0==s&&(i=!1)}),i?o.data("btois","show"):o.data("btois","none"),Ct.trigger({type:"tm-epo-update",norules:1})}function vt(){"yes"!=tm_epo_js.tm_epo_no_lazy_load&&(S?t(S).find("img.tmlazy").lazyLoadXT():t(".tc-extra-product-options img.tmlazy").lazyLoadXT())}function gt(e){e||(e=Et),e.find(".tm-owl-slider-section").each(function(){var e=t(this),a=e.css("display");e.find(".tm-slide").first().before('<div class="tm-owl-slider"></div>'),e.find(".tm-slide").appendTo(e.find(".tm-owl-slider")),e=e.find(".tm-owl-slider"),a=e.css("display"),e.show().addClass("owl-carousel").tmowlCarousel({dots:!1,nav:!0,items:1,autoHeight:!0,mouseDrag:!1,touchDrag:!0,navText:[tm_epo_js.i18n_prev_text,tm_epo_js.i18n_next_text],navClass:["owl-prev button","owl-next button"],navElement:"a",loop:!1,navRewind:!1}),e.css("display",a)})}function bt(e){e||(e=Et.find(".tm-color-picker")),t(e).length&&(t(e).spectrum({showButtons:!0,clickoutFiresChange:!1,chooseText:tm_epo_js.closeText,cancelText:tm_epo_js.i18n_cancel}),t(e).spectrum("enable"))}function yt(e){var a=e.closest(".tmcp-field-wrap").find("label img"),i=t(a).first().attr("data-original");return e.is("select.tm-product-image")&&(e=e.children("option:selected")),i||(i=t(a).first().attr("src")),i||(i=e.attr("data-image")),e.attr("data-imagep")&&(i=e.attr("data-imagep")),!!i}function wt(){var a=Zt.form,o=e.closest("#product-"+c);if(!o.length>0&&(o=e.closest(".post-"+c)),""!==tm_epo_js.tm_epo_global_product_image_selector)var r=t(tm_epo_js.tm_epo_global_product_image_selector);else var r=o.find("a.woocommerce-main-image img, img.woocommerce-main-image,a img").not(".thumbnails img,.product_list_widget img").first();t(r).length>1&&(r=t(r).first());var n=!1,s=t(".images"),p=t(".yith_magnifier_zoom"),l=s.find(".yith_magnifier_zoom").first().attr("href"),m=l,f=s.find(".yith_magnifier_zoom img").first().attr("src"),_=r.width(),u=r.height();window.yith_magnifier_options&&s.data("yith_magnifier")&&(n=!0);var h=!1,v=t(".iosSlider.product-gallery-slider,.iosSlider.product-slider");v.length&&v.iosSlider&&(h=!0);var g=!1,b=o.find(".images .fusion-flexslider");b.length&&b.flexslider&&(g=!0);var y=!1,w=o.find(".images .easyzoom");w.length&&w.filter(".images .easyzoom.first").data("easyZoom")&&(w=w.filter(".images .easyzoom.first").data("easyZoom"),y=!0),B.on("load",function(){setTimeout(function(){w.length&&w.data("easyZoom")&&(w=w.data("easyZoom"),y=!0)},150)});var k=r.data("elevateZoom")||!1,x=o.find("div.product-images .woocommerce-main-image");if(t(r).length>0){r.data("tm-current-image",!1);var j=r.closest("a"),q=r.attr("src");e.off("tm_change_product_image").on("tm_change_product_image",function(e,o){var p=o.element.closest(".cpf-section"),m=p.is(".tm-epo-variation-section"),b=m?p:o.epo_holder,j=b.find(".tm-product-image:checked,select.tm-product-image"),q=[];j.each(function(){var e=t(this);i(e)&&yt(e)&&d({element:e.closest(".cpf_hide_element"),operator:"isnotempty",value:""})&&q.push(e)});var F="";q.length&&(j=q[q.length-1],F=j.attr("id"));var N=r.data("tm-current-image"),C=!0;j.attr("id")!=o.element.attr("id")&&(C=!1);var N=o.element.attr("id"),T=o.main_product,z=T.closest("#product-"+c);!z.length>0&&(z=T.closest(".post-"+c));var D=z.find("#"+N+"_tmimage"),I=_,O=u;0==D.length&&(D=r);var S=t("<div class='blockUI blockOverlay tm-preloader-img'></div>");S.css({width:I,height:O});var M=function(){S.remove(),a.tc_image_update(!1),r.data("tm-current-image",!1),z.find(".tm-clone-product-image").hide(),r.show()};if(o.src!=D.attr("src")||!D.is(":visible")){if(o.src===!1)return void M();var A=r.tm_clone(),L=new Image;C&&r.before(S),l=s.find(".yith_magnifier_zoom").first().attr("href"),f=s.find(".yith_magnifier_zoom img").first().attr("src"),L.onerror=function(){M()},L.onload=function(){if("naturalHeight"in this){if(this.naturalHeight+this.naturalWidth===0)return void this.onerror()}else if(this.width+this.height==0)return void this.onerror();if(z.find("#"+N+"_tmimage").remove(),z.find(".tm-clone-product-image").hide(),A.prop("src",L.src).hide(),r.hide().after(A),A.css("opacity",0).show(),h&&setTimeout(function(){v.iosSlider("update")},150),g&&B.trigger("resize"),y&&w.swap(null,L.src),k&&x.each(function(){var e=t(this).data("elevateZoom");"undefined"!=typeof e&&e.swaptheimage(L.src,L.src)}),S.animate({opacity:0},750,"easeOutExpo",function(){S.remove()}),A.animate({opacity:1},window.tc_epo_image_animation_delay||1500,"easeOutExpo",function(){}),n){A.attr("srcset",L.src).attr("src-orig",L.src),s.data("yith_magnifier")&&s.yith_magnifier("destroy");var e={elements:{zoom:t(".yith_magnifier_zoom"),zoomImage:A,gallery:t(".yith_magnifier_gallery li a")}};s.yith_magnifier(t.extend(!0,{},yith_magnifier_options,e))}B.trigger("tm_change_product_image_loaded",{src:o.src,element:o.element,main_product:o.main_product,epo_holder:o.epo_holder})},A.attr("id",N+"_tmimage").addClass("tm-clone-product-image").hide(),A.attr("src-orig")&&A.attr("src-orig",o.src),C?(L.src=o.src,a.tc_image_update(o.element,A),r.data("tm-current-image",N),B.trigger("tm_change_product_image_show",{src:o.src,element:o.element,main_product:o.main_product,epo_holder:o.epo_holder})):(A.prop("src",o.src).hide(),r.after(A)),B.trigger("tm_change_product_image_end",{src:o.src,element:o.element,main_product:o.main_product,epo_holder:o.epo_holder})}}),e.off("tm_restore_product_image").on("tm_restore_product_image",function(e,i){B.trigger("tm_restore_product_image_pre",{element:i.element,main_product:i.main_product,epo_holder:i.epo_holder});var o=i.element.attr("id"),d=i.main_product,f=d.closest("#product-"+c);!f.length>0&&(f=d.closest(".post-"+c));var _,u,b=i.element.closest(".cpf-section"),F=b.is(".tm-epo-variation-section"),N=F?b:i.epo_holder,C=!1,T=f.find("#"+o+"_tmimage").is(":visible");if(f.find("#"+o+"_tmimage").remove(),0==f.find(".tm-clone-product-image").length)r.show(),r.data("tm-current-image",!1),a.tc_image_update(!1);else{if(!T)return void B.trigger("tm_restore_product_image_loaded_exit",{element:i.element,main_product:i.main_product,epo_holder:i.epo_holder});for(var z,D=f.find(".tm-clone-product-image").length,o=r.data("tm-current-image"),I=D-1;I>=0;I--){if(u=f.find(".tm-clone-product-image").eq(I),_=u.attr("id").replace("_tmimage",""),z=N.find('[id="'+_+'"]'),z.is(":checked")&&z.closest(".cpf_hide_element").is(":visible")){f.find(".tm-clone-product-image").eq(I).show(),j.attr("href",f.find(".tm-clone-product-image").eq(I).prop("src")),r.data("tm-current-image",_),C=!0;break}f.find(".tm-clone-product-image").eq(I).hide()}C?f.find("#"+o+"_tmimage").remove():(r.show(),r.data("tm-current-image",!1),a.tc_image_update(!1))}n&&(f.find(".tm-clone-product-image").filter(":visible").length?p.attr("href",l):p.attr("href",m),s.data("yith_magnifier")&&s.yith_magnifier("destroy"),s.yith_magnifier(yith_magnifier_options)),h&&setTimeout(function(){v.iosSlider("update")},150),g&&B.trigger("resize"),y&&(C?w.swap(null,u.attr("src")):w.swap(null,q)),k&&x.each(function(){var e=t(this).data("elevateZoom");"undefined"!=typeof e&&(C?e.swaptheimage(u.attr("src"),u.attr("src")):e.swaptheimage(q,q))}),B.trigger("tm_restore_product_image_loaded",{element:i.element,main_product:i.main_product,epo_holder:i.epo_holder})}),e.off("tm_attempt_product_image").on("tm_attempt_product_image",function(e,o){var f=o.main_product,_=f.closest("#product-"+c);!_.length>0&&(_=f.closest(".post-"+c));var u=o.element?o.element.closest(".cpf-section"):t(f.find(".tm-epo-variation-section"),o.epo_holder),b=u.is(".tm-epo-variation-section"),F=b?u:o.epo_holder,N=F.find(".tm-product-image:checked,select.tm-product-image");F=f.find(".tm-epo-variation-section").add(o.epo_holder),N=F.find(".tm-product-image:checked,select.tm-product-image");var C=[];N.each(function(){var e=t(this);i(e)&&yt(e)&&d({element:e.closest(".cpf_hide_element"),operator:"isnotempty",value:""})&&C.push(e)});var T="";C.length&&(N=C[C.length-1],T=N.attr("id"));var z,D,I=!1,O=r.data("tm-current-image");if(C.length&&N.length&&(!O||T!=O))return void N.last().trigger("tm_trigger_product_image");if(O&&!F.find('[id="'+O+'"]').closest(".cpf_hide_element").is(":visible")){_.find("#"+O+"_tmimage").remove();var S=_.find(".tm-clone-product-image").length;if(0==S)r.show(),r.data("tm-current-image",!1),a.tc_image_update(!1);else{for(var M=S-1;M>=0;M--){z=_.find(".tm-clone-product-image").eq(M),D=z.attr("id").replace("_tmimage","");var A=F.find('[id="'+D+'"]');if(A.is(":checked")&&A.closest(".cpf_hide_element").is(":visible")){_.find(".tm-clone-product-image").eq(M).show(),j.attr("href",_.find(".tm-clone-product-image").eq(M).prop("src")),r.data("tm-current-image",D),I=!0;break}_.find(".tm-clone-product-image").eq(M).hide()}I||(r.show(),r.data("tm-current-image",!1),a.tc_image_update(!1))}n&&(_.find(".tm-clone-product-image").filter(":visible").length?p.attr("href",l):p.attr("href",m),s.data("yith_magnifier")&&s.yith_magnifier("destroy"),s.yith_magnifier(yith_magnifier_options)),h&&setTimeout(function(){v.iosSlider("update")},150),g&&B.trigger("resize"),y&&(I?w.swap(null,z.attr("src")):w.swap(null,q)),k&&x.each(function(){var e=t(this).data("elevateZoom");"undefined"!=typeof e&&(I?e.swaptheimage(z.attr("src"),z.attr("src")):e.swaptheimage(q,q))})}});var F=[];t(Et.find(".tm-product-image:checked,select.tm-product-image")).add(e.find(".tm-epo-variation-section").find(".tm-product-image:checked,select.tm-product-image")).each(function(){var e=t(this);i(e)&&""!==e.val()&&F.push(e)}),F.length&&F[F.length-1].trigger("tm_trigger_product_image")}B.trigger("tm_product_image_loaded")}function kt(e,a,i,o){var r='input[name^="variation_id"]';if(e.find("input.variation_id").length>0&&(r="input.variation_id"),o.find(".tm-epo-variation-element").length||o.data("tm-epo-variation-element")){o.data("tm-epo-variation-element",o.find(".tm-epo-variation-element"));var n=o.find(".tm-epo-variation-section");if(a&&"main"!=a){var c=n.closest("li.tm-extra-product-options-field");e.find(".variations").hide().after(n.addClass("tm-extra-product-options nopadding")),c.is(":empty")&&c.hide(),e.off("wc_variation_form.tmlogic").on("wc_variation_form.tmlogic",function(){e.find(".variations_form").on("click.tmlogic",".reset_variations",function(t){e.find(".tm-epo-variation-element").closest("li").show(),e.find("select.tm-epo-variation-element").val("").children("option").removeAttr("disabled").show(),e.find(".tm-epo-variation-element").removeAttr("disabled").removeClass("tm-disabled").removeAttr("checked").prop("checked",!1),B.trigger("tmlazy"),i.find(".tm-epo-variation-element").trigger("tm_trigger_product_image")}),e.off("woocommerce_update_variation_values_tmlogic").on("woocommerce_update_variation_values_tmlogic",function(t,a){j(e)});for(var t=0;t<O.length;t++){var a=O[t],o=typeof a;if("object"==o){var n="string"==typeof a.name||!1,c="string"==typeof a.selector||!1,d="function"==typeof a.func||!1;n&&d&&('input[name="variation_id"]'==c&&(c=r),a.selector?e.data("tm-styled-variations",1).off(a.name,a.selector).on(a.name,a.selector,a.func):e.data("tm-styled-variations",1).off(a.name).on(a.name,a.func))}}O=[],e.find(".tm-epo-variation-element").last().trigger("tm_epo_variation_element_change")})}else{e=e.find(".variations_form"),e.find(".variations").hide();var c=n.closest("li.tm-extra-product-options-field");e.find(".variations").hide().after(n.addClass("tm-extra-product-options nopadding")),c.is(":empty")&&c.hide(),e.off("click.tmlogic",".reset_variations").on("click.tmlogic",".reset_variations",function(t){e.find(".tm-epo-variation-element").closest("li").show(),e.find("select.tm-epo-variation-element").val("").children("option").removeAttr("disabled").show(),e.find(".tm-epo-variation-element").removeAttr("disabled").removeClass("tm-disabled").removeAttr("checked").prop("checked",!1),B.trigger("tmlazy"),i.find(".tm-epo-variation-element").trigger("tm_trigger_product_image")}),e.off("woocommerce_update_variation_values_tmlogic").on("woocommerce_update_variation_values_tmlogic",function(t,a){j(e)});for(var d=0;d<O.length;d++){var s=O[d],p=typeof s;if("object"==p){var l="string"==typeof s.name||!1,m="string"==typeof s.selector||!1,f="function"==typeof s.func||!1;l&&f&&('input[name="variation_id"]'==m&&(m=r),s.selector?e.data("tm-styled-variations",1).off(s.name,s.selector).on(s.name,s.selector,s.func):e.data("tm-styled-variations",1).off(s.name).on(s.name,s.func))}}O=[],e.find(".tm-epo-variation-element").last().trigger("tm_epo_variation_element_change")}Dt[Dt.length]={trigger:function(){return!0},on_true:function(){return i.find(".tm-epo-variation-element").attr("disabled","disabled"),!0},on_false:function(){i.find(".tm-epo-variation-element").removeAttr("disabled")}};var _=i.find(".tm-variation-ul-color").find("li");_.each(function(e,a){var a=t(a),i=.9*a.width(),o=a.find(".tmhexcolorimage");o.css({"min-width":i+"px","min-height":i+"px"})})}}function xt(){var e=Ut,a=e.attr("data-theme-name");if(a){a=a.toLowerCase();var i=Et.find("select");switch(a){case"flatsome":case"flatsome-child":case"flatsome child":i.wrap('<div class="custom select-wrapper"/>');break;case"avada":case"avada-child":case"avada child":i.wrap('<div class="avada-select-parent tm-select-parent"></div>'),t('<div class="select-arrow">&#xe61f;</div>').appendTo(Et.find(".tm-select-parent")),window.calc_select_arrow_dimensions&&calc_select_arrow_dimensions();break;case"bazar":case"bazar-child":case"bazar child":i.wrap('<div class="tm-select-wrapper select-wrapper"/>');break;case"blaszok":case"blaszok-child":case"blaszok child":var o=function(){setTimeout(function(){var e=t(".tm-extra-product-options select").not(".hasCustomSelect").filter(":visible");e.each(function(){t(this).is(".mpcthSelect")||(t(this).width(t(this).outerWidth()),t(this).customSelect({customClass:"mpcthSelect"}))})},100)};B.on("cpflogicrun",function(){o()}),B.on("epo_options_visible",function(){o()});break;case"handmade":case"handmade child theme":t(".tm-owl-slider.owl-carousel").addClass("manual")}B.trigger("tm-theme-specific-actions",{epo:{theme_name:a,all_epo_selects:i}})}G.off("click.cpf",".quantity:not(.buttons_added) .minus, .quantity:not(.buttons_added) .plus").on("click.cpf",".quantity:not(.buttons_added) .minus, .quantity:not(.buttons_added) .plus",function(){t(this).closest(".quantity").find("input.qty").trigger("change.cpf")})}function jt(e,a,o){var r=0;return t.each(Wt,function(t,n){var c,d,s=n.price,p=n.original_price,l=n.setter,m=n.bundleid,f=l;if(l.is("option")&&(f=l.closest("select")),c=f.attr("name").tmjid(),d=Et.find("#"+c+"_hidden"),m==a){s=s/100*e,p=p/100*e,f.data("tm-quantity")&&(s*=parseFloat(f.data("tm-quantity")),p*=parseFloat(f.data("tm-quantity"))),1==l.data("isset")&&i(l)&&(r+=s);var _=b(s,o,!0,!1,l),u=b(p,o,!0,!1,l);l.data("price",v(s,o,l)),l.data("pricew",v(s,o,l)),l.data("original_price",v(p,o,l)),l.data("original_pricew",v(p,o,l)),y(l.closest(".tmcp-field-wrap").find(".tc-price"),s,_,p,u),0==d.length&&f.before('<input type="hidden" id="'+c+'_hidden" name="'+c+'_hidden" value="'+g(s,o,l)+'" />'),l.is(".tm-epo-field.tmcp-radio")?l.is(":checked")&&d.val(g(s,o,l)):d.val(g(s,o,l))}else if(void 0!==l.data("pricew")){var _=b(l.data("pricew"),o,!0,!1,l),u="";void 0!==l.data("original_pricew")&&(u=b(l.data("original_pricew"),o,!0,!1,l)),y(l.closest(".tmcp-field-wrap").find(".tc-price"),l.data("pricew"),_,l.data("original_pricew"),u)}}),Wt=[],r}function qt(){Et.on("change.cpflimit","input.tm-epo-field.tmcp-checkbox",function(){var e=t(this);V(e,!0),$(e,!0)});var e=Et.find(".tm-exactlimit");e.length&&K(e);var a=Et.find(".tm-minimumlimit");a.length&&et(a)}function Ft(){"yes"==tm_epo_js.tm_epo_upload_popup&&(Dt[Dt.length]={trigger:function(){return!0},on_true:function(){var e=Et.data("num_uploads");if(e){t("body").tm_floatbox({fps:1,ismodal:!0,refresh:"fixed",width:"50%",height:"300px",classname:"flasho tm_wrapper",data:t.fn.tm_template(Q.tc_upload_messages,{files:e,title:tm_epo_js.i18n_uploading_files,message:tm_epo_js.i18n_uploading_message})})}return!0},on_false:function(){return!0}})}function Nt(e){e=t(e),f(e),_(e),r(e),mt(),Wt=[],_t(),wt(),ut(),Ct.trigger("tm-epo-check-dpd"),Ct.trigger({type:"tm-epo-update"})}e=t(e),B.on("tc_manual_init",function(t,e){Nt(e)}),B.trigger("tm-epo-init-start");var Ct=!1,Tt=!1,zt=!1,Dt=[],It=!1,Ot="undefined"!=typeof c,St=".bto_item,.component",Mt=!1,At=!1;if(Ot||e.is(".product")&&(At=!0,Ot=H.find(L).length),!Ot&&"no"==tm_epo_js.tm_epo_enable_final_total_box_all&&!e.is(".tm-no-options-composite"))return void B.trigger("tm-epo-init-end-no-options");if(At&&(B.trigger("tm-epo-init-no-options"),!e.is(".product")||e.is(".tm-no-options-pxq")||e.is(".tm-no-options-composite")||(e=H)),!c){var Lt=e.find(P).last();Lt.length>0?c=Lt.val():(Lt=t(".tc-totals-form.tm-totals-form-main"),c=Lt.attr("data-product-id")),c||(c="")}s||(s=parseInt(e.find("input.tm-epo-counter").last().val()),isNaN(s)&&(s=""));var Pt=".tm-product-id-"+c,Rt='[data-epo-id="'+s+'"]',Et=t(".tc-extra-product-options"+Pt+Rt),Ht=t(".tc-totals-form"+Pt+Rt),Ut=t(".tc-epo-totals"+Pt+Rt);I(),Ct.data("product_id",c).data("epo_id",s).data("product_id_selector",Pt).data("epo_id_selector",Rt),qt(),Ft(),l(),p(),m(),it(),t.tm_tooltip(Et.find(".tm-tooltip")),Et.find(".tm-collapse").tmtoggle(),Et.find(".tm-section-link").tmsectionpoplink();var Zt={main_product:e,main_cart:Ct,epo_id:s,form:q(),main_epo_inside_form:Tt,product_id_selector:Pt,epo_id_selector:Rt,product_id:c,this_epo_container:Et,this_totals_container:Ht,this_epo_totals_container:Ut};t(Zt.form).data("epo_object",Zt);var Wt=[],Xt=e.find(".variations_form");if(Xt.length>0){var Bt=function(){Xt.on("wc_variation_form.cpf",function(){Xt.data("tc_loaded")||(f(Et),_(Et),r(Et),Wt=[],_t(),wt(),setTimeout(function(){Ct.trigger({type:"tm-epo-update"})},10),Xt.data("tc_loaded",!0))}),U&&Xt.trigger("wc_variation_form.cpf")},Gt=!1;if(t(".variation_form_section .variations-table").length&&(Gt=!0),Gt){var Qt=function(){var t=requestAnimationFrame(Qt),e=Xt.data("bound");e&&(cancelAnimationFrame(t),Bt(),Xt.trigger("wc_variation_form.cpf"))};Qt()}else Bt()}else setTimeout(function(){f(Et),_(Et),r(Et),Wt=[],_t(),wt(),ut(),Ct.trigger("tm-epo-check-dpd"),Ct.trigger({type:"tm-epo-update"})},20);vt(),gt(),bt(),k(),h(),Y(),xt(),C(),B.trigger("tm-epo-init-end",{epo:Zt})}function C(e){"no"==tm_epo_js.tm_epo_no_lazy_load&&t.extend(t.lazyLoadXT,{autoInit:!1,selector:"img.tmlazy",srcAttr:"data-original",visibleOnly:!1,updateEvent:t.lazyLoadXT.updateEvent+" tmlazy"});var a=t(".tm-no-options-pxq, .tm-no-options-composite");a.length>0&&a.each(function(e,a){var i=t(a);N(i,!1)});try{var i=t(L).not(".tm-no-options-pxq, .tm-no-options-composite");i.length>0&&i.each(function(e,a){var i=t(this),o=i.attr("data-product-id"),r=i.attr("data-epo-id"),n=!1,c=t(P+'[value="'+o+'"]').closest("form,.cart").first().parent();!c.length>0&&(c=t(R+'[value="'+o+'"]').closest("form,.cart").first().parent(),!c.length>0&&(c=i.closest("form,.cart").first().parent(".tm-has-options"),!c.length>0&&i.is(".tc-shortcode")&&(c=i.parent()),c.length>0&&(n=!0,i.closest("form,.cart").first().append(t('<input name="add-to-cart" value="'+o+'" type="hidden" />')),i.closest("form,.cart").first().append(t('<input type="hidden" value="" class="variation_id" name="variation_id">'))))),c.length>0&&N(c,n,o,r)})}catch(t){}}String.prototype.tmtoFloat=function(){var t=accounting.unformat(this,T),e=parseFloat(t);return isNaN(e)?t:e},String.prototype.tm_isNumeric=function(){return!isNaN(parseFloat(this))&&isFinite(this)};var T=""==tm_epo_js.tm_epo_global_input_decimal_separator?tm_epo_js.currency_format_decimal_sep:e(),z=""==tm_epo_js.tm_epo_global_displayed_decimal_separator?tm_epo_js.currency_format_decimal_sep:e(),D=""==tm_epo_js.tm_epo_global_displayed_decimal_separator?tm_epo_js.currency_format_thousand_sep:","==e()?".":",",I=!1,O=[],S=!1,M=window.tc_epo_delay||500,A=window.tc_epo_animation_delay||500,L=".tc-extra-product-options",P='input[name="add-to-cart"]',R="input.tc-add-to-cart",E=".add_to_cart_button, .single_add_to_cart_button",H=t("body"),U=!1,Z=".composite_data .composite_wrap .price .amount",W=".component_wrap .price",X=".woocommerce div.product p.price",B=t(window),G=t(document),Q={price:wp.template("tc-price"),sale_price:wp.template("tc-sale-price"),tc_section_pop_link:wp.template("tc-section-pop-link"),tc_floating_box:wp.template("tc-floating-box"),tc_floating_box_nks:wp.template("tc-floating-box-nks"),tc_chars_remanining:wp.template("tc-chars-remanining"),tc_final_totals:wp.template("tc-final-totals"),tc_lightbox:wp.template("tc-lightbox"),tc_lightbox_zoom:wp.template("tc-lightbox-zoom"),tc_formatted_price:wp.template("tc-formatted-price"),tc_upload_messages:wp.template("tc-upload-messages")};Q=t.tc_apply_filters("tc_adjust_template_engine",Q),t.extend(t.tc_validator.messages,{required:tm_epo_js.tm_epo_global_validator_messages.required,email:tm_epo_js.tm_epo_global_validator_messages.email,url:tm_epo_js.tm_epo_global_validator_messages.url,number:tm_epo_js.tm_epo_global_validator_messages.number,digits:tm_epo_js.tm_epo_global_validator_messages.digits,maxlength:t.tc_validator.format(tm_epo_js.tm_epo_global_validator_messages.maxlength),minlength:t.tc_validator.format(tm_epo_js.tm_epo_global_validator_messages.minlength),max:t.tc_validator.format(tm_epo_js.tm_epo_global_validator_messages.max),min:t.tc_validator.format(tm_epo_js.tm_epo_global_validator_messages.min)}),t.fn.tm_find_matching_variations=function(e,a){var i=[];if(e)for(var o=0;o<e.length;o++){var r=e[o];t.fn.tm_variations_match(r.attributes,a)&&i.push(r)}return i},t.fn.tm_variations_match=function(t,e){var a=!0;for(var i in t)if(t.hasOwnProperty(i)){var o=t[i],r=e[i];void 0!==o&&void 0!==r&&0!==o.length&&0!==r.length&&o!==r&&(a=!1)}return a},t().tclightbox||(t.fn.tclightbox=function(){var e=this;if(0!=e.length)return e.each(function(){var e=t(this);if(!e.is(".tcinit")){var a=e.attr("src")||e.attr("data-original"),i=e.closest("label"),o=i.closest(".tmcp-field-wrap").find(".tm-epo-field[id='"+i.attr("for")+"']");if(a=o.attr("data-imagel")||o.attr("data-imagep")||o.attr("data-image")||a){e.addClass("tcinit").before(t.fn.tm_template(Q.tc_lightbox,{}));var r=e.prev();r.prepend(e);var n=r.find(".tc-lightbox-button"),c=new Image;c.src=a,c.onload=function(){n.addClass("tcinit").on("click.tclightbox",function(){if(!(t(".tc-closing.tc-lightbox").length>0)){var e=t.tm_getPageSize(),i=t("<img>").addClass("tc-lightbox-img").attr("src",a).css("maxHeight",e[3]+"px"),o=t("body").tm_floatbox({fps:1,ismodal:!1,refresh:"fixed",width:"auto",height:"auto",top:"0%",left:"0%",classname:"flasho tc-lightbox",animateIn:"tc-lightbox-zoomIn",animateOut:"tc-lightbox-zoomOut",data:t.fn.tm_template(Q.tc_lightbox_zoom,{img:i[0].outerHTML}),zIndex:102001});t(".tc-lightbox-img, .tc-lightbox-button-close").on("click",function(){o.cancelfunc()})}})}}}})},G.ready(function(){t(".tc-lightbox-image").not(".tm-extra-product-options-variations .radio_image").tclightbox()})),t().tmsectionpoplink||(t.fn.tmsectionpoplink=function(){var e=this;if(0!=e.length)return e.each(function(){var e=t(this),a=e.attr("data-sectionid"),i=e.attr("data-title")?e.attr("data-title"):tm_epo_js.i18n_addition_options,o=t('.cpf-section[data-uniqid="'+a+'"]'),r=!1,n=t('<div class="fl-overlay"></div>').css({zIndex:e.zIndex-1,opacity:.8}),c=function(){var e=t("#tm-section-pop-up");e.parents().removeClass("noanimated"),n.unbind().remove(),e.after(o),e.remove(),o.find(".tm-section-link").show(),o.find(".tm-section-pop").hide()};e.on("click.tmsectionpoplink",function(e){e.preventDefault(),r=!1,n.appendTo("body").click(c),o.before(t.fn.tm_template(Q.tc_section_pop_link,{title:i,close:tm_epo_js.i18n_close}));var a=t("#tm-section-pop-up");a.find(".float_editbox").prepend(o),o.find(".tm-section-link").hide(),o.find(".tm-section-pop").show(),a.parents().addClass("noanimated"),a.find(".details_cancel").click(function(){r||(r=!0,c())}),B.trigger("tmlazy")})})}),t().cpfdependson||(t.fn.cpfdependson=function(e,a,i,o){var n=this,c=0;if(0!=n.length&&"object"==typeof e)return a||(a="show"),i||(i="all"),t.each(e,function(a,i){if("object"!=typeof e)return!0;var n=l(i.element);n&&n.length>0&&(n.each(function(e,a){var i=t(a),n=i.closest("form"),c=t(".tc-extra-product-options"+n.data("product_id_selector")+n.data("epo_id_selector"));if(a&&i.length>0&&(!i.data("tmhaslogicevents")||o)){if(i.is(".tm-epo-variation-element"))w("found_variation.tmlogic",!1,function(t,e){r(c),B.trigger("tm-do-epo-update")}),w("hide_variation.tmlogic",!1,function(t,e){r(c),B.trigger("tm-do-epo-update")});else{var d="change.cpflogic";(i.is(":text")||i.is("textarea"))&&(d="change.cpflogic keyup.cpflogic"),i.off(d).on(d,function(t){r(c)})}i.data("tmhaslogicevents",1);
}}),c++)}),n.each(function(o,r){var n=t(this),d=!1;switch(n.data("matches",c).data("toggle",a).data("what",i).data("fields",e),a){case"show":d=!1;break;case"hide":d=!0}d?n.removeClass("tc-hidden"):n.addClass("tc-hidden"),n.data("isactive",d)}),n.addClass("iscpfdependson").data("iscpfdependson",1),n.each(function(){t(this).addClass("is-epo-depend")})},t.fn.run_cpfdependson=function(){r()}),t.tcepo={temp_floatbox:!1,tm_init_epo:function(t,e,a,i){N(t,e,a,i)}},G.ready(function(){B.on("tc_init_epo_plugin",function(t){C(t)}),t.ajaxPrefilter(function(e,a,i){if("yes"==tm_epo_js.tm_epo_enable_in_shop){var o=!1,r=e.url.split("?");if(r&&r.length>=1&&(r=r[1])){for(var n=r.split("&"),c=0;c<n.length;c++){var d=n[c].split("=");d.length>=1&&d[0]&&d[1]&&"wc-ajax"==d[0]&&"add_to_cart"==d[1]&&(o=!0)}o&&(e.originalsuccess=e.success,e.success=function(i){if(i&&i.error&&i.product_url){var o=t('.ajax_add_to_cart[data-product_id="'+a.data.product_id+'"]');o.removeClass("added"),o.removeClass("loading")}else e.originalsuccess.call(null,i)})}}if("post"!==e.type.toLowerCase(),a.data){var s=a.data;"string"==typeof a.data&&(s=a.data.tmparseParams());var p=a.url.slice(a.url.indexOf("?")+1).tmparseParams();if("quantity"in s&&(s.product_id||s["add-to-cart"]||p.product_id||p["add-to-cart"])){var l=s.product_id||s["add-to-cart"]||p.product_id||p["add-to-cart"],m=t(".tc-extra-product-options.tm-product-id-"+l);if(1==m.length){var f=t(".tc-totals-form.tm-product-id-"+l).find(".cpf-product-price").val(),_=t(".tc-totals-form.tm-product-id-"+l).find(".tc_form_prefix").val(),u={tcajax:1,tcaddtocart:l,cpf_product_price:f};_&&(u.tc_form_prefix=_),e.data=t.param(t.extend("string"==typeof a.data?a.data.tmparseParams():a.data,m.tm_aserializeObject(),u),!1)}}}}),G.ajaxSuccess(function(e,a,i){t(".tm-cart-link").tmpoplink();var o={quick_view_plugin:t(".woocommerce.quick-view").not("body"),theme_flatsome:t(".product-lightbox"),theme_kleo:t("#productModal"),yith_quick_view_plugin:t("#yith-quick-view-modal,.yith-quick-view.yith-modal,.yith-quick-view.yith-inline"),venedor_quick_view_plugin:t(".quickview-wrap"),rubbez_quick_view:t("#quickview-content"),jckqv_quick_view:t("#jckqv"),themify_quick_view:t("#product_single_wrapper"),porto_quick_view:t(".quickview-wrap"),woocommerce_product_layouts:t(".dhvc-woo-product-quickview"),nm_getproduct:t("#popup")};for(var r in o)if(o.hasOwnProperty(r)&&o[r].length){if("yith_quick_view_plugin"==r&&!o[r].find(".product").length>0)continue;"jckqv_quick_view"!=r&&"yith_quick_view_plugin"!=r||(U=!0),S=o[r];var n=S.find(L).attr("data-product-id"),c=S.find(L).attr("data-epo-id");N(S,!0,n,c),B.trigger("tmlazy"),B.trigger("tm_epo_loaded_quickview"),t.jMaskGlobals&&S.find(t.jMaskGlobals.maskElements).each(function(){var e=t(this);e.attr("data-mask")&&e.mask(e.attr("data-mask"))})}}),t("#wholesale_form").on("submit",function(){var e=t("form.cart").find(P).val(),a=t(L+'.tm-cart-main[data-product-id="'+e+'"]').tm_clone(),i=t('.tm-totals-form-main[data-product-id="'+e+'"]').tm_clone(),o=t('<div class="tm-hidden tm-formepo"></div>');return o.append(a),o.append(i),t(this).append(o),!0}),C(),t(".tm-cart-link").tmpoplink(),H.on("updated_checkout",function(){t(".tm-cart-link").tmpoplink()}),B.trigger("tmlazy"),B.trigger("tm_epo_loaded")})}(jQuery),function(t){t(document).ready(function(){t(document).on("click",".jckqv-qty-spinner",function(){t(this).closest(".quantity").find("input.qty").trigger("change")}),t(document).on("click","#add_to_quote",function(e){if(tm_epo_js&&"yes"==tm_epo_js.tm_epo_global_enable_validation){var a=t(this).parents("form");if(a.length>0&&!a.tc_validate().form())return void e.stopImmediatePropagation()}})})}(jQuery);